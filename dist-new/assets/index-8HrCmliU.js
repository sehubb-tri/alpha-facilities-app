(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function l(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=l(u);fetch(u.href,h)}})();var zu={exports:{}},pl={};var Am;function Ev(){if(Am)return pl;Am=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:i,type:s,key:d,ref:u!==void 0?u:null,props:h}}return pl.Fragment=a,pl.jsx=l,pl.jsxs=l,pl}var Rm;function xv(){return Rm||(Rm=1,zu.exports=Ev()),zu.exports}var v=xv(),Mu={exports:{}},re={};var Om;function Tv(){if(Om)return re;Om=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,k={};function D(S,B,V){this.props=S,this.context=B,this.refs=k,this.updater=V||j}D.prototype.isReactComponent={},D.prototype.setState=function(S,B){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,B,"setState")},D.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function q(){}q.prototype=D.prototype;function M(S,B,V){this.props=S,this.context=B,this.refs=k,this.updater=V||j}var Z=M.prototype=new q;Z.constructor=M,O(Z,D.prototype),Z.isPureReactComponent=!0;var te=Array.isArray;function W(){}var K={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function we(S,B,V){var J=V.ref;return{$$typeof:i,type:S,key:B,ref:J!==void 0?J:null,props:V}}function ut(S,B){return we(S.type,B,S.props)}function Ct(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function nt(S){var B={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(V){return B[V]})}var en=/\/+/g;function Gt(S,B){return typeof S=="object"&&S!==null&&S.key!=null?nt(""+S.key):B.toString(36)}function it(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(W,W):(S.status="pending",S.then(function(B){S.status==="pending"&&(S.status="fulfilled",S.value=B)},function(B){S.status==="pending"&&(S.status="rejected",S.reason=B)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function H(S,B,V,J,se){var ce=typeof S;(ce==="undefined"||ce==="boolean")&&(S=null);var _e=!1;if(S===null)_e=!0;else switch(ce){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(S.$$typeof){case i:case a:_e=!0;break;case b:return _e=S._init,H(_e(S._payload),B,V,J,se)}}if(_e)return se=se(S),_e=J===""?"."+Gt(S,0):J,te(se)?(V="",_e!=null&&(V=_e.replace(en,"$&/")+"/"),H(se,B,V,"",function(xi){return xi})):se!=null&&(Ct(se)&&(se=ut(se,V+(se.key==null||S&&S.key===se.key?"":(""+se.key).replace(en,"$&/")+"/")+_e)),B.push(se)),1;_e=0;var lt=J===""?".":J+":";if(te(S))for(var Be=0;Be<S.length;Be++)J=S[Be],ce=lt+Gt(J,Be),_e+=H(J,B,V,ce,se);else if(Be=T(S),typeof Be=="function")for(S=Be.call(S),Be=0;!(J=S.next()).done;)J=J.value,ce=lt+Gt(J,Be++),_e+=H(J,B,V,ce,se);else if(ce==="object"){if(typeof S.then=="function")return H(it(S),B,V,J,se);throw B=String(S),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Y(S,B,V){if(S==null)return S;var J=[],se=0;return H(S,J,"","",function(ce){return B.call(V,ce,se++)}),J}function ae(S){if(S._status===-1){var B=S._result;B=B(),B.then(function(V){(S._status===0||S._status===-1)&&(S._status=1,S._result=V)},function(V){(S._status===0||S._status===-1)&&(S._status=2,S._result=V)}),S._status===-1&&(S._status=0,S._result=B)}if(S._status===1)return S._result.default;throw S._result}var X=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},F={map:Y,forEach:function(S,B,V){Y(S,function(){B.apply(this,arguments)},V)},count:function(S){var B=0;return Y(S,function(){B++}),B},toArray:function(S){return Y(S,function(B){return B})||[]},only:function(S){if(!Ct(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return re.Activity=_,re.Children=F,re.Component=D,re.Fragment=l,re.Profiler=u,re.PureComponent=M,re.StrictMode=s,re.Suspense=m,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,re.__COMPILER_RUNTIME={__proto__:null,c:function(S){return K.H.useMemoCache(S)}},re.cache=function(S){return function(){return S.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(S,B,V){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var J=O({},S.props),se=S.key;if(B!=null)for(ce in B.key!==void 0&&(se=""+B.key),B)!ye.call(B,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&B.ref===void 0||(J[ce]=B[ce]);var ce=arguments.length-2;if(ce===1)J.children=V;else if(1<ce){for(var _e=Array(ce),lt=0;lt<ce;lt++)_e[lt]=arguments[lt+2];J.children=_e}return we(S.type,se,J)},re.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:h,_context:S},S},re.createElement=function(S,B,V){var J,se={},ce=null;if(B!=null)for(J in B.key!==void 0&&(ce=""+B.key),B)ye.call(B,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(se[J]=B[J]);var _e=arguments.length-2;if(_e===1)se.children=V;else if(1<_e){for(var lt=Array(_e),Be=0;Be<_e;Be++)lt[Be]=arguments[Be+2];se.children=lt}if(S&&S.defaultProps)for(J in _e=S.defaultProps,_e)se[J]===void 0&&(se[J]=_e[J]);return we(S,ce,se)},re.createRef=function(){return{current:null}},re.forwardRef=function(S){return{$$typeof:g,render:S}},re.isValidElement=Ct,re.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:ae}},re.memo=function(S,B){return{$$typeof:y,type:S,compare:B===void 0?null:B}},re.startTransition=function(S){var B=K.T,V={};K.T=V;try{var J=S(),se=K.S;se!==null&&se(V,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(W,X)}catch(ce){X(ce)}finally{B!==null&&V.types!==null&&(B.types=V.types),K.T=B}},re.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},re.use=function(S){return K.H.use(S)},re.useActionState=function(S,B,V){return K.H.useActionState(S,B,V)},re.useCallback=function(S,B){return K.H.useCallback(S,B)},re.useContext=function(S){return K.H.useContext(S)},re.useDebugValue=function(){},re.useDeferredValue=function(S,B){return K.H.useDeferredValue(S,B)},re.useEffect=function(S,B){return K.H.useEffect(S,B)},re.useEffectEvent=function(S){return K.H.useEffectEvent(S)},re.useId=function(){return K.H.useId()},re.useImperativeHandle=function(S,B,V){return K.H.useImperativeHandle(S,B,V)},re.useInsertionEffect=function(S,B){return K.H.useInsertionEffect(S,B)},re.useLayoutEffect=function(S,B){return K.H.useLayoutEffect(S,B)},re.useMemo=function(S,B){return K.H.useMemo(S,B)},re.useOptimistic=function(S,B){return K.H.useOptimistic(S,B)},re.useReducer=function(S,B,V){return K.H.useReducer(S,B,V)},re.useRef=function(S){return K.H.useRef(S)},re.useState=function(S){return K.H.useState(S)},re.useSyncExternalStore=function(S,B,V){return K.H.useSyncExternalStore(S,B,V)},re.useTransition=function(){return K.H.useTransition()},re.version="19.2.3",re}var jm;function dc(){return jm||(jm=1,Mu.exports=Tv()),Mu.exports}var R=dc(),Bu={exports:{}},vl={},Lu={exports:{}},qu={};var Cm;function Av(){return Cm||(Cm=1,(function(i){function a(H,Y){var ae=H.length;H.push(Y);e:for(;0<ae;){var X=ae-1>>>1,F=H[X];if(0<u(F,Y))H[X]=Y,H[ae]=F,ae=X;else break e}}function l(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Y=H[0],ae=H.pop();if(ae!==Y){H[0]=ae;e:for(var X=0,F=H.length,S=F>>>1;X<S;){var B=2*(X+1)-1,V=H[B],J=B+1,se=H[J];if(0>u(V,ae))J<F&&0>u(se,V)?(H[X]=se,H[J]=ae,X=J):(H[X]=V,H[B]=ae,X=B);else if(J<F&&0>u(se,ae))H[X]=se,H[J]=ae,X=J;else break e}}return Y}function u(H,Y){var ae=H.sortIndex-Y.sortIndex;return ae!==0?ae:H.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var m=[],y=[],b=1,_=null,E=3,T=!1,j=!1,O=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Z(H){for(var Y=l(y);Y!==null;){if(Y.callback===null)s(y);else if(Y.startTime<=H)s(y),Y.sortIndex=Y.expirationTime,a(m,Y);else break;Y=l(y)}}function te(H){if(O=!1,Z(H),!j)if(l(m)!==null)j=!0,W||(W=!0,nt());else{var Y=l(y);Y!==null&&it(te,Y.startTime-H)}}var W=!1,K=-1,ye=5,we=-1;function ut(){return k?!0:!(i.unstable_now()-we<ye)}function Ct(){if(k=!1,W){var H=i.unstable_now();we=H;var Y=!0;try{e:{j=!1,O&&(O=!1,q(K),K=-1),T=!0;var ae=E;try{t:{for(Z(H),_=l(m);_!==null&&!(_.expirationTime>H&&ut());){var X=_.callback;if(typeof X=="function"){_.callback=null,E=_.priorityLevel;var F=X(_.expirationTime<=H);if(H=i.unstable_now(),typeof F=="function"){_.callback=F,Z(H),Y=!0;break t}_===l(m)&&s(m),Z(H)}else s(m);_=l(m)}if(_!==null)Y=!0;else{var S=l(y);S!==null&&it(te,S.startTime-H),Y=!1}}break e}finally{_=null,E=ae,T=!1}Y=void 0}}finally{Y?nt():W=!1}}}var nt;if(typeof M=="function")nt=function(){M(Ct)};else if(typeof MessageChannel<"u"){var en=new MessageChannel,Gt=en.port2;en.port1.onmessage=Ct,nt=function(){Gt.postMessage(null)}}else nt=function(){D(Ct,0)};function it(H,Y){K=D(function(){H(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var ae=E;E=Y;try{return H()}finally{E=ae}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=E;E=H;try{return Y()}finally{E=ae}},i.unstable_scheduleCallback=function(H,Y,ae){var X=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?X+ae:X):ae=X,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ae+F,H={id:b++,callback:Y,priorityLevel:H,startTime:ae,expirationTime:F,sortIndex:-1},ae>X?(H.sortIndex=ae,a(y,H),l(m)===null&&H===l(y)&&(O?(q(K),K=-1):O=!0,it(te,ae-X))):(H.sortIndex=F,a(m,H),j||T||(j=!0,W||(W=!0,nt()))),H},i.unstable_shouldYield=ut,i.unstable_wrapCallback=function(H){var Y=E;return function(){var ae=E;E=Y;try{return H.apply(this,arguments)}finally{E=ae}}}})(qu)),qu}var Nm;function Rv(){return Nm||(Nm=1,Lu.exports=Av()),Lu.exports}var Hu={exports:{}},at={};var km;function Ov(){if(km)return at;km=1;var i=dc();function a(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(m,y,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:m,containerInfo:y,implementation:b}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,at.createPortal=function(m,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return h(m,y,null,b)},at.flushSync=function(m){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=y,s.p=b,s.d.f()}},at.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},at.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},at.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var b=y.as,_=g(b,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):b==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},at.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},at.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,_=g(b,y.crossOrigin);s.d.L(m,b,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},at.preloadModule=function(m,y){if(typeof m=="string")if(y){var b=g(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},at.requestFormReset=function(m){s.d.r(m)},at.unstable_batchedUpdates=function(m,y){return m(y)},at.useFormState=function(m,y,b){return d.H.useFormState(m,y,b)},at.useFormStatus=function(){return d.H.useHostTransitionStatus()},at.version="19.2.3",at}var Um;function jv(){if(Um)return Hu.exports;Um=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Hu.exports=Ov(),Hu.exports}var Dm;function Cv(){if(Dm)return vl;Dm=1;var i=Rv(),a=dc(),l=jv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var c=o.alternate;if(c===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===n)return m(o),e;if(c===r)return m(o),t;c=c.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=c;else{for(var f=!1,p=o.child;p;){if(p===n){f=!0,n=o,r=c;break}if(p===r){f=!0,r=o,n=c;break}p=p.sibling}if(!f){for(p=c.child;p;){if(p===n){f=!0,n=c,r=o;break}if(p===r){f=!0,r=c,n=o;break}p=p.sibling}if(!f)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),Ct=Symbol.iterator;function nt(e){return e===null||typeof e!="object"?null:(e=Ct&&e[Ct]||e["@@iterator"],typeof e=="function"?e:null)}var en=Symbol.for("react.client.reference");function Gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===en?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case D:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case W:return"SuspenseList";case we:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case M:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Gt(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return Gt(e(t))}catch{}}return null}var it=Array.isArray,H=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},X=[],F=-1;function S(e){return{current:e}}function B(e){0>F||(e.current=X[F],X[F]=null,F--)}function V(e,t){F++,X[F]=e.current,e.current=t}var J=S(null),se=S(null),ce=S(null),_e=S(null);function lt(e,t){switch(V(ce,t),V(se,e),V(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xf(t),e=Pf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(J),V(J,e)}function Be(){B(J),B(se),B(ce)}function xi(e){e.memoizedState!==null&&V(_e,e);var t=J.current,n=Pf(t,e.type);t!==n&&(V(se,e),V(J,n))}function Ml(e){se.current===e&&(B(J),B(se)),_e.current===e&&(B(_e),fl._currentValue=ae)}var ys,xc;function ea(e){if(ys===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ys=t&&t[1]||"",xc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+xc}var ps=!1;function vs(e,t){if(!e||ps)return"";ps=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(z){var U=z}Reflect.construct(e,[],G)}else{try{G.call()}catch(z){U=z}e.call(G.prototype)}}else{try{throw Error()}catch(z){U=z}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(z){if(z&&U&&typeof z.stack=="string")return[z.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),f=c[0],p=c[1];if(f&&p){var w=f.split(`
`),N=p.split(`
`);for(o=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;if(r===w.length||o===N.length)for(r=w.length-1,o=N.length-1;1<=r&&0<=o&&w[r]!==N[o];)o--;for(;1<=r&&0<=o;r--,o--)if(w[r]!==N[o]){if(r!==1||o!==1)do if(r--,o--,0>o||w[r]!==N[o]){var L=`
`+w[r].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=r&&0<=o);break}}}finally{ps=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ea(n):""}function ey(e,t){switch(e.tag){case 26:case 27:case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return e.child!==t&&t!==null?ea("Suspense Fallback"):ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return vs(e.type,!1);case 11:return vs(e.type.render,!1);case 1:return vs(e.type,!0);case 31:return ea("Activity");default:return""}}function Tc(e){try{var t="",n=null;do t+=ey(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var bs=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,ws=i.unstable_cancelCallback,ty=i.unstable_shouldYield,ny=i.unstable_requestPaint,pt=i.unstable_now,ay=i.unstable_getCurrentPriorityLevel,Ac=i.unstable_ImmediatePriority,Rc=i.unstable_UserBlockingPriority,Bl=i.unstable_NormalPriority,iy=i.unstable_LowPriority,Oc=i.unstable_IdlePriority,ly=i.log,ry=i.unstable_setDisableYieldValue,Ti=null,vt=null;function An(e){if(typeof ly=="function"&&ry(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Ti,e)}catch{}}var bt=Math.clz32?Math.clz32:uy,sy=Math.log,oy=Math.LN2;function uy(e){return e>>>=0,e===0?32:31-(sy(e)/oy|0)|0}var Ll=256,ql=262144,Hl=4194304;function ta(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $l(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var p=r&134217727;return p!==0?(r=p&~c,r!==0?o=ta(r):(f&=p,f!==0?o=ta(f):n||(n=p&~e,n!==0&&(o=ta(n))))):(p=r&~c,p!==0?o=ta(p):f!==0?o=ta(f):n||(n=r&~e,n!==0&&(o=ta(n)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:o}function Ai(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function cy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(){var e=Hl;return Hl<<=1,(Hl&62914560)===0&&(Hl=4194304),e}function Ss(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ri(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hy(e,t,n,r,o,c){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var p=e.entanglements,w=e.expirationTimes,N=e.hiddenUpdates;for(n=f&~n;0<n;){var L=31-bt(n),G=1<<L;p[L]=0,w[L]=-1;var U=N[L];if(U!==null)for(N[L]=null,L=0;L<U.length;L++){var z=U[L];z!==null&&(z.lane&=-536870913)}n&=~G}r!==0&&Cc(e,r,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(f&~t))}function Cc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-bt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Nc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function kc(e,t){var n=t&-t;return n=(n&42)!==0?1:Es(n),(n&(e.suspendedLanes|t))!==0?0:n}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:bm(e.type))}function Dc(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var Rn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Rn,ct="__reactProps$"+Rn,Aa="__reactContainer$"+Rn,Ts="__reactEvents$"+Rn,dy="__reactListeners$"+Rn,fy="__reactHandles$"+Rn,zc="__reactResources$"+Rn,Oi="__reactMarker$"+Rn;function As(e){delete e[Xe],delete e[ct],delete e[Ts],delete e[dy],delete e[fy]}function Ra(e){var t=e[Xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Aa]||n[Xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=am(e);e!==null;){if(n=e[Xe])return n;e=am(e)}return t}e=n,n=e.parentNode}return null}function Oa(e){if(e=e[Xe]||e[Aa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function ja(e){var t=e[zc];return t||(t=e[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Oi]=!0}var Mc=new Set,Bc={};function na(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Bc[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var my=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lc={},qc={};function gy(e){return bs.call(qc,e)?!0:bs.call(Lc,e)?!1:my.test(e)?qc[e]=!0:(Lc[e]=!0,!1)}function Gl(e,t,n){if(gy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yy(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){n=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){if(!e._valueTracker){var t=Hc(e)?"checked":"value";e._valueTracker=yy(e,t,""+e[t])}}function $c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var py=/[\n"\\]/g;function kt(e){return e.replace(py,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Os(e,t,n,r,o,c,f,p){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?js(e,f,Nt(t)):n!=null?js(e,f,Nt(n)):r!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Nt(p):e.removeAttribute("name")}function Gc(e,t,n,r,o,c,f,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Rs(e);return}n=n!=null?""+Nt(n):"",t=t!=null?""+Nt(t):n,p||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=p?e.checked:!!r,e.defaultChecked=!!r,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Rs(e)}function js(e,t,n){t==="number"&&Yl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Na(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Vc(e,t,n){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Nt(n):""}function Yc(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(s(92));if(it(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Nt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Rs(e)}function ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||vy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Jc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Kc(e,o,r)}else for(var c in t)t.hasOwnProperty(c)&&Kc(e,c,t[c])}function Cs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kl(e){return _y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var Ns=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Da=null;function Zc(e){var t=Oa(e);if(t&&(e=t.stateNode)){var n=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(Os(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[ct]||null;if(!o)throw Error(s(90));Os(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&$c(r)}break e;case"textarea":Vc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Na(e,!!n.multiple,t,!1)}}}var Us=!1;function Qc(e,t,n){if(Us)return e(t,n);Us=!0;try{var r=e(t);return r}finally{if(Us=!1,(Ua!==null||Da!==null)&&(kr(),Ua&&(t=Ua,e=Da,Da=Ua=null,Zc(t),e)))for(t=0;t<e.length;t++)Zc(e[t])}}function Ci(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ct]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(an)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Ds=!1}var On=null,zs=null,Jl=null;function Xc(){if(Jl)return Jl;var e,t=zs,n=t.length,r,o="value"in On?On.value:On.textContent,c=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===o[c-r];r++);return Jl=o.slice(e,1<r?1-r:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function Pc(){return!1}function ht(e){function t(n,r,o,c,f){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ql:Pc,this.isPropagationStopped=Pc,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=ht(aa),ki=_({},aa,{view:0,detail:0}),wy=ht(ki),Ms,Bs,Ui,Pl=_({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Ms=e.screenX-Ui.screenX,Bs=e.screenY-Ui.screenY):Bs=Ms=0,Ui=e),Ms)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),Ic=ht(Pl),Sy=_({},Pl,{dataTransfer:0}),Ey=ht(Sy),xy=_({},ki,{relatedTarget:0}),Ls=ht(xy),Ty=_({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ay=ht(Ty),Ry=_({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oy=ht(Ry),jy=_({},aa,{data:0}),Wc=ht(jy),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ny={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ky[e])?!!t[e]:!1}function qs(){return Uy}var Dy=_({},ki,{key:function(e){if(e.key){var t=Cy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ny[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=ht(Dy),My=_({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=ht(My),By=_({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),Ly=ht(By),qy=_({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hy=ht(qy),$y=_({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=ht($y),Vy=_({},aa,{newState:0,oldState:0}),Yy=ht(Vy),Ky=[9,13,27,32],Hs=an&&"CompositionEvent"in window,Di=null;an&&"documentMode"in document&&(Di=document.documentMode);var Jy=an&&"TextEvent"in window&&!Di,eh=an&&(!Hs||Di&&8<Di&&11>=Di),th=" ",nh=!1;function ah(e,t){switch(e){case"keyup":return Ky.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function Zy(e,t){switch(e){case"compositionend":return ih(t);case"keypress":return t.which!==32?null:(nh=!0,th);case"textInput":return e=t.data,e===th&&nh?null:e;default:return null}}function Qy(e,t){if(za)return e==="compositionend"||!Hs&&ah(e,t)?(e=Xc(),Jl=zs=On=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eh&&t.locale!=="ko"?null:t.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xy[e.type]:t==="textarea"}function rh(e,t,n,r){Ua?Da?Da.push(r):Da=[r]:Ua=r,t=qr(t,"onChange"),0<t.length&&(n=new Xl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zi=null,Mi=null;function Py(e){Vf(e,0)}function Il(e){var t=ji(e);if($c(t))return e}function sh(e,t){if(e==="change")return t}var oh=!1;if(an){var $s;if(an){var Gs="oninput"in document;if(!Gs){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),Gs=typeof uh.oninput=="function"}$s=Gs}else $s=!1;oh=$s&&(!document.documentMode||9<document.documentMode)}function ch(){zi&&(zi.detachEvent("onpropertychange",hh),Mi=zi=null)}function hh(e){if(e.propertyName==="value"&&Il(Mi)){var t=[];rh(t,Mi,e,ks(e)),Qc(Py,t)}}function Iy(e,t,n){e==="focusin"?(ch(),zi=t,Mi=n,zi.attachEvent("onpropertychange",hh)):e==="focusout"&&ch()}function Wy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Mi)}function Fy(e,t){if(e==="click")return Il(t)}function ep(e,t){if(e==="input"||e==="change")return Il(t)}function tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:tp;function Bi(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!bs.call(t,o)||!_t(e[o],t[o]))return!1}return!0}function dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fh(e,t){var n=dh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dh(n)}}function mh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yl(e.document)}return t}function Vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var np=an&&"documentMode"in document&&11>=document.documentMode,Ma=null,Ys=null,Li=null,Ks=!1;function yh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ks||Ma==null||Ma!==Yl(r)||(r=Ma,"selectionStart"in r&&Vs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Li&&Bi(Li,r)||(Li=r,r=qr(Ys,"onSelect"),0<r.length&&(t=new Xl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ma)))}function ia(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ba={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Js={},ph={};an&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function la(e){if(Js[e])return Js[e];if(!Ba[e])return e;var t=Ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ph)return Js[e]=t[n];return e}var vh=la("animationend"),bh=la("animationiteration"),_h=la("animationstart"),ap=la("transitionrun"),ip=la("transitionstart"),lp=la("transitioncancel"),wh=la("transitionend"),Sh=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function Vt(e,t){Sh.set(e,t),na(t,[e])}var Wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],La=0,Qs=0;function Fl(){for(var e=La,t=Qs=La=0;t<e;){var n=Ut[t];Ut[t++]=null;var r=Ut[t];Ut[t++]=null;var o=Ut[t];Ut[t++]=null;var c=Ut[t];if(Ut[t++]=null,r!==null&&o!==null){var f=r.pending;f===null?o.next=o:(o.next=f.next,f.next=o),r.pending=o}c!==0&&Eh(n,o,c)}}function er(e,t,n,r){Ut[La++]=e,Ut[La++]=t,Ut[La++]=n,Ut[La++]=r,Qs|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Xs(e,t,n,r){return er(e,t,n,r),tr(e)}function ra(e,t){return er(e,null,null,t),tr(e)}function Eh(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var o=!1,c=e.return;c!==null;)c.childLanes|=n,r=c.alternate,r!==null&&(r.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-bt(n),e=c.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=n|536870912),c):null}function tr(e){if(50<rl)throw rl=0,lu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function rp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new rp(e,t,n,r)}function Ps(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function xh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nr(e,t,n,r,o,c){var f=0;if(r=e,typeof e=="function")Ps(e)&&(f=1);else if(typeof e=="string")f=hv(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case we:return e=wt(31,n,t,o),e.elementType=we,e.lanes=c,e;case O:return sa(n.children,o,c,t);case k:f=8,o|=24;break;case D:return e=wt(12,n,t,o|2),e.elementType=D,e.lanes=c,e;case te:return e=wt(13,n,t,o),e.elementType=te,e.lanes=c,e;case W:return e=wt(19,n,t,o),e.elementType=W,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:f=10;break e;case q:f=9;break e;case Z:f=11;break e;case K:f=14;break e;case ye:f=16,r=null;break e}f=29,n=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=wt(f,n,t,o),t.elementType=e,t.type=r,t.lanes=c,t}function sa(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function Is(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Th(e){var t=wt(18,null,null,0);return t.stateNode=e,t}function Ws(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ah=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var n=Ah.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Tc(t)},Ah.set(e,t),t)}return{value:e,source:t,stack:Tc(t)}}var Ha=[],$a=0,ar=null,qi=0,zt=[],Mt=0,jn=null,Pt=1,It="";function rn(e,t){Ha[$a++]=qi,Ha[$a++]=ar,ar=e,qi=t}function Rh(e,t,n){zt[Mt++]=Pt,zt[Mt++]=It,zt[Mt++]=jn,jn=e;var r=Pt;e=It;var o=32-bt(r)-1;r&=~(1<<o),n+=1;var c=32-bt(t)+o;if(30<c){var f=o-o%5;c=(r&(1<<f)-1).toString(32),r>>=f,o-=f,Pt=1<<32-bt(t)+o|n<<o|r,It=c+e}else Pt=1<<c|n<<o|r,It=e}function Fs(e){e.return!==null&&(rn(e,1),Rh(e,1,0))}function eo(e){for(;e===ar;)ar=Ha[--$a],Ha[$a]=null,qi=Ha[--$a],Ha[$a]=null;for(;e===jn;)jn=zt[--Mt],zt[Mt]=null,It=zt[--Mt],zt[Mt]=null,Pt=zt[--Mt],zt[Mt]=null}function Oh(e,t){zt[Mt++]=Pt,zt[Mt++]=It,zt[Mt++]=jn,Pt=t.id,It=t.overflow,jn=e}var Pe=null,je=null,ge=!1,Cn=null,Bt=!1,to=Error(s(519));function Nn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(Dt(t,e)),to}function jh(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Xe]=e,t[ct]=r,n){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(n=0;n<ol.length;n++)de(ol[n],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),Gc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Yc(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Zf(t.textContent,n)?(r.popover!=null&&(de("beforetoggle",t),de("toggle",t)),r.onScroll!=null&&de("scroll",t),r.onScrollEnd!=null&&de("scrollend",t),r.onClick!=null&&(t.onclick=nn),t=!0):t=!1,t||Nn(e,!0)}function Ch(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:Pe=Pe.return}}function Ga(e){if(e!==Pe)return!1;if(!ge)return Ch(e),ge=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||_u(e.type,e.memoizedProps)),n=!n),n&&je&&Nn(e),Ch(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));je=nm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));je=nm(e)}else t===27?(t=je,Kn(e.type)?(e=Tu,Tu=null,je=e):je=t):je=Pe?qt(e.stateNode.nextSibling):null;return!0}function oa(){je=Pe=null,ge=!1}function no(){var e=Cn;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),Cn=null),e}function Hi(e){Cn===null?Cn=[e]:Cn.push(e)}var ao=S(null),ua=null,sn=null;function kn(e,t,n){V(ao,t._currentValue),t._currentValue=n}function on(e){e._currentValue=ao.current,B(ao)}function io(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lo(e,t,n,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var f=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var w=0;w<t.length;w++)if(p.context===t[w]){c.lanes|=n,p=c.alternate,p!==null&&(p.lanes|=n),io(c.return,n,e),r||(f=null);break e}c=p.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(s(341));f.lanes|=n,c=f.alternate,c!==null&&(c.lanes|=n),io(f,n,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function Va(e,t,n,r){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(s(387));if(f=f.memoizedProps,f!==null){var p=o.type;_t(o.pendingProps.value,f.value)||(e!==null?e.push(p):e=[p])}}else if(o===_e.current){if(f=o.alternate,f===null)throw Error(s(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}o=o.return}e!==null&&lo(t,e,n,r),t.flags|=262144}function ir(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ua=e,sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ie(e){return Nh(ua,e)}function lr(e,t){return ua===null&&ca(e),Nh(e,t)}function Nh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},sn===null){if(e===null)throw Error(s(308));sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sn=sn.next=t;return n}var sp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},op=i.unstable_scheduleCallback,up=i.unstable_NormalPriority,He={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ro(){return{controller:new sp,data:new Map,refCount:0}}function $i(e){e.refCount--,e.refCount===0&&op(up,function(){e.controller.abort()})}var Gi=null,so=0,Ya=0,Ka=null;function cp(e,t){if(Gi===null){var n=Gi=[];so=0,Ya=hu(),Ka={status:"pending",value:void 0,then:function(r){n.push(r)}}}return so++,t.then(kh,kh),t}function kh(){if(--so===0&&Gi!==null){Ka!==null&&(Ka.status="fulfilled");var e=Gi;Gi=null,Ya=0,Ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hp(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var Uh=H.S;H.S=function(e,t){pf=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cp(e,t),Uh!==null&&Uh(e,t)};var ha=S(null);function oo(){var e=ha.current;return e!==null?e:Re.pooledCache}function rr(e,t){t===null?V(ha,ha.current):V(ha,t.pool)}function Dh(){var e=oo();return e===null?null:{parent:He._currentValue,pool:e}}var Ja=Error(s(460)),uo=Error(s(474)),sr=Error(s(542)),or={then:function(){}};function zh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nn,nn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e;default:if(typeof t.status=="string")t.then(nn,nn);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e}throw fa=t,Ja}}function da(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(fa=n,Ja):n}}var fa=null;function Bh(){if(fa===null)throw Error(s(459));var e=fa;return fa=null,e}function Lh(e){if(e===Ja||e===sr)throw Error(s(483))}var Za=null,Vi=0;function ur(e){var t=Vi;return Vi+=1,Za===null&&(Za=[]),Mh(Za,e,t)}function Yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function cr(e,t){throw t.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qh(e){function t(A,x){if(e){var C=A.deletions;C===null?(A.deletions=[x],A.flags|=16):C.push(x)}}function n(A,x){if(!e)return null;for(;x!==null;)t(A,x),x=x.sibling;return null}function r(A){for(var x=new Map;A!==null;)A.key!==null?x.set(A.key,A):x.set(A.index,A),A=A.sibling;return x}function o(A,x){return A=ln(A,x),A.index=0,A.sibling=null,A}function c(A,x,C){return A.index=C,e?(C=A.alternate,C!==null?(C=C.index,C<x?(A.flags|=67108866,x):C):(A.flags|=67108866,x)):(A.flags|=1048576,x)}function f(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function p(A,x,C,$){return x===null||x.tag!==6?(x=Is(C,A.mode,$),x.return=A,x):(x=o(x,C),x.return=A,x)}function w(A,x,C,$){var ee=C.type;return ee===O?L(A,x,C.props.children,$,C.key):x!==null&&(x.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ye&&da(ee)===x.type)?(x=o(x,C.props),Yi(x,C),x.return=A,x):(x=nr(C.type,C.key,C.props,null,A.mode,$),Yi(x,C),x.return=A,x)}function N(A,x,C,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=Ws(C,A.mode,$),x.return=A,x):(x=o(x,C.children||[]),x.return=A,x)}function L(A,x,C,$,ee){return x===null||x.tag!==7?(x=sa(C,A.mode,$,ee),x.return=A,x):(x=o(x,C),x.return=A,x)}function G(A,x,C){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Is(""+x,A.mode,C),x.return=A,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case T:return C=nr(x.type,x.key,x.props,null,A.mode,C),Yi(C,x),C.return=A,C;case j:return x=Ws(x,A.mode,C),x.return=A,x;case ye:return x=da(x),G(A,x,C)}if(it(x)||nt(x))return x=sa(x,A.mode,C,null),x.return=A,x;if(typeof x.then=="function")return G(A,ur(x),C);if(x.$$typeof===M)return G(A,lr(A,x),C);cr(A,x)}return null}function U(A,x,C,$){var ee=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ee!==null?null:p(A,x,""+C,$);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case T:return C.key===ee?w(A,x,C,$):null;case j:return C.key===ee?N(A,x,C,$):null;case ye:return C=da(C),U(A,x,C,$)}if(it(C)||nt(C))return ee!==null?null:L(A,x,C,$,null);if(typeof C.then=="function")return U(A,x,ur(C),$);if(C.$$typeof===M)return U(A,x,lr(A,C),$);cr(A,C)}return null}function z(A,x,C,$,ee){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return A=A.get(C)||null,p(x,A,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return A=A.get($.key===null?C:$.key)||null,w(x,A,$,ee);case j:return A=A.get($.key===null?C:$.key)||null,N(x,A,$,ee);case ye:return $=da($),z(A,x,C,$,ee)}if(it($)||nt($))return A=A.get(C)||null,L(x,A,$,ee,null);if(typeof $.then=="function")return z(A,x,C,ur($),ee);if($.$$typeof===M)return z(A,x,C,lr(x,$),ee);cr(x,$)}return null}function Q(A,x,C,$){for(var ee=null,pe=null,P=x,ue=x=0,me=null;P!==null&&ue<C.length;ue++){P.index>ue?(me=P,P=null):me=P.sibling;var ve=U(A,P,C[ue],$);if(ve===null){P===null&&(P=me);break}e&&P&&ve.alternate===null&&t(A,P),x=c(ve,x,ue),pe===null?ee=ve:pe.sibling=ve,pe=ve,P=me}if(ue===C.length)return n(A,P),ge&&rn(A,ue),ee;if(P===null){for(;ue<C.length;ue++)P=G(A,C[ue],$),P!==null&&(x=c(P,x,ue),pe===null?ee=P:pe.sibling=P,pe=P);return ge&&rn(A,ue),ee}for(P=r(P);ue<C.length;ue++)me=z(P,A,ue,C[ue],$),me!==null&&(e&&me.alternate!==null&&P.delete(me.key===null?ue:me.key),x=c(me,x,ue),pe===null?ee=me:pe.sibling=me,pe=me);return e&&P.forEach(function(Pn){return t(A,Pn)}),ge&&rn(A,ue),ee}function ne(A,x,C,$){if(C==null)throw Error(s(151));for(var ee=null,pe=null,P=x,ue=x=0,me=null,ve=C.next();P!==null&&!ve.done;ue++,ve=C.next()){P.index>ue?(me=P,P=null):me=P.sibling;var Pn=U(A,P,ve.value,$);if(Pn===null){P===null&&(P=me);break}e&&P&&Pn.alternate===null&&t(A,P),x=c(Pn,x,ue),pe===null?ee=Pn:pe.sibling=Pn,pe=Pn,P=me}if(ve.done)return n(A,P),ge&&rn(A,ue),ee;if(P===null){for(;!ve.done;ue++,ve=C.next())ve=G(A,ve.value,$),ve!==null&&(x=c(ve,x,ue),pe===null?ee=ve:pe.sibling=ve,pe=ve);return ge&&rn(A,ue),ee}for(P=r(P);!ve.done;ue++,ve=C.next())ve=z(P,A,ue,ve.value,$),ve!==null&&(e&&ve.alternate!==null&&P.delete(ve.key===null?ue:ve.key),x=c(ve,x,ue),pe===null?ee=ve:pe.sibling=ve,pe=ve);return e&&P.forEach(function(Sv){return t(A,Sv)}),ge&&rn(A,ue),ee}function Ae(A,x,C,$){if(typeof C=="object"&&C!==null&&C.type===O&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case T:e:{for(var ee=C.key;x!==null;){if(x.key===ee){if(ee=C.type,ee===O){if(x.tag===7){n(A,x.sibling),$=o(x,C.props.children),$.return=A,A=$;break e}}else if(x.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ye&&da(ee)===x.type){n(A,x.sibling),$=o(x,C.props),Yi($,C),$.return=A,A=$;break e}n(A,x);break}else t(A,x);x=x.sibling}C.type===O?($=sa(C.props.children,A.mode,$,C.key),$.return=A,A=$):($=nr(C.type,C.key,C.props,null,A.mode,$),Yi($,C),$.return=A,A=$)}return f(A);case j:e:{for(ee=C.key;x!==null;){if(x.key===ee)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){n(A,x.sibling),$=o(x,C.children||[]),$.return=A,A=$;break e}else{n(A,x);break}else t(A,x);x=x.sibling}$=Ws(C,A.mode,$),$.return=A,A=$}return f(A);case ye:return C=da(C),Ae(A,x,C,$)}if(it(C))return Q(A,x,C,$);if(nt(C)){if(ee=nt(C),typeof ee!="function")throw Error(s(150));return C=ee.call(C),ne(A,x,C,$)}if(typeof C.then=="function")return Ae(A,x,ur(C),$);if(C.$$typeof===M)return Ae(A,x,lr(A,C),$);cr(A,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,x!==null&&x.tag===6?(n(A,x.sibling),$=o(x,C),$.return=A,A=$):(n(A,x),$=Is(C,A.mode,$),$.return=A,A=$),f(A)):n(A,x)}return function(A,x,C,$){try{Vi=0;var ee=Ae(A,x,C,$);return Za=null,ee}catch(P){if(P===Ja||P===sr)throw P;var pe=wt(29,P,null,A.mode);return pe.lanes=$,pe.return=A,pe}}}var ma=qh(!0),Hh=qh(!1),Un=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(be&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=tr(e),Eh(e,null,n),t}return er(e,r,t,n),tr(e)}function Ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?o=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?o=c=t:c=c.next=t}else o=c=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var mo=!1;function Ji(){if(mo){var e=Ka;if(e!==null)throw e}}function Zi(e,t,n,r){mo=!1;var o=e.updateQueue;Un=!1;var c=o.firstBaseUpdate,f=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var w=p,N=w.next;w.next=null,f===null?c=N:f.next=N,f=w;var L=e.alternate;L!==null&&(L=L.updateQueue,p=L.lastBaseUpdate,p!==f&&(p===null?L.firstBaseUpdate=N:p.next=N,L.lastBaseUpdate=w))}if(c!==null){var G=o.baseState;f=0,L=N=w=null,p=c;do{var U=p.lane&-536870913,z=U!==p.lane;if(z?(fe&U)===U:(r&U)===U){U!==0&&U===Ya&&(mo=!0),L!==null&&(L=L.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Q=e,ne=p;U=t;var Ae=n;switch(ne.tag){case 1:if(Q=ne.payload,typeof Q=="function"){G=Q.call(Ae,G,U);break e}G=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ne.payload,U=typeof Q=="function"?Q.call(Ae,G,U):Q,U==null)break e;G=_({},G,U);break e;case 2:Un=!0}}U=p.callback,U!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[U]:z.push(U))}else z={lane:U,tag:p.tag,payload:p.payload,callback:p.callback,next:null},L===null?(N=L=z,w=G):L=L.next=z,f|=U;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;z=p,p=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);L===null&&(w=G),o.baseState=w,o.firstBaseUpdate=N,o.lastBaseUpdate=L,c===null&&(o.shared.lanes=0),Hn|=f,e.lanes=f,e.memoizedState=G}}function $h(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Gh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$h(n[e],t)}var Qa=S(null),hr=S(0);function Vh(e,t){e=pn,V(hr,e),V(Qa,t),pn=e|t.baseLanes}function go(){V(hr,pn),V(Qa,Qa.current)}function yo(){pn=hr.current,B(Qa),B(hr)}var St=S(null),Lt=null;function Mn(e){var t=e.alternate;V(Le,Le.current&1),V(St,e),Lt===null&&(t===null||Qa.current!==null||t.memoizedState!==null)&&(Lt=e)}function po(e){V(Le,Le.current),V(St,e),Lt===null&&(Lt=e)}function Yh(e){e.tag===22?(V(Le,Le.current),V(St,e),Lt===null&&(Lt=e)):Bn()}function Bn(){V(Le,Le.current),V(St,St.current)}function Et(e){B(St),Lt===e&&(Lt=null),B(Le)}var Le=S(0);function dr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Eu(n)||xu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,oe=null,xe=null,$e=null,fr=!1,Xa=!1,ga=!1,mr=0,Qi=0,Pa=null,dp=0;function De(){throw Error(s(321))}function vo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,o,c){return un=c,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?Rd:Do,ga=!1,c=n(r,o),ga=!1,Xa&&(c=Jh(t,n,r,o)),Kh(e),c}function Kh(e){H.H=Ii;var t=xe!==null&&xe.next!==null;if(un=0,$e=xe=oe=null,fr=!1,Qi=0,Pa=null,t)throw Error(s(300));e===null||Ge||(e=e.dependencies,e!==null&&ir(e)&&(Ge=!0))}function Jh(e,t,n,r){oe=e;var o=0;do{if(Xa&&(Pa=null),Qi=0,Xa=!1,25<=o)throw Error(s(301));if(o+=1,$e=xe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}H.H=Od,c=t(n,r)}while(Xa);return c}function fp(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Xi(t):t,e=e.useState()[0],(xe!==null?xe.memoizedState:null)!==e&&(oe.flags|=1024),t}function _o(){var e=mr!==0;return mr=0,e}function wo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function So(e){if(fr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fr=!1}un=0,$e=xe=oe=null,Xa=!1,Qi=mr=0,Pa=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?oe.memoizedState=$e=e:$e=$e.next=e,$e}function qe(){if(xe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=$e===null?oe.memoizedState:$e.next;if(t!==null)$e=t,xe=e;else{if(e===null)throw oe.alternate===null?Error(s(467)):Error(s(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},$e===null?oe.memoizedState=$e=e:$e=$e.next=e}return $e}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xi(e){var t=Qi;return Qi+=1,Pa===null&&(Pa=[]),e=Mh(Pa,e,t),t=oe,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?Rd:Do),e}function yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xi(e);if(e.$$typeof===M)return Ie(e)}throw Error(s(438,String(e)))}function Eo(e){var t=null,n=oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=oe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=gr(),oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ut;return t.index++,n}function cn(e,t){return typeof t=="function"?t(e):t}function pr(e){var t=qe();return xo(t,xe,e)}function xo(e,t,n){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var o=e.baseQueue,c=r.pending;if(c!==null){if(o!==null){var f=o.next;o.next=c.next,c.next=f}t.baseQueue=o=c,r.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=f=null,w=null,N=t,L=!1;do{var G=N.lane&-536870913;if(G!==N.lane?(fe&G)===G:(un&G)===G){var U=N.revertLane;if(U===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),G===Ya&&(L=!0);else if((un&U)===U){N=N.next,U===Ya&&(L=!0);continue}else G={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(p=w=G,f=c):w=w.next=G,oe.lanes|=U,Hn|=U;G=N.action,ga&&n(c,G),c=N.hasEagerState?N.eagerState:n(c,G)}else U={lane:G,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(p=w=U,f=c):w=w.next=U,oe.lanes|=G,Hn|=G;N=N.next}while(N!==null&&N!==t);if(w===null?f=c:w.next=p,!_t(c,e.memoizedState)&&(Ge=!0,L&&(n=Ka,n!==null)))throw n;e.memoizedState=c,e.baseState=f,e.baseQueue=w,r.lastRenderedState=c}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function To(e){var t=qe(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,c=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do c=e(c,f.action),f=f.next;while(f!==o);_t(c,t.memoizedState)||(Ge=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,r]}function Zh(e,t,n){var r=oe,o=qe(),c=ge;if(c){if(n===void 0)throw Error(s(407));n=n()}else n=t();var f=!_t((xe||o).memoizedState,n);if(f&&(o.memoizedState=n,Ge=!0),o=o.queue,Oo(Ph.bind(null,r,o,e),[e]),o.getSnapshot!==t||f||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,Ia(9,{destroy:void 0},Xh.bind(null,r,o,n,t),null),Re===null)throw Error(s(349));c||(un&127)!==0||Qh(r,t,n)}return n}function Qh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t=gr(),oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xh(e,t,n,r){t.value=n,t.getSnapshot=r,Ih(t)&&Wh(e)}function Ph(e,t,n){return n(function(){Ih(t)&&Wh(e)})}function Ih(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Wh(e){var t=ra(e,2);t!==null&&yt(t,e,2)}function Ao(e){var t=rt();if(typeof e=="function"){var n=e;if(e=n(),ga){An(!0);try{n()}finally{An(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},t}function Fh(e,t,n,r){return e.baseState=n,xo(e,xe,typeof r=="function"?r:cn)}function mp(e,t,n,r,o){if(_r(e))throw Error(s(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){c.listeners.push(f)}};H.T!==null?n(!0):c.isTransition=!1,r(c),n=t.pending,n===null?(c.next=t.pending=c,ed(t,c)):(c.next=n.next,t.pending=n.next=c)}}function ed(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var c=H.T,f={};H.T=f;try{var p=n(o,r),w=H.S;w!==null&&w(f,p),td(e,t,p)}catch(N){Ro(e,t,N)}finally{c!==null&&f.types!==null&&(c.types=f.types),H.T=c}}else try{c=n(o,r),td(e,t,c)}catch(N){Ro(e,t,N)}}function td(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){nd(e,t,r)},function(r){return Ro(e,t,r)}):nd(e,t,n)}function nd(e,t,n){t.status="fulfilled",t.value=n,ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ed(e,n)))}function Ro(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,ad(t),t=t.next;while(t!==r)}e.action=null}function ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function id(e,t){return t}function ld(e,t){if(ge){var n=Re.formState;if(n!==null){e:{var r=oe;if(ge){if(je){t:{for(var o=je,c=Bt;o.nodeType!==8;){if(!c){o=null;break t}if(o=qt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){je=qt(o.nextSibling),r=o.data==="F!";break e}}Nn(r)}r=!1}r&&(t=n[0])}}return n=rt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},n.queue=r,n=xd.bind(null,oe,r),r.dispatch=n,r=Ao(!1),c=Uo.bind(null,oe,!1,r.queue),r=rt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,n=mp.bind(null,oe,o,c,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function rd(e){var t=qe();return sd(t,xe,e)}function sd(e,t,n){if(t=xo(e,t,id)[0],e=pr(cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Xi(t)}catch(f){throw f===Ja?sr:f}else r=t;t=qe();var o=t.queue,c=o.dispatch;return n!==t.memoizedState&&(oe.flags|=2048,Ia(9,{destroy:void 0},gp.bind(null,o,n),null)),[r,c,e]}function gp(e,t){e.action=t}function od(e){var t=qe(),n=xe;if(n!==null)return sd(t,n,e);qe(),t=t.memoizedState,n=qe();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ia(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=oe.updateQueue,t===null&&(t=gr(),oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ud(){return qe().memoizedState}function vr(e,t,n,r){var o=rt();oe.flags|=e,o.memoizedState=Ia(1|t,{destroy:void 0},n,r===void 0?null:r)}function br(e,t,n,r){var o=qe();r=r===void 0?null:r;var c=o.memoizedState.inst;xe!==null&&r!==null&&vo(r,xe.memoizedState.deps)?o.memoizedState=Ia(t,c,n,r):(oe.flags|=e,o.memoizedState=Ia(1|t,c,n,r))}function cd(e,t){vr(8390656,8,e,t)}function Oo(e,t){br(2048,8,e,t)}function yp(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=gr(),oe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function hd(e){var t=qe().memoizedState;return yp({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function dd(e,t){return br(4,2,e,t)}function fd(e,t){return br(4,4,e,t)}function md(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gd(e,t,n){n=n!=null?n.concat([e]):null,br(4,4,md.bind(null,t,e),n)}function jo(){}function yd(e,t){var n=qe();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pd(e,t){var n=qe();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&vo(t,r[1]))return r[0];if(r=e(),ga){An(!0);try{e()}finally{An(!1)}}return n.memoizedState=[r,t],r}function Co(e,t,n){return n===void 0||(un&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=bf(),oe.lanes|=e,Hn|=e,n)}function vd(e,t,n,r){return _t(n,t)?n:Qa.current!==null?(e=Co(e,n,r),_t(e,t)||(Ge=!0),e):(un&42)===0||(un&1073741824)!==0&&(fe&261930)===0?(Ge=!0,e.memoizedState=n):(e=bf(),oe.lanes|=e,Hn|=e,t)}function bd(e,t,n,r,o){var c=Y.p;Y.p=c!==0&&8>c?c:8;var f=H.T,p={};H.T=p,Uo(e,!1,t,n);try{var w=o(),N=H.S;if(N!==null&&N(p,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var L=hp(w,r);Pi(e,t,L,At(e))}else Pi(e,t,r,At(e))}catch(G){Pi(e,t,{then:function(){},status:"rejected",reason:G},At())}finally{Y.p=c,f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}function pp(){}function No(e,t,n,r){if(e.tag!==5)throw Error(s(476));var o=_d(e).queue;bd(e,o,t,ae,n===null?pp:function(){return wd(e),n(r)})}function _d(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:ae},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wd(e){var t=_d(e);t.next===null&&(t=e.alternate.memoizedState),Pi(e,t.next.queue,{},At())}function ko(){return Ie(fl)}function Sd(){return qe().memoizedState}function Ed(){return qe().memoizedState}function vp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=At();e=Dn(n);var r=zn(t,e,n);r!==null&&(yt(r,t,n),Ki(r,t,n)),t={cache:ro()},e.payload=t;return}t=t.return}}function bp(e,t,n){var r=At();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_r(e)?Td(t,n):(n=Xs(e,t,n,r),n!==null&&(yt(n,e,r),Ad(n,t,r)))}function xd(e,t,n){var r=At();Pi(e,t,n,r)}function Pi(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_r(e))Td(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,p=c(f,n);if(o.hasEagerState=!0,o.eagerState=p,_t(p,f))return er(e,t,o,0),Re===null&&Fl(),!1}catch{}if(n=Xs(e,t,o,r),n!==null)return yt(n,e,r),Ad(n,t,r),!0}return!1}function Uo(e,t,n,r){if(r={lane:2,revertLane:hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_r(e)){if(t)throw Error(s(479))}else t=Xs(e,n,r,2),t!==null&&yt(t,e,2)}function _r(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Td(e,t){Xa=fr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ad(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}var Ii={readContext:Ie,use:yr,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};Ii.useEffectEvent=De;var Rd={readContext:Ie,use:yr,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Ie,useEffect:cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vr(4194308,4,md.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vr(4194308,4,e,t)},useInsertionEffect:function(e,t){vr(4,2,e,t)},useMemo:function(e,t){var n=rt();t=t===void 0?null:t;var r=e();if(ga){An(!0);try{e()}finally{An(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=rt();if(n!==void 0){var o=n(t);if(ga){An(!0);try{n(t)}finally{An(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=bp.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,n=xd.bind(null,oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:jo,useDeferredValue:function(e,t){var n=rt();return Co(n,e,t)},useTransition:function(){var e=Ao(!1);return e=bd.bind(null,oe,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=oe,o=rt();if(ge){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Re===null)throw Error(s(349));(fe&127)!==0||Qh(r,t,n)}o.memoizedState=n;var c={value:n,getSnapshot:t};return o.queue=c,cd(Ph.bind(null,r,c,e),[e]),r.flags|=2048,Ia(9,{destroy:void 0},Xh.bind(null,r,c,n,t),null),n},useId:function(){var e=rt(),t=Re.identifierPrefix;if(ge){var n=It,r=Pt;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=mr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=dp++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ko,useFormState:ld,useActionState:ld,useOptimistic:function(e){var t=rt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Uo.bind(null,oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return rt().memoizedState=vp.bind(null,oe)},useEffectEvent:function(e){var t=rt(),n={impl:e};return t.memoizedState=n,function(){if((be&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Do={readContext:Ie,use:yr,useCallback:yd,useContext:Ie,useEffect:Oo,useImperativeHandle:gd,useInsertionEffect:dd,useLayoutEffect:fd,useMemo:pd,useReducer:pr,useRef:ud,useState:function(){return pr(cn)},useDebugValue:jo,useDeferredValue:function(e,t){var n=qe();return vd(n,xe.memoizedState,e,t)},useTransition:function(){var e=pr(cn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Xi(e),t]},useSyncExternalStore:Zh,useId:Sd,useHostTransitionStatus:ko,useFormState:rd,useActionState:rd,useOptimistic:function(e,t){var n=qe();return Fh(n,xe,e,t)},useMemoCache:Eo,useCacheRefresh:Ed};Do.useEffectEvent=hd;var Od={readContext:Ie,use:yr,useCallback:yd,useContext:Ie,useEffect:Oo,useImperativeHandle:gd,useInsertionEffect:dd,useLayoutEffect:fd,useMemo:pd,useReducer:To,useRef:ud,useState:function(){return To(cn)},useDebugValue:jo,useDeferredValue:function(e,t){var n=qe();return xe===null?Co(n,e,t):vd(n,xe.memoizedState,e,t)},useTransition:function(){var e=To(cn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Xi(e),t]},useSyncExternalStore:Zh,useId:Sd,useHostTransitionStatus:ko,useFormState:od,useActionState:od,useOptimistic:function(e,t){var n=qe();return xe!==null?Fh(n,xe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:Ed};Od.useEffectEvent=hd;function zo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=At(),o=Dn(r);o.payload=t,n!=null&&(o.callback=n),t=zn(e,o,r),t!==null&&(yt(t,e,r),Ki(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=At(),o=Dn(r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=zn(e,o,r),t!==null&&(yt(t,e,r),Ki(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),r=Dn(n);r.tag=2,t!=null&&(r.callback=t),t=zn(e,r,n),t!==null&&(yt(t,e,n),Ki(t,e,n))}};function jd(e,t,n,r,o,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,f):t.prototype&&t.prototype.isPureReactComponent?!Bi(n,r)||!Bi(o,c):!0}function Cd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function ya(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Nd(e){Wl(e)}function kd(e){console.error(e)}function Ud(e){Wl(e)}function wr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Dd(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,n){return n=Dn(n),n.tag=3,n.payload={element:null},n.callback=function(){wr(e,t)},n}function zd(e){return e=Dn(e),e.tag=3,e}function Md(e,t,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var c=r.value;e.payload=function(){return o(c)},e.callback=function(){Dd(t,n,r)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Dd(t,n,r),typeof o!="function"&&($n===null?$n=new Set([this]):$n.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})})}function _p(e,t,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Va(t,n,o,!0),n=St.current,n!==null){switch(n.tag){case 31:case 13:return Lt===null?Ur():n.alternate===null&&ze===0&&(ze=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===or?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return n.flags|=65536,r===or?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),ou(e,r,o)),!1}throw Error(s(435,n.tag))}return ou(e,r,o),Ur(),!1}if(ge)return t=St.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==to&&(e=Error(s(422),{cause:r}),Hi(Dt(e,n)))):(r!==to&&(t=Error(s(423),{cause:r}),Hi(Dt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Dt(r,n),o=Bo(e.stateNode,r,o),fo(e,o),ze!==4&&(ze=2)),!1;var c=Error(s(520),{cause:r});if(c=Dt(c,n),ll===null?ll=[c]:ll.push(c),ze!==4&&(ze=2),t===null)return!0;r=Dt(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Bo(n.stateNode,r,e),fo(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&($n===null||!$n.has(c))))return n.flags|=65536,o&=-o,n.lanes|=o,o=zd(o),Md(o,e,n,r),fo(n,o),!1}n=n.return}while(n!==null);return!1}var Lo=Error(s(461)),Ge=!1;function We(e,t,n,r){t.child=e===null?Hh(t,null,n,r):ma(t,e.child,n,r)}function Bd(e,t,n,r,o){n=n.render;var c=t.ref;if("ref"in r){var f={};for(var p in r)p!=="ref"&&(f[p]=r[p])}else f=r;return ca(t),r=bo(e,t,n,f,c,o),p=_o(),e!==null&&!Ge?(wo(e,t,o),hn(e,t,o)):(ge&&p&&Fs(t),t.flags|=1,We(e,t,r,o),t.child)}function Ld(e,t,n,r,o){if(e===null){var c=n.type;return typeof c=="function"&&!Ps(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,qd(e,t,c,r,o)):(e=nr(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Jo(e,o)){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(f,r)&&e.ref===t.ref)return hn(e,t,o)}return t.flags|=1,e=ln(c,r),e.ref=t.ref,e.return=t,t.child=e}function qd(e,t,n,r,o){if(e!==null){var c=e.memoizedProps;if(Bi(c,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=c,Jo(e,o))(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,hn(e,t,o)}return qo(e,t,n,r,o)}function Hd(e,t,n,r){var o=r.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~c}else r=0,t.child=null;return $d(e,t,c,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rr(t,c!==null?c.cachePool:null),c!==null?Vh(t,c):go(),Yh(t);else return r=t.lanes=536870912,$d(e,t,c!==null?c.baseLanes|n:n,n,r)}else c!==null?(rr(t,c.cachePool),Vh(t,c),Bn(),t.memoizedState=null):(e!==null&&rr(t,null),go(),Bn());return We(e,t,o,n),t.child}function Wi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $d(e,t,n,r,o){var c=oo();return c=c===null?null:{parent:He._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&rr(t,null),go(),Yh(t),e!==null&&Va(e,t,r,!0),t.childLanes=o,null}function Sr(e,t){return t=xr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gd(e,t,n){return ma(t,e.child,null,n),e=Sr(t,t.pendingProps),e.flags|=2,Et(t),t.memoizedState=null,e}function wp(e,t,n){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(r.mode==="hidden")return e=Sr(t,r),t.lanes=536870912,Wi(null,e);if(po(t),(e=je)?(e=tm(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:Pt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},n=Th(e),n.return=t,t.child=n,Pe=t,je=null)):e=null,e===null)throw Nn(t);return t.lanes=536870912,null}return Sr(t,r)}var c=e.memoizedState;if(c!==null){var f=c.dehydrated;if(po(t),o)if(t.flags&256)t.flags&=-257,t=Gd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ge||Va(e,t,n,!1),o=(n&e.childLanes)!==0,Ge||o){if(r=Re,r!==null&&(f=kc(r,n),f!==0&&f!==c.retryLane))throw c.retryLane=f,ra(e,f),yt(r,e,f),Lo;Ur(),t=Gd(e,t,n)}else e=c.treeContext,je=qt(f.nextSibling),Pe=t,ge=!0,Cn=null,Bt=!1,e!==null&&Oh(t,e),t=Sr(t,r),t.flags|=4096;return t}return e=ln(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Er(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qo(e,t,n,r,o){return ca(t),n=bo(e,t,n,r,void 0,o),r=_o(),e!==null&&!Ge?(wo(e,t,o),hn(e,t,o)):(ge&&r&&Fs(t),t.flags|=1,We(e,t,n,o),t.child)}function Vd(e,t,n,r,o,c){return ca(t),t.updateQueue=null,n=Jh(t,r,n,o),Kh(e),r=_o(),e!==null&&!Ge?(wo(e,t,c),hn(e,t,c)):(ge&&r&&Fs(t),t.flags|=1,We(e,t,n,c),t.child)}function Yd(e,t,n,r,o){if(ca(t),t.stateNode===null){var c=qa,f=n.contextType;typeof f=="object"&&f!==null&&(c=Ie(f)),c=new n(r,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Mo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=r,c.state=t.memoizedState,c.refs={},co(t),f=n.contextType,c.context=typeof f=="object"&&f!==null?Ie(f):qa,c.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(zo(t,n,f,r),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(f=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),f!==c.state&&Mo.enqueueReplaceState(c,c.state,null),Zi(t,r,c,o),Ji(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,w=ya(n,p);c.props=w;var N=c.context,L=n.contextType;f=qa,typeof L=="object"&&L!==null&&(f=Ie(L));var G=n.getDerivedStateFromProps;L=typeof G=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,L||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||N!==f)&&Cd(t,c,r,f),Un=!1;var U=t.memoizedState;c.state=U,Zi(t,r,c,o),Ji(),N=t.memoizedState,p||U!==N||Un?(typeof G=="function"&&(zo(t,n,G,r),N=t.memoizedState),(w=Un||jd(t,n,w,r,U,N,f))?(L||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=N),c.props=r,c.state=N,c.context=f,r=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,ho(e,t),f=t.memoizedProps,L=ya(n,f),c.props=L,G=t.pendingProps,U=c.context,N=n.contextType,w=qa,typeof N=="object"&&N!==null&&(w=Ie(N)),p=n.getDerivedStateFromProps,(N=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==G||U!==w)&&Cd(t,c,r,w),Un=!1,U=t.memoizedState,c.state=U,Zi(t,r,c,o),Ji();var z=t.memoizedState;f!==G||U!==z||Un||e!==null&&e.dependencies!==null&&ir(e.dependencies)?(typeof p=="function"&&(zo(t,n,p,r),z=t.memoizedState),(L=Un||jd(t,n,L,r,U,z,w)||e!==null&&e.dependencies!==null&&ir(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,z,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,z,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),c.props=r,c.state=z,c.context=w,r=L):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),r=!1)}return c=r,Er(e,t),r=(t.flags&128)!==0,c||r?(c=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&r?(t.child=ma(t,e.child,null,o),t.child=ma(t,null,n,o)):We(e,t,n,o),t.memoizedState=c.state,e=t.child):e=hn(e,t,o),e}function Kd(e,t,n,r){return oa(),t.flags|=256,We(e,t,n,r),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:Dh()}}function Go(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Tt),e}function Jd(e,t,n){var r=t.pendingProps,o=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(o?Mn(t):Bn(),(e=je)?(e=tm(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:Pt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},n=Th(e),n.return=t,t.child=n,Pe=t,je=null)):e=null,e===null)throw Nn(t);return xu(e)?t.lanes=32:t.lanes=536870912,null}var p=r.children;return r=r.fallback,o?(Bn(),o=t.mode,p=xr({mode:"hidden",children:p},o),r=sa(r,o,n,null),p.return=t,r.return=t,p.sibling=r,t.child=p,r=t.child,r.memoizedState=$o(n),r.childLanes=Go(e,f,n),t.memoizedState=Ho,Wi(null,r)):(Mn(t),Vo(t,p))}var w=e.memoizedState;if(w!==null&&(p=w.dehydrated,p!==null)){if(c)t.flags&256?(Mn(t),t.flags&=-257,t=Yo(e,t,n)):t.memoizedState!==null?(Bn(),t.child=e.child,t.flags|=128,t=null):(Bn(),p=r.fallback,o=t.mode,r=xr({mode:"visible",children:r.children},o),p=sa(p,o,n,null),p.flags|=2,r.return=t,p.return=t,r.sibling=p,t.child=r,ma(t,e.child,null,n),r=t.child,r.memoizedState=$o(n),r.childLanes=Go(e,f,n),t.memoizedState=Ho,t=Wi(null,r));else if(Mn(t),xu(p)){if(f=p.nextSibling&&p.nextSibling.dataset,f)var N=f.dgst;f=N,r=Error(s(419)),r.stack="",r.digest=f,Hi({value:r,source:null,stack:null}),t=Yo(e,t,n)}else if(Ge||Va(e,t,n,!1),f=(n&e.childLanes)!==0,Ge||f){if(f=Re,f!==null&&(r=kc(f,n),r!==0&&r!==w.retryLane))throw w.retryLane=r,ra(e,r),yt(f,e,r),Lo;Eu(p)||Ur(),t=Yo(e,t,n)}else Eu(p)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,je=qt(p.nextSibling),Pe=t,ge=!0,Cn=null,Bt=!1,e!==null&&Oh(t,e),t=Vo(t,r.children),t.flags|=4096);return t}return o?(Bn(),p=r.fallback,o=t.mode,w=e.child,N=w.sibling,r=ln(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,N!==null?p=ln(N,p):(p=sa(p,o,n,null),p.flags|=2),p.return=t,r.return=t,r.sibling=p,t.child=r,Wi(null,r),r=t.child,p=e.child.memoizedState,p===null?p=$o(n):(o=p.cachePool,o!==null?(w=He._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Dh(),p={baseLanes:p.baseLanes|n,cachePool:o}),r.memoizedState=p,r.childLanes=Go(e,f,n),t.memoizedState=Ho,Wi(e.child,r)):(Mn(t),n=e.child,e=n.sibling,n=ln(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Vo(e,t){return t=xr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xr(e,t){return e=wt(22,e,null,t),e.lanes=0,e}function Yo(e,t,n){return ma(t,e.child,null,n),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),io(e.return,t,n)}function Ko(e,t,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=n,f.tailMode=o,f.treeForkCount=c)}function Qd(e,t,n){var r=t.pendingProps,o=r.revealOrder,c=r.tail;r=r.children;var f=Le.current,p=(f&2)!==0;if(p?(f=f&1|2,t.flags|=128):f&=1,V(Le,f),We(e,t,r,n),r=ge?qi:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,n,t);else if(e.tag===19)Zd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&dr(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ko(t,!1,o,n,c,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&dr(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ko(t,!0,n,null,c,r);break;case"together":Ko(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Va(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ir(e)))}function Sp(e,t,n){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),kn(t,He,e.memoizedState.cache),oa();break;case 27:case 5:xi(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,po(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Mn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jd(e,t,n):(Mn(t),e=hn(e,t,n),e!==null?e.sibling:null);Mn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Va(e,t,n,!1),r=(n&t.childLanes)!==0),o){if(r)return Qd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Le,Le.current),r)break;return null;case 22:return t.lanes=0,Hd(e,t,n,t.pendingProps);case 24:kn(t,He,e.memoizedState.cache)}return hn(e,t,n)}function Xd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ge=!0;else{if(!Jo(e,n)&&(t.flags&128)===0)return Ge=!1,Sp(e,t,n);Ge=(e.flags&131072)!==0}else Ge=!1,ge&&(t.flags&1048576)!==0&&Rh(t,qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=da(t.elementType),t.type=e,typeof e=="function")Ps(e)?(r=ya(e,r),t.tag=1,t=Yd(null,t,e,r,n)):(t.tag=0,t=qo(null,t,e,r,n));else{if(e!=null){var o=e.$$typeof;if(o===Z){t.tag=11,t=Bd(null,t,e,r,n);break e}else if(o===K){t.tag=14,t=Ld(null,t,e,r,n);break e}}throw t=Gt(e)||e,Error(s(306,t,""))}}return t;case 0:return qo(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,o=ya(r,t.pendingProps),Yd(e,t,r,o,n);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var c=t.memoizedState;o=c.element,ho(e,t),Zi(t,r,null,n);var f=t.memoizedState;if(r=f.cache,kn(t,He,r),r!==c.cache&&lo(t,[He],n,!0),Ji(),r=f.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Kd(e,t,r,n);break e}else if(r!==o){o=Dt(Error(s(424)),t),Hi(o),t=Kd(e,t,r,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,je=qt(e.firstChild),Pe=t,ge=!0,Cn=null,Bt=!0,n=Hh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),r===o){t=hn(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 26:return Er(e,t),e===null?(n=sm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ge||(n=t.type,e=t.pendingProps,r=Hr(ce.current).createElement(n),r[Xe]=t,r[ct]=e,Fe(r,n,e),Ze(r),t.stateNode=r):t.memoizedState=sm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xi(t),e===null&&ge&&(r=t.stateNode=im(t.type,t.pendingProps,ce.current),Pe=t,Bt=!0,o=je,Kn(t.type)?(Tu=o,je=qt(r.firstChild)):je=o),We(e,t,t.pendingProps.children,n),Er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((o=r=je)&&(r=Wp(r,t.type,t.pendingProps,Bt),r!==null?(t.stateNode=r,Pe=t,je=qt(r.firstChild),Bt=!1,o=!0):o=!1),o||Nn(t)),xi(t),o=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,r=c.children,_u(o,c)?r=null:f!==null&&_u(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=bo(e,t,fp,null,null,n),fl._currentValue=o),Er(e,t),We(e,t,r,n),t.child;case 6:return e===null&&ge&&((e=n=je)&&(n=Fp(n,t.pendingProps,Bt),n!==null?(t.stateNode=n,Pe=t,je=null,e=!0):e=!1),e||Nn(t)),null;case 13:return Jd(e,t,n);case 4:return lt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ma(t,null,r,n):We(e,t,r,n),t.child;case 11:return Bd(e,t,t.type,t.pendingProps,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,kn(t,t.type,r.value),We(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,ca(t),o=Ie(o),r=r(o),t.flags|=1,We(e,t,r,n),t.child;case 14:return Ld(e,t,t.type,t.pendingProps,n);case 15:return qd(e,t,t.type,t.pendingProps,n);case 19:return Qd(e,t,n);case 31:return wp(e,t,n);case 22:return Hd(e,t,n,t.pendingProps);case 24:return ca(t),r=Ie(He),e===null?(o=oo(),o===null&&(o=Re,c=ro(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=n),o=c),t.memoizedState={parent:r,cache:o},co(t),kn(t,He,o)):((e.lanes&n)!==0&&(ho(e,t),Zi(t,null,null,n),Ji()),o=e.memoizedState,c=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),kn(t,He,r)):(r=c.cache,kn(t,He,r),r!==o.cache&&lo(t,[He],n,!0))),We(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function dn(e){e.flags|=4}function Zo(e,t,n,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Ef())e.flags|=8192;else throw fa=or,uo}else e.flags&=-16777217}function Pd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dm(t))if(Ef())e.flags|=8192;else throw fa=or,uo}function Tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?jc():536870912,e.lanes|=t,ti|=t)}function Fi(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ep(e,t,n){var r=t.pendingProps;switch(eo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),on(He),Be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?dn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,no())),Ce(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(dn(t),c!==null?(Ce(t),Pd(t,c)):(Ce(t),Zo(t,o,null,r,n))):c?c!==e.memoizedState?(dn(t),Ce(t),Pd(t,c)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&dn(t),Ce(t),Zo(t,o,e,r,n)),null;case 27:if(Ml(t),n=ce.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&dn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Ce(t),null}e=J.current,Ga(t)?jh(t):(e=im(o,r,n),t.stateNode=e,dn(t))}return Ce(t),null;case 5:if(Ml(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&dn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Ce(t),null}if(c=J.current,Ga(t))jh(t);else{var f=Hr(ce.current);switch(c){case 1:c=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=f.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?c.multiple=!0:r.size&&(c.size=r.size);break;default:c=typeof r.is=="string"?f.createElement(o,{is:r.is}):f.createElement(o)}}c[Xe]=t,c[ct]=r;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)c.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=c;e:switch(Fe(c,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&dn(t)}}return Ce(t),Zo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&dn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=ce.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,o=Pe,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Xe]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Zf(e.nodeValue,n)),e||Nn(t,!0)}else e=Hr(e).createTextNode(r),e[Xe]=t,t.stateNode=e}return Ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ga(t),n!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Xe]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else n=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Et(t),t):(Et(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ce(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ga(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[Xe]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),o=!1}else o=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Et(t),t):(Et(t),null)}return Et(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Tr(t,t.updateQueue),Ce(t),null);case 4:return Be(),e===null&&gu(t.stateNode.containerInfo),Ce(t),null;case 10:return on(t.type),Ce(t),null;case 19:if(B(Le),r=t.memoizedState,r===null)return Ce(t),null;if(o=(t.flags&128)!==0,c=r.rendering,c===null)if(o)Fi(r,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=dr(e),c!==null){for(t.flags|=128,Fi(r,!1),e=c.updateQueue,t.updateQueue=e,Tr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)xh(n,e),n=n.sibling;return V(Le,Le.current&1|2),ge&&rn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&pt()>Cr&&(t.flags|=128,o=!0,Fi(r,!1),t.lanes=4194304)}else{if(!o)if(e=dr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Tr(t,e),Fi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!ge)return Ce(t),null}else 2*pt()-r.renderingStartTime>Cr&&n!==536870912&&(t.flags|=128,o=!0,Fi(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=pt(),e.sibling=null,n=Le.current,V(Le,o?n&1|2:n&1),ge&&rn(t,r.treeForkCount),e):(Ce(t),null);case 22:case 23:return Et(t),yo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),n=t.updateQueue,n!==null&&Tr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&B(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),on(He),Ce(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function xp(e,t){switch(eo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(He),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ml(t),null;case 31:if(t.memoizedState!==null){if(Et(t),t.alternate===null)throw Error(s(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Et(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Le),null;case 4:return Be(),null;case 10:return on(t.type),null;case 22:case 23:return Et(t),yo(),e!==null&&B(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return on(He),null;case 25:return null;default:return null}}function Id(e,t){switch(eo(t),t.tag){case 3:on(He),Be();break;case 26:case 27:case 5:Ml(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Et(t);break;case 13:Et(t);break;case 19:B(Le);break;case 10:on(t.type);break;case 22:case 23:Et(t),yo(),e!==null&&B(ha);break;case 24:on(He)}}function el(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var c=n.create,f=n.inst;r=c(),f.destroy=r}n=n.next}while(n!==o)}}catch(p){Ee(t,t.return,p)}}function Ln(e,t,n){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){var f=r.inst,p=f.destroy;if(p!==void 0){f.destroy=void 0,o=t;var w=n,N=p;try{N()}catch(L){Ee(o,w,L)}}}r=r.next}while(r!==c)}}catch(L){Ee(t,t.return,L)}}function Wd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Gh(t,n)}catch(r){Ee(e,e.return,r)}}}function Fd(e,t,n){n.props=ya(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ee(e,t,r)}}function tl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(o){Ee(e,t,o)}}function Wt(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){Ee(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ee(e,t,o)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Ee(e,e.return,o)}}function Qo(e,t,n){try{var r=e.stateNode;Jp(r,e.type,n,t),r[ct]=t}catch(o){Ee(e,e.return,o)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function Xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nn));else if(r!==4&&(r===27&&Kn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,n),e=e.sibling;e!==null;)Po(e,t,n),e=e.sibling}function Ar(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Kn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ar(e,t,n),e=e.sibling;e!==null;)Ar(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Fe(t,r,n),t[Xe]=e,t[ct]=n}catch(c){Ee(e,e.return,c)}}var fn=!1,Ve=!1,Io=!1,af=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Tp(e,t){if(e=e.containerInfo,vu=Zr,e=gh(e),Vs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,p=-1,w=-1,N=0,L=0,G=e,U=null;t:for(;;){for(var z;G!==n||o!==0&&G.nodeType!==3||(p=f+o),G!==c||r!==0&&G.nodeType!==3||(w=f+r),G.nodeType===3&&(f+=G.nodeValue.length),(z=G.firstChild)!==null;)U=G,G=z;for(;;){if(G===e)break t;if(U===n&&++N===o&&(p=f),U===c&&++L===r&&(w=f),(z=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=z}n=p===-1||w===-1?null:{start:p,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(bu={focusedElem:e,selectionRange:n},Zr=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){switch(t=Qe,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,o=c.memoizedProps,c=c.memoizedState,r=n.stateNode;try{var Q=ya(n.type,o);e=r.getSnapshotBeforeUpdate(Q,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Ee(n,n.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Su(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}}function lf(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:gn(e,n),r&4&&el(5,n);break;case 1:if(gn(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Ee(n,n.return,f)}else{var o=ya(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ee(n,n.return,f)}}r&64&&Wd(n),r&512&&tl(n,n.return);break;case 3:if(gn(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Gh(e,t)}catch(f){Ee(n,n.return,f)}}break;case 27:t===null&&r&4&&nf(n);case 26:case 5:gn(e,n),t===null&&r&4&&ef(n),r&512&&tl(n,n.return);break;case 12:gn(e,n);break;case 31:gn(e,n),r&4&&of(e,n);break;case 13:gn(e,n),r&4&&uf(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Dp.bind(null,n),ev(e,n))));break;case 22:if(r=n.memoizedState!==null||fn,!r){t=t!==null&&t.memoizedState!==null||Ve,o=fn;var c=Ve;fn=r,(Ve=t)&&!c?yn(e,n,(n.subtreeFlags&8772)!==0):gn(e,n),fn=o,Ve=c}break;case 30:break;default:gn(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&As(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ne=null,dt=!1;function mn(e,t,n){for(n=n.child;n!==null;)sf(e,t,n),n=n.sibling}function sf(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Ti,n)}catch{}switch(n.tag){case 26:Ve||Wt(n,t),mn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ve||Wt(n,t);var r=Ne,o=dt;Kn(n.type)&&(Ne=n.stateNode,dt=!1),mn(e,t,n),cl(n.stateNode),Ne=r,dt=o;break;case 5:Ve||Wt(n,t);case 6:if(r=Ne,o=dt,Ne=null,mn(e,t,n),Ne=r,dt=o,Ne!==null)if(dt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(c){Ee(n,t,c)}else try{Ne.removeChild(n.stateNode)}catch(c){Ee(n,t,c)}break;case 18:Ne!==null&&(dt?(e=Ne,Ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ui(e)):Ff(Ne,n.stateNode));break;case 4:r=Ne,o=dt,Ne=n.stateNode.containerInfo,dt=!0,mn(e,t,n),Ne=r,dt=o;break;case 0:case 11:case 14:case 15:Ln(2,n,t),Ve||Ln(4,n,t),mn(e,t,n);break;case 1:Ve||(Wt(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Fd(n,t,r)),mn(e,t,n);break;case 21:mn(e,t,n);break;case 22:Ve=(r=Ve)||n.memoizedState!==null,mn(e,t,n),Ve=r;break;default:mn(e,t,n)}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ui(e)}catch(n){Ee(t,t.return,n)}}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ui(e)}catch(n){Ee(t,t.return,n)}}function Ap(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(s(435,e.tag))}}function Rr(e,t){var n=Ap(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var o=zp.bind(null,e,r);r.then(o,o)}})}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],c=e,f=t,p=f;e:for(;p!==null;){switch(p.tag){case 27:if(Kn(p.type)){Ne=p.stateNode,dt=!1;break e}break;case 5:Ne=p.stateNode,dt=!1;break e;case 3:case 4:Ne=p.stateNode.containerInfo,dt=!0;break e}p=p.return}if(Ne===null)throw Error(s(160));sf(c,f,o),Ne=null,dt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}var Yt=null;function cf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ft(t,e),mt(e),r&4&&(Ln(3,e,e.return),el(3,e),Ln(5,e,e.return));break;case 1:ft(t,e),mt(e),r&512&&(Ve||n===null||Wt(n,n.return)),r&64&&fn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=Yt;if(ft(t,e),mt(e),r&512&&(Ve||n===null||Wt(n,n.return)),r&4){var c=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Oi]||c[Xe]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(r),o.head.insertBefore(c,o.querySelector("head > title"))),Fe(c,r,n),c[Xe]=e,Ze(c),r=c;break e;case"link":var f=cm("link","href",o).get(r+(n.href||""));if(f){for(var p=0;p<f.length;p++)if(c=f[p],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(p,1);break t}}c=o.createElement(r),Fe(c,r,n),o.head.appendChild(c);break;case"meta":if(f=cm("meta","content",o).get(r+(n.content||""))){for(p=0;p<f.length;p++)if(c=f[p],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(p,1);break t}}c=o.createElement(r),Fe(c,r,n),o.head.appendChild(c);break;default:throw Error(s(468,r))}c[Xe]=e,Ze(c),r=c}e.stateNode=r}else hm(o,e.type,e.stateNode);else e.stateNode=um(o,r,e.memoizedProps);else c!==r?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,r===null?hm(o,e.type,e.stateNode):um(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Qo(e,e.memoizedProps,n.memoizedProps)}break;case 27:ft(t,e),mt(e),r&512&&(Ve||n===null||Wt(n,n.return)),n!==null&&r&4&&Qo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ft(t,e),mt(e),r&512&&(Ve||n===null||Wt(n,n.return)),e.flags&32){o=e.stateNode;try{ka(o,"")}catch(Q){Ee(e,e.return,Q)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Qo(e,o,n!==null?n.memoizedProps:o)),r&1024&&(Io=!0);break;case 6:if(ft(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Q){Ee(e,e.return,Q)}}break;case 3:if(Vr=null,o=Yt,Yt=$r(t.containerInfo),ft(t,e),Yt=o,mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(Q){Ee(e,e.return,Q)}Io&&(Io=!1,hf(e));break;case 4:r=Yt,Yt=$r(e.stateNode.containerInfo),ft(t,e),mt(e),Yt=r;break;case 12:ft(t,e),mt(e);break;case 31:ft(t,e),mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Rr(e,r)));break;case 13:ft(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(jr=pt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Rr(e,r)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,N=fn,L=Ve;if(fn=N||o,Ve=L||w,ft(t,e),Ve=L,fn=N,mt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||fn||Ve||pa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(c=w.stateNode,o)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=w.stateNode;var G=w.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;p.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Q){Ee(w,w.return,Q)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(Q){Ee(w,w.return,Q)}}}else if(t.tag===18){if(n===null){w=t;try{var z=w.stateNode;o?em(z,!0):em(w.stateNode,!1)}catch(Q){Ee(w,w.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Rr(e,n))));break;case 19:ft(t,e),mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Rr(e,r)));break;case 30:break;case 21:break;default:ft(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(tf(r)){n=r;break}r=r.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,c=Xo(e);Ar(e,c,o);break;case 5:var f=n.stateNode;n.flags&32&&(ka(f,""),n.flags&=-33);var p=Xo(e);Ar(e,p,f);break;case 3:case 4:var w=n.stateNode.containerInfo,N=Xo(e);Po(e,N,w);break;default:throw Error(s(161))}}catch(L){Ee(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function pa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ln(4,t,t.return),pa(t);break;case 1:Wt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Fd(t,t.return,n),pa(t);break;case 27:cl(t.stateNode);case 26:case 5:Wt(t,t.return),pa(t);break;case 22:t.memoizedState===null&&pa(t);break;case 30:pa(t);break;default:pa(t)}e=e.sibling}}function yn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,c=t,f=c.flags;switch(c.tag){case 0:case 11:case 15:yn(o,c,n),el(4,c);break;case 1:if(yn(o,c,n),r=c,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(N){Ee(r,r.return,N)}if(r=c,o=r.updateQueue,o!==null){var p=r.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)$h(w[o],p)}catch(N){Ee(r,r.return,N)}}n&&f&64&&Wd(c),tl(c,c.return);break;case 27:nf(c);case 26:case 5:yn(o,c,n),n&&r===null&&f&4&&ef(c),tl(c,c.return);break;case 12:yn(o,c,n);break;case 31:yn(o,c,n),n&&f&4&&of(o,c);break;case 13:yn(o,c,n),n&&f&4&&uf(o,c);break;case 22:c.memoizedState===null&&yn(o,c,n),tl(c,c.return);break;case 30:break;default:yn(o,c,n)}t=t.sibling}}function Wo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$i(n))}function Fo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e))}function Kt(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,n,r),t=t.sibling}function df(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,n,r),o&2048&&el(9,t);break;case 1:Kt(e,t,n,r);break;case 3:Kt(e,t,n,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e)));break;case 12:if(o&2048){Kt(e,t,n,r),e=t.stateNode;try{var c=t.memoizedProps,f=c.id,p=c.onPostCommit;typeof p=="function"&&p(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ee(t,t.return,w)}}else Kt(e,t,n,r);break;case 31:Kt(e,t,n,r);break;case 13:Kt(e,t,n,r);break;case 23:break;case 22:c=t.stateNode,f=t.alternate,t.memoizedState!==null?c._visibility&2?Kt(e,t,n,r):nl(e,t):c._visibility&2?Kt(e,t,n,r):(c._visibility|=2,Wa(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Wo(f,t);break;case 24:Kt(e,t,n,r),o&2048&&Fo(t.alternate,t);break;default:Kt(e,t,n,r)}}function Wa(e,t,n,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,f=t,p=n,w=r,N=f.flags;switch(f.tag){case 0:case 11:case 15:Wa(c,f,p,w,o),el(8,f);break;case 23:break;case 22:var L=f.stateNode;f.memoizedState!==null?L._visibility&2?Wa(c,f,p,w,o):nl(c,f):(L._visibility|=2,Wa(c,f,p,w,o)),o&&N&2048&&Wo(f.alternate,f);break;case 24:Wa(c,f,p,w,o),o&&N&2048&&Fo(f.alternate,f);break;default:Wa(c,f,p,w,o)}t=t.sibling}}function nl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nl(n,r),o&2048&&Wo(r.alternate,r);break;case 24:nl(n,r),o&2048&&Fo(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var al=8192;function Fa(e,t,n){if(e.subtreeFlags&al)for(e=e.child;e!==null;)ff(e,t,n),e=e.sibling}function ff(e,t,n){switch(e.tag){case 26:Fa(e,t,n),e.flags&al&&e.memoizedState!==null&&dv(n,Yt,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,t,n);break;case 3:case 4:var r=Yt;Yt=$r(e.stateNode.containerInfo),Fa(e,t,n),Yt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=al,al=16777216,Fa(e,t,n),al=r):Fa(e,t,n));break;default:Fa(e,t,n)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function il(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Qe=r,yf(r,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gf(e),e=e.sibling}function gf(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ln(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Or(e)):il(e);break;default:il(e)}}function Or(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Qe=r,yf(r,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ln(8,t,t.return),Or(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Or(t));break;default:Or(t)}e=e.sibling}}function yf(e,t){for(;Qe!==null;){var n=Qe;switch(n.tag){case 0:case 11:case 15:Ln(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:$i(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Qe=r;else e:for(n=e;Qe!==null;){r=Qe;var o=r.sibling,c=r.return;if(rf(r),r===n){Qe=null;break e}if(o!==null){o.return=c,Qe=o;break e}Qe=c}}}var Rp={getCacheForType:function(e){var t=Ie(He),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ie(He).controller.signal}},Op=typeof WeakMap=="function"?WeakMap:Map,be=0,Re=null,he=null,fe=0,Se=0,xt=null,qn=!1,ei=!1,eu=!1,pn=0,ze=0,Hn=0,va=0,tu=0,Tt=0,ti=0,ll=null,gt=null,nu=!1,jr=0,pf=0,Cr=1/0,Nr=null,$n=null,Ke=0,Gn=null,ni=null,vn=0,au=0,iu=null,vf=null,rl=0,lu=null;function At(){return(be&2)!==0&&fe!==0?fe&-fe:H.T!==null?hu():Uc()}function bf(){if(Tt===0)if((fe&536870912)===0||ge){var e=ql;ql<<=1,(ql&3932160)===0&&(ql=262144),Tt=e}else Tt=536870912;return e=St.current,e!==null&&(e.flags|=32),Tt}function yt(e,t,n){(e===Re&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(ai(e,0),Vn(e,fe,Tt,!1)),Ri(e,n),((be&2)===0||e!==Re)&&(e===Re&&((be&2)===0&&(va|=n),ze===4&&Vn(e,fe,Tt,!1)),Ft(e))}function _f(e,t,n){if((be&6)!==0)throw Error(s(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ai(e,t),o=r?Np(e,t):su(e,t,!0),c=r;do{if(o===0){ei&&!r&&Vn(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!jp(n)){o=su(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var p=e;o=ll;var w=p.current.memoizedState.isDehydrated;if(w&&(ai(p,f).flags|=256),f=su(p,f,!1),f!==2){if(eu&&!w){p.errorRecoveryDisabledLanes|=c,va|=c,o=4;break e}c=gt,gt=o,c!==null&&(gt===null?gt=c:gt.push.apply(gt,c))}o=f}if(c=!1,o!==2)continue}}if(o===1){ai(e,0),Vn(e,t,0,!0);break}e:{switch(r=e,c=o,c){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Vn(r,t,Tt,!qn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=jr+300-pt(),10<o)){if(Vn(r,t,Tt,!qn),$l(r,0,!0)!==0)break e;vn=t,r.timeoutHandle=If(wf.bind(null,r,n,gt,Nr,nu,t,Tt,va,ti,qn,c,"Throttled",-0,0),o);break e}wf(r,n,gt,Nr,nu,t,Tt,va,ti,qn,c,null,-0,0)}}break}while(!0);Ft(e)}function wf(e,t,n,r,o,c,f,p,w,N,L,G,U,z){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},ff(t,c,G);var Q=(c&62914560)===c?jr-pt():(c&4194048)===c?pf-pt():0;if(Q=fv(G,Q),Q!==null){vn=c,e.cancelPendingCommit=Q(jf.bind(null,e,t,c,n,r,o,f,p,w,L,G,null,U,z)),Vn(e,c,f,!N);return}}jf(e,t,c,n,r,o,f,p,w)}function jp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],c=o.getSnapshot;o=o.value;try{if(!_t(c(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t,n,r){t&=~tu,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var c=31-bt(o),f=1<<c;r[c]=-1,o&=~f}n!==0&&Cc(e,n,t)}function kr(){return(be&6)===0?(sl(0),!1):!0}function ru(){if(he!==null){if(Se===0)var e=he.return;else e=he,sn=ua=null,So(e),Za=null,Vi=0,e=he;for(;e!==null;)Id(e.alternate,e),e=e.return;he=null}}function ai(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vn=0,ru(),Re=e,he=n=ln(e.current,null),fe=t,Se=0,xt=null,qn=!1,ei=Ai(e,t),eu=!1,ti=Tt=tu=va=Hn=ze=0,gt=ll=null,nu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-bt(r),c=1<<o;t|=e[o],r&=~c}return pn=t,Fl(),n}function Sf(e,t){oe=null,H.H=Ii,t===Ja||t===sr?(t=Bh(),Se=3):t===uo?(t=Bh(),Se=4):Se=t===Lo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,he===null&&(ze=1,wr(e,Dt(t,e.current)))}function Ef(){var e=St.current;return e===null?!0:(fe&4194048)===fe?Lt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Lt:!1}function xf(){var e=H.H;return H.H=Ii,e===null?Ii:e}function Tf(){var e=H.A;return H.A=Rp,e}function Ur(){ze=4,qn||(fe&4194048)!==fe&&St.current!==null||(ei=!0),(Hn&134217727)===0&&(va&134217727)===0||Re===null||Vn(Re,fe,Tt,!1)}function su(e,t,n){var r=be;be|=2;var o=xf(),c=Tf();(Re!==e||fe!==t)&&(Nr=null,ai(e,t)),t=!1;var f=ze;e:do try{if(Se!==0&&he!==null){var p=he,w=xt;switch(Se){case 8:ru(),f=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(t=!0);var N=Se;if(Se=0,xt=null,ii(e,p,w,N),n&&ei){f=0;break e}break;default:N=Se,Se=0,xt=null,ii(e,p,w,N)}}Cp(),f=ze;break}catch(L){Sf(e,L)}while(!0);return t&&e.shellSuspendCounter++,sn=ua=null,be=r,H.H=o,H.A=c,he===null&&(Re=null,fe=0,Fl()),f}function Cp(){for(;he!==null;)Af(he)}function Np(e,t){var n=be;be|=2;var r=xf(),o=Tf();Re!==e||fe!==t?(Nr=null,Cr=pt()+500,ai(e,t)):ei=Ai(e,t);e:do try{if(Se!==0&&he!==null){t=he;var c=xt;t:switch(Se){case 1:Se=0,xt=null,ii(e,t,c,1);break;case 2:case 9:if(zh(c)){Se=0,xt=null,Rf(t);break}t=function(){Se!==2&&Se!==9||Re!==e||(Se=7),Ft(e)},c.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:zh(c)?(Se=0,xt=null,Rf(t)):(Se=0,xt=null,ii(e,t,c,7));break;case 5:var f=null;switch(he.tag){case 26:f=he.memoizedState;case 5:case 27:var p=he;if(f?dm(f):p.stateNode.complete){Se=0,xt=null;var w=p.sibling;if(w!==null)he=w;else{var N=p.return;N!==null?(he=N,Dr(N)):he=null}break t}}Se=0,xt=null,ii(e,t,c,5);break;case 6:Se=0,xt=null,ii(e,t,c,6);break;case 8:ru(),ze=6;break e;default:throw Error(s(462))}}kp();break}catch(L){Sf(e,L)}while(!0);return sn=ua=null,H.H=r,H.A=o,be=n,he!==null?0:(Re=null,fe=0,Fl(),ze)}function kp(){for(;he!==null&&!ty();)Af(he)}function Af(e){var t=Xd(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?Dr(e):he=t}function Rf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vd(n,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Vd(n,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:So(t);default:Id(n,t),t=he=xh(t,pn),t=Xd(n,t,pn)}e.memoizedProps=e.pendingProps,t===null?Dr(e):he=t}function ii(e,t,n,r){sn=ua=null,So(t),Za=null,Vi=0;var o=t.return;try{if(_p(e,o,t,n,fe)){ze=1,wr(e,Dt(n,e.current)),he=null;return}}catch(c){if(o!==null)throw he=o,c;ze=1,wr(e,Dt(n,e.current)),he=null;return}t.flags&32768?(ge||r===1?e=!0:ei||(fe&536870912)!==0?e=!1:(qn=e=!0,(r===2||r===9||r===3||r===6)&&(r=St.current,r!==null&&r.tag===13&&(r.flags|=16384))),Of(t,e)):Dr(t)}function Dr(e){var t=e;do{if((t.flags&32768)!==0){Of(t,qn);return}e=t.return;var n=Ep(t.alternate,t,pn);if(n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);ze===0&&(ze=5)}function Of(e,t){do{var n=xp(e.alternate,e);if(n!==null){n.flags&=32767,he=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=n}while(e!==null);ze=6,he=null}function jf(e,t,n,r,o,c,f,p,w){e.cancelPendingCommit=null;do zr();while(Ke!==0);if((be&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(c=t.lanes|t.childLanes,c|=Qs,hy(e,n,c,f,p,w),e===Re&&(he=Re=null,fe=0),ni=t,Gn=e,vn=n,au=c,iu=o,vf=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mp(Bl,function(){return Df(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,o=Y.p,Y.p=2,f=be,be|=4;try{Tp(e,t,n)}finally{be=f,Y.p=o,H.T=r}}Ke=1,Cf(),Nf(),kf()}}function Cf(){if(Ke===1){Ke=0;var e=Gn,t=ni,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=H.T,H.T=null;var r=Y.p;Y.p=2;var o=be;be|=4;try{cf(t,e);var c=bu,f=gh(e.containerInfo),p=c.focusedElem,w=c.selectionRange;if(f!==p&&p&&p.ownerDocument&&mh(p.ownerDocument.documentElement,p)){if(w!==null&&Vs(p)){var N=w.start,L=w.end;if(L===void 0&&(L=N),"selectionStart"in p)p.selectionStart=N,p.selectionEnd=Math.min(L,p.value.length);else{var G=p.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var z=U.getSelection(),Q=p.textContent.length,ne=Math.min(w.start,Q),Ae=w.end===void 0?ne:Math.min(w.end,Q);!z.extend&&ne>Ae&&(f=Ae,Ae=ne,ne=f);var A=fh(p,ne),x=fh(p,Ae);if(A&&x&&(z.rangeCount!==1||z.anchorNode!==A.node||z.anchorOffset!==A.offset||z.focusNode!==x.node||z.focusOffset!==x.offset)){var C=G.createRange();C.setStart(A.node,A.offset),z.removeAllRanges(),ne>Ae?(z.addRange(C),z.extend(x.node,x.offset)):(C.setEnd(x.node,x.offset),z.addRange(C))}}}}for(G=[],z=p;z=z.parentNode;)z.nodeType===1&&G.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<G.length;p++){var $=G[p];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Zr=!!vu,bu=vu=null}finally{be=o,Y.p=r,H.T=n}}e.current=t,Ke=2}}function Nf(){if(Ke===2){Ke=0;var e=Gn,t=ni,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=H.T,H.T=null;var r=Y.p;Y.p=2;var o=be;be|=4;try{lf(e,t.alternate,t)}finally{be=o,Y.p=r,H.T=n}}Ke=3}}function kf(){if(Ke===4||Ke===3){Ke=0,ny();var e=Gn,t=ni,n=vn,r=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,ni=Gn=null,Uf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&($n=null),xs(n),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Ti,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=H.T,o=Y.p,Y.p=2,H.T=null;try{for(var c=e.onRecoverableError,f=0;f<r.length;f++){var p=r[f];c(p.value,{componentStack:p.stack})}}finally{H.T=t,Y.p=o}}(vn&3)!==0&&zr(),Ft(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===lu?rl++:(rl=0,lu=e):rl=0,sl(0)}}function Uf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$i(t)))}function zr(){return Cf(),Nf(),kf(),Df()}function Df(){if(Ke!==5)return!1;var e=Gn,t=au;au=0;var n=xs(vn),r=H.T,o=Y.p;try{Y.p=32>n?32:n,H.T=null,n=iu,iu=null;var c=Gn,f=vn;if(Ke=0,ni=Gn=null,vn=0,(be&6)!==0)throw Error(s(331));var p=be;if(be|=4,gf(c.current),df(c,c.current,f,n),be=p,sl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Ti,c)}catch{}return!0}finally{Y.p=o,H.T=r,Uf(e,t)}}function zf(e,t,n){t=Dt(n,t),t=Bo(e.stateNode,t,2),e=zn(e,t,2),e!==null&&(Ri(e,2),Ft(e))}function Ee(e,t,n){if(e.tag===3)zf(e,e,n);else for(;t!==null;){if(t.tag===3){zf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=Dt(n,e),n=zd(2),r=zn(t,n,2),r!==null&&(Md(n,r,t,e),Ri(r,2),Ft(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Op;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(eu=!0,o.add(n),e=Up.bind(null,e,t,n),t.then(e,e))}function Up(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Re===e&&(fe&n)===n&&(ze===4||ze===3&&(fe&62914560)===fe&&300>pt()-jr?(be&2)===0&&ai(e,0):tu|=n,ti===fe&&(ti=0)),Ft(e)}function Mf(e,t){t===0&&(t=jc()),e=ra(e,t),e!==null&&(Ri(e,t),Ft(e))}function Dp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mf(e,n)}function zp(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),Mf(e,n)}function Mp(e,t){return _s(e,t)}var Mr=null,li=null,uu=!1,Br=!1,cu=!1,Yn=0;function Ft(e){e!==li&&e.next===null&&(li===null?Mr=li=e:li=li.next=e),Br=!0,uu||(uu=!0,Lp())}function sl(e,t){if(!cu&&Br){cu=!0;do for(var n=!1,r=Mr;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var c=0;else{var f=r.suspendedLanes,p=r.pingedLanes;c=(1<<31-bt(42|e)+1)-1,c&=o&~(f&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Hf(r,c))}else c=fe,c=$l(r,r===Re?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||Ai(r,c)||(n=!0,Hf(r,c));r=r.next}while(n);cu=!1}}function Bp(){Bf()}function Bf(){Br=uu=!1;var e=0;Yn!==0&&Qp()&&(e=Yn);for(var t=pt(),n=null,r=Mr;r!==null;){var o=r.next,c=Lf(r,t);c===0?(r.next=null,n===null?Mr=o:n.next=o,o===null&&(li=n)):(n=r,(e!==0||(c&3)!==0)&&(Br=!0)),r=o}Ke!==0&&Ke!==5||sl(e),Yn!==0&&(Yn=0)}function Lf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var f=31-bt(c),p=1<<f,w=o[f];w===-1?((p&n)===0||(p&r)!==0)&&(o[f]=cy(p,t)):w<=t&&(e.expiredLanes|=p),c&=~p}if(t=Re,n=fe,n=$l(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ws(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ai(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ws(r),xs(n)){case 2:case 8:n=Rc;break;case 32:n=Bl;break;case 268435456:n=Oc;break;default:n=Bl}return r=qf.bind(null,e),n=_s(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ws(r),e.callbackPriority=2,e.callbackNode=null,2}function qf(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(zr()&&e.callbackNode!==n)return null;var r=fe;return r=$l(e,e===Re?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(_f(e,r,t),Lf(e,pt()),e.callbackNode!=null&&e.callbackNode===n?qf.bind(null,e):null)}function Hf(e,t){if(zr())return null;_f(e,t,!0)}function Lp(){Pp(function(){(be&6)!==0?_s(Ac,Bp):Bf()})}function hu(){if(Yn===0){var e=Ya;e===0&&(e=Ll,Ll<<=1,(Ll&261888)===0&&(Ll=256)),Yn=e}return Yn}function $f(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kl(""+e)}function Gf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qp(e,t,n,r,o){if(t==="submit"&&n&&n.stateNode===o){var c=$f((o[ct]||null).action),f=r.submitter;f&&(t=(t=f[ct]||null)?$f(t.formAction):f.getAttribute("formAction"),t!==null&&(c=t,f=null));var p=new Xl("action","action",null,r,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Yn!==0){var w=f?Gf(o,f):new FormData(o);No(n,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(p.preventDefault(),w=f?Gf(o,f):new FormData(o),No(n,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var du=0;du<Zs.length;du++){var fu=Zs[du],Hp=fu.toLowerCase(),$p=fu[0].toUpperCase()+fu.slice(1);Vt(Hp,"on"+$p)}Vt(vh,"onAnimationEnd"),Vt(bh,"onAnimationIteration"),Vt(_h,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(ap,"onTransitionRun"),Vt(ip,"onTransitionStart"),Vt(lp,"onTransitionCancel"),Vt(wh,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),na("onBeforeInput",["compositionend","keypress","textInput","paste"]),na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var f=r.length-1;0<=f;f--){var p=r[f],w=p.instance,N=p.currentTarget;if(p=p.listener,w!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=N;try{c(o)}catch(L){Wl(L)}o.currentTarget=null,c=w}else for(f=0;f<r.length;f++){if(p=r[f],w=p.instance,N=p.currentTarget,p=p.listener,w!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=N;try{c(o)}catch(L){Wl(L)}o.currentTarget=null,c=w}}}}function de(e,t){var n=t[Ts];n===void 0&&(n=t[Ts]=new Set);var r=e+"__bubble";n.has(r)||(Yf(t,e,2,!1),n.add(r))}function mu(e,t,n){var r=0;t&&(r|=4),Yf(n,e,r,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[Lr]){e[Lr]=!0,Mc.forEach(function(n){n!=="selectionchange"&&(Gp.has(n)||mu(n,!1,e),mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,mu("selectionchange",!1,t))}}function Yf(e,t,n,r){switch(bm(t)){case 2:var o=yv;break;case 8:o=pv;break;default:o=Cu}n=o.bind(null,t,n,e),o=void 0,!Ds||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function yu(e,t,n,r,o){var c=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var p=r.stateNode.containerInfo;if(p===o)break;if(f===4)for(f=r.return;f!==null;){var w=f.tag;if((w===3||w===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;p!==null;){if(f=Ra(p),f===null)return;if(w=f.tag,w===5||w===6||w===26||w===27){r=c=f;continue e}p=p.parentNode}}r=r.return}Qc(function(){var N=c,L=ks(n),G=[];e:{var U=Sh.get(e);if(U!==void 0){var z=Xl,Q=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":z=zy;break;case"focusin":Q="focus",z=Ls;break;case"focusout":Q="blur",z=Ls;break;case"beforeblur":case"afterblur":z=Ls;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Ly;break;case vh:case bh:case _h:z=Ay;break;case wh:z=Hy;break;case"scroll":case"scrollend":z=wy;break;case"wheel":z=Gy;break;case"copy":case"cut":case"paste":z=Oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Fc;break;case"toggle":case"beforetoggle":z=Yy}var ne=(t&4)!==0,Ae=!ne&&(e==="scroll"||e==="scrollend"),A=ne?U!==null?U+"Capture":null:U;ne=[];for(var x=N,C;x!==null;){var $=x;if(C=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||C===null||A===null||($=Ci(x,A),$!=null&&ne.push(ul(x,$,C))),Ae)break;x=x.return}0<ne.length&&(U=new z(U,Q,null,n,L),G.push({event:U,listeners:ne}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",U&&n!==Ns&&(Q=n.relatedTarget||n.fromElement)&&(Ra(Q)||Q[Aa]))break e;if((z||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,z?(Q=n.relatedTarget||n.toElement,z=N,Q=Q?Ra(Q):null,Q!==null&&(Ae=h(Q),ne=Q.tag,Q!==Ae||ne!==5&&ne!==27&&ne!==6)&&(Q=null)):(z=null,Q=N),z!==Q)){if(ne=Ic,$="onMouseLeave",A="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Fc,$="onPointerLeave",A="onPointerEnter",x="pointer"),Ae=z==null?U:ji(z),C=Q==null?U:ji(Q),U=new ne($,x+"leave",z,n,L),U.target=Ae,U.relatedTarget=C,$=null,Ra(L)===N&&(ne=new ne(A,x+"enter",Q,n,L),ne.target=C,ne.relatedTarget=Ae,$=ne),Ae=$,z&&Q)t:{for(ne=Vp,A=z,x=Q,C=0,$=A;$;$=ne($))C++;$=0;for(var ee=x;ee;ee=ne(ee))$++;for(;0<C-$;)A=ne(A),C--;for(;0<$-C;)x=ne(x),$--;for(;C--;){if(A===x||x!==null&&A===x.alternate){ne=A;break t}A=ne(A),x=ne(x)}ne=null}else ne=null;z!==null&&Kf(G,U,z,ne,!1),Q!==null&&Ae!==null&&Kf(G,Ae,Q,ne,!0)}}e:{if(U=N?ji(N):window,z=U.nodeName&&U.nodeName.toLowerCase(),z==="select"||z==="input"&&U.type==="file")var pe=sh;else if(lh(U))if(oh)pe=ep;else{pe=Wy;var P=Iy}else z=U.nodeName,!z||z.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?N&&Cs(N.elementType)&&(pe=sh):pe=Fy;if(pe&&(pe=pe(e,N))){rh(G,pe,n,L);break e}P&&P(e,U,N),e==="focusout"&&N&&U.type==="number"&&N.memoizedProps.value!=null&&js(U,"number",U.value)}switch(P=N?ji(N):window,e){case"focusin":(lh(P)||P.contentEditable==="true")&&(Ma=P,Ys=N,Li=null);break;case"focusout":Li=Ys=Ma=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,yh(G,n,L);break;case"selectionchange":if(np)break;case"keydown":case"keyup":yh(G,n,L)}var ue;if(Hs)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else za?ah(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(eh&&n.locale!=="ko"&&(za||me!=="onCompositionStart"?me==="onCompositionEnd"&&za&&(ue=Xc()):(On=L,zs="value"in On?On.value:On.textContent,za=!0)),P=qr(N,me),0<P.length&&(me=new Wc(me,e,null,n,L),G.push({event:me,listeners:P}),ue?me.data=ue:(ue=ih(n),ue!==null&&(me.data=ue)))),(ue=Jy?Zy(e,n):Qy(e,n))&&(me=qr(N,"onBeforeInput"),0<me.length&&(P=new Wc("onBeforeInput","beforeinput",null,n,L),G.push({event:P,listeners:me}),P.data=ue)),qp(G,e,N,n,L)}Vf(G,t)})}function ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Ci(e,n),o!=null&&r.unshift(ul(e,o,c)),o=Ci(e,t),o!=null&&r.push(ul(e,o,c))),e.tag===3)return r;e=e.return}return[]}function Vp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kf(e,t,n,r,o){for(var c=t._reactName,f=[];n!==null&&n!==r;){var p=n,w=p.alternate,N=p.stateNode;if(p=p.tag,w!==null&&w===r)break;p!==5&&p!==26&&p!==27||N===null||(w=N,o?(N=Ci(n,c),N!=null&&f.unshift(ul(n,N,w))):o||(N=Ci(n,c),N!=null&&f.push(ul(n,N,w)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Yp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(Yp,`
`).replace(Kp,"")}function Zf(e,t){return t=Jf(t),Jf(e)===t}function Te(e,t,n,r,o,c){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ka(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ka(e,""+r);break;case"className":Vl(e,"class",r);break;case"tabIndex":Vl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(e,n,r);break;case"style":Jc(e,r,c);break;case"data":if(t!=="object"){Vl(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Kl(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Te(e,t,"name",o.name,o,null),Te(e,t,"formEncType",o.formEncType,o,null),Te(e,t,"formMethod",o.formMethod,o,null),Te(e,t,"formTarget",o.formTarget,o,null)):(Te(e,t,"encType",o.encType,o,null),Te(e,t,"method",o.method,o,null),Te(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Kl(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=nn);break;case"onScroll":r!=null&&de("scroll",e);break;case"onScrollEnd":r!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Kl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":de("beforetoggle",e),de("toggle",e),Gl(e,"popover",r);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Gl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=by.get(n)||n,Gl(e,n,r))}}function pu(e,t,n,r,o,c){switch(n){case"style":Jc(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof r=="string"?ka(e,r):(typeof r=="number"||typeof r=="bigint")&&ka(e,""+r);break;case"onScroll":r!=null&&de("scroll",e);break;case"onScrollEnd":r!=null&&de("scrollend",e);break;case"onClick":r!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),c=e[ct]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof r=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Gl(e,n,r)}}}function Fe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var r=!1,o=!1,c;for(c in n)if(n.hasOwnProperty(c)){var f=n[c];if(f!=null)switch(c){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Te(e,t,c,f,n,null)}}o&&Te(e,t,"srcSet",n.srcSet,n,null),r&&Te(e,t,"src",n.src,n,null);return;case"input":de("invalid",e);var p=c=f=o=null,w=null,N=null;for(r in n)if(n.hasOwnProperty(r)){var L=n[r];if(L!=null)switch(r){case"name":o=L;break;case"type":f=L;break;case"checked":w=L;break;case"defaultChecked":N=L;break;case"value":c=L;break;case"defaultValue":p=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:Te(e,t,r,L,n,null)}}Gc(e,c,p,w,N,f,o,!1);return;case"select":de("invalid",e),r=f=c=null;for(o in n)if(n.hasOwnProperty(o)&&(p=n[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":f=p;break;case"multiple":r=p;default:Te(e,t,o,p,n,null)}t=c,n=f,e.multiple=!!r,t!=null?Na(e,!!r,t,!1):n!=null&&Na(e,!!r,n,!0);return;case"textarea":de("invalid",e),c=o=r=null;for(f in n)if(n.hasOwnProperty(f)&&(p=n[f],p!=null))switch(f){case"value":r=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:Te(e,t,f,p,n,null)}Yc(e,r,o,c);return;case"option":for(w in n)n.hasOwnProperty(w)&&(r=n[w],r!=null)&&(w==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Te(e,t,w,r,n,null));return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(r=0;r<ol.length;r++)de(ol[r],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in n)if(n.hasOwnProperty(N)&&(r=n[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Te(e,t,N,r,n,null)}return;default:if(Cs(t)){for(L in n)n.hasOwnProperty(L)&&(r=n[L],r!==void 0&&pu(e,t,L,r,n,void 0));return}}for(p in n)n.hasOwnProperty(p)&&(r=n[p],r!=null&&Te(e,t,p,r,n,null))}function Jp(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,f=null,p=null,w=null,N=null,L=null;for(z in n){var G=n[z];if(n.hasOwnProperty(z)&&G!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":w=G;default:r.hasOwnProperty(z)||Te(e,t,z,null,r,G)}}for(var U in r){var z=r[U];if(G=n[U],r.hasOwnProperty(U)&&(z!=null||G!=null))switch(U){case"type":c=z;break;case"name":o=z;break;case"checked":N=z;break;case"defaultChecked":L=z;break;case"value":f=z;break;case"defaultValue":p=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:z!==G&&Te(e,t,U,z,r,G)}}Os(e,f,p,w,N,L,c,o);return;case"select":z=f=p=U=null;for(c in n)if(w=n[c],n.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":z=w;default:r.hasOwnProperty(c)||Te(e,t,c,null,r,w)}for(o in r)if(c=r[o],w=n[o],r.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":U=c;break;case"defaultValue":p=c;break;case"multiple":f=c;default:c!==w&&Te(e,t,o,c,r,w)}t=p,n=f,r=z,U!=null?Na(e,!!n,U,!1):!!r!=!!n&&(t!=null?Na(e,!!n,t,!0):Na(e,!!n,n?[]:"",!1));return;case"textarea":z=U=null;for(p in n)if(o=n[p],n.hasOwnProperty(p)&&o!=null&&!r.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Te(e,t,p,null,r,o)}for(f in r)if(o=r[f],c=n[f],r.hasOwnProperty(f)&&(o!=null||c!=null))switch(f){case"value":U=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==c&&Te(e,t,f,o,r,c)}Vc(e,U,z);return;case"option":for(var Q in n)U=n[Q],n.hasOwnProperty(Q)&&U!=null&&!r.hasOwnProperty(Q)&&(Q==="selected"?e.selected=!1:Te(e,t,Q,null,r,U));for(w in r)U=r[w],z=n[w],r.hasOwnProperty(w)&&U!==z&&(U!=null||z!=null)&&(w==="selected"?e.selected=U&&typeof U!="function"&&typeof U!="symbol":Te(e,t,w,U,r,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in n)U=n[ne],n.hasOwnProperty(ne)&&U!=null&&!r.hasOwnProperty(ne)&&Te(e,t,ne,null,r,U);for(N in r)if(U=r[N],z=n[N],r.hasOwnProperty(N)&&U!==z&&(U!=null||z!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:Te(e,t,N,U,r,z)}return;default:if(Cs(t)){for(var Ae in n)U=n[Ae],n.hasOwnProperty(Ae)&&U!==void 0&&!r.hasOwnProperty(Ae)&&pu(e,t,Ae,void 0,r,U);for(L in r)U=r[L],z=n[L],!r.hasOwnProperty(L)||U===z||U===void 0&&z===void 0||pu(e,t,L,U,r,z);return}}for(var A in n)U=n[A],n.hasOwnProperty(A)&&U!=null&&!r.hasOwnProperty(A)&&Te(e,t,A,null,r,U);for(G in r)U=r[G],z=n[G],!r.hasOwnProperty(G)||U===z||U==null&&z==null||Te(e,t,G,U,r,z)}function Qf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],c=o.transferSize,f=o.initiatorType,p=o.duration;if(c&&p&&Qf(f)){for(f=0,p=o.responseEnd,r+=1;r<n.length;r++){var w=n[r],N=w.startTime;if(N>p)break;var L=w.transferSize,G=w.initiatorType;L&&Qf(G)&&(w=w.responseEnd,f+=L*(w<p?1:(p-N)/(w-N)))}if(--r,t+=8*(c+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vu=null,bu=null;function Hr(e){return e.nodeType===9?e:e.ownerDocument}function Xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function Qp(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var If=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,Pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(e){return Wf.resolve(null).then(e).catch(Ip)}:If;function Ip(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function Ff(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(o),ui(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")cl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,cl(n);for(var c=n.firstChild;c;){var f=c.nextSibling,p=c.nodeName;c[Oi]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=f}}else n==="body"&&cl(e.ownerDocument.body);n=o}while(n);ui(t)}function em(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Su(n),As(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Wp(e,t,n,r){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Oi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function Fp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qt(e.nextSibling),e===null))return null;return e}function tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qt(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ev(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tu=null;function nm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return qt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function im(e,t,n){switch(t=Hr(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);As(e)}var Ht=new Map,lm=new Set;function $r(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bn=Y.d;Y.d={f:tv,r:nv,D:av,C:iv,L:lv,m:rv,X:ov,S:sv,M:uv};function tv(){var e=bn.f(),t=kr();return e||t}function nv(e){var t=Oa(e);t!==null&&t.tag===5&&t.type==="form"?wd(t):bn.r(e)}var ri=typeof document>"u"?null:document;function rm(e,t,n){var r=ri;if(r&&typeof t=="string"&&t){var o=kt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),lm.has(o)||(lm.add(o),e={rel:e,crossOrigin:n,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),Fe(t,"link",e),Ze(t),r.head.appendChild(t)))}}function av(e){bn.D(e),rm("dns-prefetch",e,null)}function iv(e,t){bn.C(e,t),rm("preconnect",e,t)}function lv(e,t,n){bn.L(e,t,n);var r=ri;if(r&&e&&t){var o='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+kt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+kt(n.imageSizes)+'"]')):o+='[href="'+kt(e)+'"]';var c=o;switch(t){case"style":c=si(e);break;case"script":c=oi(e)}Ht.has(c)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ht.set(c,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(hl(c))||t==="script"&&r.querySelector(dl(c))||(t=r.createElement("link"),Fe(t,"link",e),Ze(t),r.head.appendChild(t)))}}function rv(e,t){bn.m(e,t);var n=ri;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+kt(r)+'"][href="'+kt(e)+'"]',c=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=oi(e)}if(!Ht.has(c)&&(e=_({rel:"modulepreload",href:e},t),Ht.set(c,e),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dl(c)))return}r=n.createElement("link"),Fe(r,"link",e),Ze(r),n.head.appendChild(r)}}}function sv(e,t,n){bn.S(e,t,n);var r=ri;if(r&&e){var o=ja(r).hoistableStyles,c=si(e);t=t||"default";var f=o.get(c);if(!f){var p={loading:0,preload:null};if(f=r.querySelector(hl(c)))p.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ht.get(c))&&Au(e,n);var w=f=r.createElement("link");Ze(w),Fe(w,"link",e),w._p=new Promise(function(N,L){w.onload=N,w.onerror=L}),w.addEventListener("load",function(){p.loading|=1}),w.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Gr(f,t,r)}f={type:"stylesheet",instance:f,count:1,state:p},o.set(c,f)}}}function ov(e,t){bn.X(e,t);var n=ri;if(n&&e){var r=ja(n).hoistableScripts,o=oi(e),c=r.get(o);c||(c=n.querySelector(dl(o)),c||(e=_({src:e,async:!0},t),(t=Ht.get(o))&&Ru(e,t),c=n.createElement("script"),Ze(c),Fe(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function uv(e,t){bn.M(e,t);var n=ri;if(n&&e){var r=ja(n).hoistableScripts,o=oi(e),c=r.get(o);c||(c=n.querySelector(dl(o)),c||(e=_({src:e,async:!0,type:"module"},t),(t=Ht.get(o))&&Ru(e,t),c=n.createElement("script"),Ze(c),Fe(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function sm(e,t,n,r){var o=(o=ce.current)?$r(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=si(n.href),n=ja(o).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=si(n.href);var c=ja(o).hoistableStyles,f=c.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=o.querySelector(hl(e)))&&!c._p&&(f.instance=c,f.state.loading=5),Ht.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ht.set(e,n),c||cv(o,e,n,f.state))),t&&r===null)throw Error(s(528,""));return f}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oi(n),n=ja(o).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function si(e){return'href="'+kt(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function om(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function cv(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Fe(t,"link",n),Ze(t),e.head.appendChild(t))}function oi(e){return'[src="'+kt(e)+'"]'}function dl(e){return"script[async]"+e}function um(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+kt(n.href)+'"]');if(r)return t.instance=r,Ze(r),r;var o=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ze(r),Fe(r,"style",o),Gr(r,n.precedence,e),t.instance=r;case"stylesheet":o=si(n.href);var c=e.querySelector(hl(o));if(c)return t.state.loading|=4,t.instance=c,Ze(c),c;r=om(n),(o=Ht.get(o))&&Au(r,o),c=(e.ownerDocument||e).createElement("link"),Ze(c);var f=c;return f._p=new Promise(function(p,w){f.onload=p,f.onerror=w}),Fe(c,"link",r),t.state.loading|=4,Gr(c,n.precedence,e),t.instance=c;case"script":return c=oi(n.src),(o=e.querySelector(dl(c)))?(t.instance=o,Ze(o),o):(r=n,(o=Ht.get(c))&&(r=_({},n),Ru(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ze(o),Fe(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Gr(r,n.precedence,e));return t.instance}function Gr(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,c=o,f=0;f<r.length;f++){var p=r[f];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vr=null;function cm(e,t,n){if(Vr===null){var r=new Map,o=Vr=new Map;o.set(n,r)}else o=Vr,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var c=n[o];if(!(c[Oi]||c[Xe]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var f=c.getAttribute(t)||"";f=e+f;var p=r.get(f);p?p.push(c):r.set(f,[c])}}return r}function hm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function hv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dv(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=si(r.href),c=t.querySelector(hl(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Yr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,Ze(c);return}c=t.ownerDocument||t,r=om(r),(o=Ht.get(o))&&Au(r,o),c=c.createElement("link"),Ze(c);var f=c;f._p=new Promise(function(p,w){f.onload=p,f.onerror=w}),Fe(c,"link",r),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Yr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ou=0;function fv(e,t){return e.stylesheets&&e.count===0&&Jr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*Zp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Yr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kr=null;function Jr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kr=new Map,t.forEach(mv,e),Kr=null,Yr.call(e))}function mv(e,t){if(!(t.state.loading&4)){var n=Kr.get(e);if(n)var r=n.get(null);else{n=new Map,Kr.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var f=o[c];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),r=f)}r&&n.set(null,r)}o=t.instance,f=o.getAttribute("data-precedence"),c=n.get(f)||r,c===r&&n.set(null,o),n.set(f,o),this.count++,r=Yr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var fl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function gv(e,t,n,r,o,c,f,p,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function fm(e,t,n,r,o,c,f,p,w,N,L,G){return e=new gv(e,t,n,f,w,N,L,G,p),t=1,c===!0&&(t|=24),c=wt(3,null,null,t),e.current=c,c.stateNode=e,t=ro(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:r,isDehydrated:n,cache:t},co(c),e}function mm(e){return e?(e=qa,e):qa}function gm(e,t,n,r,o,c){o=mm(o),r.context===null?r.context=o:r.pendingContext=o,r=Dn(t),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=zn(e,r,t),n!==null&&(yt(n,e,t),Ki(n,e,t))}function ym(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ju(e,t){ym(e,t),(e=e.alternate)&&ym(e,t)}function pm(e){if(e.tag===13||e.tag===31){var t=ra(e,67108864);t!==null&&yt(t,e,67108864),ju(e,67108864)}}function vm(e){if(e.tag===13||e.tag===31){var t=At();t=Es(t);var n=ra(e,t);n!==null&&yt(n,e,t),ju(e,t)}}var Zr=!0;function yv(e,t,n,r){var o=H.T;H.T=null;var c=Y.p;try{Y.p=2,Cu(e,t,n,r)}finally{Y.p=c,H.T=o}}function pv(e,t,n,r){var o=H.T;H.T=null;var c=Y.p;try{Y.p=8,Cu(e,t,n,r)}finally{Y.p=c,H.T=o}}function Cu(e,t,n,r){if(Zr){var o=Nu(r);if(o===null)yu(e,t,r,Qr,n),_m(e,r);else if(bv(o,e,t,n,r))r.stopPropagation();else if(_m(e,r),t&4&&-1<vv.indexOf(e)){for(;o!==null;){var c=Oa(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=ta(c.pendingLanes);if(f!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;f;){var w=1<<31-bt(f);p.entanglements[1]|=w,f&=~w}Ft(c),(be&6)===0&&(Cr=pt()+500,sl(0))}}break;case 31:case 13:p=ra(c,2),p!==null&&yt(p,c,2),kr(),ju(c,2)}if(c=Nu(r),c===null&&yu(e,t,r,Qr,n),c===o)break;o=c}o!==null&&r.stopPropagation()}else yu(e,t,r,null,n)}}function Nu(e){return e=ks(e),ku(e)}var Qr=null;function ku(e){if(Qr=null,e=Ra(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qr=e,null}function bm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ay()){case Ac:return 2;case Rc:return 8;case Bl:case iy:return 32;case Oc:return 268435456;default:return 32}default:return 32}}var Uu=!1,Jn=null,Zn=null,Qn=null,ml=new Map,gl=new Map,Xn=[],vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _m(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function yl(e,t,n,r,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Oa(t),t!==null&&pm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function bv(e,t,n,r,o){switch(t){case"focusin":return Jn=yl(Jn,e,t,n,r,o),!0;case"dragenter":return Zn=yl(Zn,e,t,n,r,o),!0;case"mouseover":return Qn=yl(Qn,e,t,n,r,o),!0;case"pointerover":var c=o.pointerId;return ml.set(c,yl(ml.get(c)||null,e,t,n,r,o)),!0;case"gotpointercapture":return c=o.pointerId,gl.set(c,yl(gl.get(c)||null,e,t,n,r,o)),!0}return!1}function wm(e){var t=Ra(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Dc(e.priority,function(){vm(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Dc(e.priority,function(){vm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nu(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ns=r,n.target.dispatchEvent(r),Ns=null}else return t=Oa(n),t!==null&&pm(t),e.blockedOn=n,!1;t.shift()}return!0}function Sm(e,t,n){Xr(e)&&n.delete(t)}function _v(){Uu=!1,Jn!==null&&Xr(Jn)&&(Jn=null),Zn!==null&&Xr(Zn)&&(Zn=null),Qn!==null&&Xr(Qn)&&(Qn=null),ml.forEach(Sm),gl.forEach(Sm)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_v)))}var Ir=null;function Em(e){Ir!==e&&(Ir=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ir===e&&(Ir=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(ku(r||n)===null)continue;break}var c=Oa(n);c!==null&&(e.splice(t,3),t-=3,No(c,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function ui(e){function t(w){return Pr(w,e)}Jn!==null&&Pr(Jn,e),Zn!==null&&Pr(Zn,e),Qn!==null&&Pr(Qn,e),ml.forEach(t),gl.forEach(t);for(var n=0;n<Xn.length;n++){var r=Xn[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)wm(n),n.blockedOn===null&&Xn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],f=o[ct]||null;if(typeof c=="function")f||Em(n);else if(f){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,f=c[ct]||null)p=f.formAction;else if(ku(o)!==null)continue}else p=f.action;typeof p=="function"?n[r+1]=p:(n.splice(r,3),r-=3),Em(n)}}}function xm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Du(e){this._internalRoot=e}Wr.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,r=At();gm(n,r,e,t,null,null)},Wr.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gm(e.current,2,null,e,null,null),kr(),t[Aa]=null}};function Wr(e){this._internalRoot=e}Wr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xn.length&&t!==0&&t<Xn[n].priority;n++);Xn.splice(n,0,e),n===0&&wm(e)}};var Tm=a.version;if(Tm!=="19.2.3")throw Error(s(527,Tm,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var wv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fr.isDisabled&&Fr.supportsFiber)try{Ti=Fr.inject(wv),vt=Fr}catch{}}return vl.createRoot=function(e,t){if(!u(e))throw Error(s(299));var n=!1,r="",o=Nd,c=kd,f=Ud;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=fm(e,1,!1,null,null,n,r,null,o,c,f,xm),e[Aa]=t.current,gu(e),new Du(t)},vl.hydrateRoot=function(e,t,n){if(!u(e))throw Error(s(299));var r=!1,o="",c=Nd,f=kd,p=Ud,w=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=fm(e,1,!0,t,n??null,r,o,w,c,f,p,xm),t.context=mm(null),n=t.current,r=At(),r=Es(r),o=Dn(r),o.callback=null,zn(n,o,r),n=r,t.current.lanes=n,Ri(t,n),Ft(t),e[Aa]=t.current,gu(e),new Wr(t)},vl.version="19.2.3",vl}var zm;function Nv(){if(zm)return Bu.exports;zm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Bu.exports=Cv(),Bu.exports}var kv=Nv();var Mm="popstate";function Uv(i={}){function a(s,u){let{pathname:h,search:d,hash:g}=s.location;return Fu("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function l(s,u){return typeof u=="string"?u:xl(u)}return zv(a,l,null,i)}function Ue(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Xt(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Dv(){return Math.random().toString(36).substring(2,10)}function Bm(i,a){return{usr:i.state,key:i.key,idx:a}}function Fu(i,a,l=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?Si(a):a,state:l,key:a&&a.key||s||Dv()}}function xl({pathname:i="/",search:a="",hash:l=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(i+=l.charAt(0)==="#"?l:"#"+l),i}function Si(i){let a={};if(i){let l=i.indexOf("#");l>=0&&(a.hash=i.substring(l),i=i.substring(0,l));let s=i.indexOf("?");s>=0&&(a.search=i.substring(s),i=i.substring(0,s)),i&&(a.pathname=i)}return a}function zv(i,a,l,s={}){let{window:u=document.defaultView,v5Compat:h=!1}=s,d=u.history,g="POP",m=null,y=b();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function b(){return(d.state||{idx:null}).idx}function _(){g="POP";let k=b(),D=k==null?null:k-y;y=k,m&&m({action:g,location:O.location,delta:D})}function E(k,D){g="PUSH";let q=Fu(O.location,k,D);y=b()+1;let M=Bm(q,y),Z=O.createHref(q);try{d.pushState(M,"",Z)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;u.location.assign(Z)}h&&m&&m({action:g,location:O.location,delta:1})}function T(k,D){g="REPLACE";let q=Fu(O.location,k,D);y=b();let M=Bm(q,y),Z=O.createHref(q);d.replaceState(M,"",Z),h&&m&&m({action:g,location:O.location,delta:0})}function j(k){return Mv(k)}let O={get action(){return g},get location(){return i(u,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(Mm,_),m=k,()=>{u.removeEventListener(Mm,_),m=null}},createHref(k){return a(u,k)},createURL:j,encodeLocation(k){let D=j(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:T,go(k){return d.go(k)}};return O}function Mv(i,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(l,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:xl(i);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=l+s),new URL(s,l)}function dg(i,a,l="/"){return Bv(i,a,l,!1)}function Bv(i,a,l,s){let u=typeof a=="string"?Si(a):a,h=En(u.pathname||"/",l);if(h==null)return null;let d=fg(i);Lv(d);let g=null;for(let m=0;g==null&&m<d.length;++m){let y=Xv(h);g=Zv(d[m],y,s)}return g}function fg(i,a=[],l=[],s="",u=!1){let h=(d,g,m=u,y)=>{let b={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&m)return;Ue(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let _=Sn([s,b.relativePath]),E=l.concat(b);d.children&&d.children.length>0&&(Ue(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),fg(d.children,a,E,_,m)),!(d.path==null&&!d.index)&&a.push({path:_,score:Kv(_,d.index),routesMeta:E})};return i.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))h(d,g);else for(let m of mg(d.path))h(d,g,!0,m)}),a}function mg(i){let a=i.split("/");if(a.length===0)return[];let[l,...s]=a,u=l.endsWith("?"),h=l.replace(/\?$/,"");if(s.length===0)return u?[h,""]:[h];let d=mg(s.join("/")),g=[];return g.push(...d.map(m=>m===""?h:[h,m].join("/"))),u&&g.push(...d),g.map(m=>i.startsWith("/")&&m===""?"/":m)}function Lv(i){i.sort((a,l)=>a.score!==l.score?l.score-a.score:Jv(a.routesMeta.map(s=>s.childrenIndex),l.routesMeta.map(s=>s.childrenIndex)))}var qv=/^:[\w-]+$/,Hv=3,$v=2,Gv=1,Vv=10,Yv=-2,Lm=i=>i==="*";function Kv(i,a){let l=i.split("/"),s=l.length;return l.some(Lm)&&(s+=Yv),a&&(s+=$v),l.filter(u=>!Lm(u)).reduce((u,h)=>u+(qv.test(h)?Hv:h===""?Gv:Vv),s)}function Jv(i,a){return i.length===a.length&&i.slice(0,-1).every((s,u)=>s===a[u])?i[i.length-1]-a[a.length-1]:0}function Zv(i,a,l=!1){let{routesMeta:s}=i,u={},h="/",d=[];for(let g=0;g<s.length;++g){let m=s[g],y=g===s.length-1,b=h==="/"?a:a.slice(h.length)||"/",_=ss({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},b),E=m.route;if(!_&&y&&l&&!s[s.length-1].route.index&&(_=ss({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!_)return null;Object.assign(u,_.params),d.push({params:u,pathname:Sn([h,_.pathname]),pathnameBase:Fv(Sn([h,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(h=Sn([h,_.pathnameBase]))}return d}function ss(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[l,s]=Qv(i.path,i.caseSensitive,i.end),u=a.match(l);if(!u)return null;let h=u[0],d=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:_},E)=>{if(b==="*"){let j=g[E]||"";d=h.slice(0,h.length-j.length).replace(/(.)\/+$/,"$1")}const T=g[E];return _&&!T?y[b]=void 0:y[b]=(T||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:i}}function Qv(i,a=!1,l=!0){Xt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),s]}function Xv(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Xt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function En(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,s=i.charAt(l);return s&&s!=="/"?null:i.slice(l)||"/"}var gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pv=i=>gg.test(i);function Iv(i,a="/"){let{pathname:l,search:s="",hash:u=""}=typeof i=="string"?Si(i):i,h;if(l)if(Pv(l))h=l;else{if(l.includes("//")){let d=l;l=l.replace(/\/\/+/g,"/"),Xt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${l}`)}l.startsWith("/")?h=qm(l.substring(1),"/"):h=qm(l,a)}else h=a;return{pathname:h,search:e0(s),hash:t0(u)}}function qm(i,a){let l=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function $u(i,a,l,s){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wv(i){return i.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function yg(i){let a=Wv(i);return a.map((l,s)=>s===a.length-1?l.pathname:l.pathnameBase)}function pg(i,a,l,s=!1){let u;typeof i=="string"?u=Si(i):(u={...i},Ue(!u.pathname||!u.pathname.includes("?"),$u("?","pathname","search",u)),Ue(!u.pathname||!u.pathname.includes("#"),$u("#","pathname","hash",u)),Ue(!u.search||!u.search.includes("#"),$u("#","search","hash",u)));let h=i===""||u.pathname==="",d=h?"/":u.pathname,g;if(d==null)g=l;else{let _=a.length-1;if(!s&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),_-=1;u.pathname=E.join("/")}g=_>=0?a[_]:"/"}let m=Iv(u,g),y=d&&d!=="/"&&d.endsWith("/"),b=(h||d===".")&&l.endsWith("/");return!m.pathname.endsWith("/")&&(y||b)&&(m.pathname+="/"),m}var Sn=i=>i.join("/").replace(/\/\/+/g,"/"),Fv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),e0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,t0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,n0=class{constructor(i,a,l,s=!1){this.status=i,this.statusText=a||"",this.internal=s,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function a0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function i0(i){return i.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bg(i,a){let l=i;if(typeof l!="string"||!gg.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let s=l,u=!1;if(vg)try{let h=new URL(window.location.href),d=l.startsWith("//")?new URL(h.protocol+l):new URL(l),g=En(d.pathname,a);d.origin===h.origin&&g!=null?l=g+d.search+d.hash:u=!0}catch{Xt(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:u,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _g=["POST","PUT","PATCH","DELETE"];new Set(_g);var l0=["GET",..._g];new Set(l0);var Ei=R.createContext(null);Ei.displayName="DataRouter";var hs=R.createContext(null);hs.displayName="DataRouterState";var r0=R.createContext(!1),wg=R.createContext({isTransitioning:!1});wg.displayName="ViewTransition";var s0=R.createContext(new Map);s0.displayName="Fetchers";var o0=R.createContext(null);o0.displayName="Await";var $t=R.createContext(null);$t.displayName="Navigation";var kl=R.createContext(null);kl.displayName="Location";var xn=R.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var fc=R.createContext(null);fc.displayName="RouteError";var Sg="REACT_ROUTER_ERROR",u0="REDIRECT",c0="ROUTE_ERROR_RESPONSE";function h0(i){if(i.startsWith(`${Sg}:${u0}:{`))try{let a=JSON.parse(i.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function d0(i){if(i.startsWith(`${Sg}:${c0}:{`))try{let a=JSON.parse(i.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new n0(a.status,a.statusText,a.data)}catch{}}function f0(i,{relative:a}={}){Ue(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:s}=R.useContext($t),{hash:u,pathname:h,search:d}=Dl(i,{relative:a}),g=h;return l!=="/"&&(g=h==="/"?l:Sn([l,h])),s.createHref({pathname:g,search:d,hash:u})}function Ul(){return R.useContext(kl)!=null}function Ta(){return Ue(Ul(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(kl).location}var Eg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xg(i){R.useContext($t).static||R.useLayoutEffect(i)}function ot(){let{isDataRoute:i}=R.useContext(xn);return i?A0():m0()}function m0(){Ue(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(Ei),{basename:a,navigator:l}=R.useContext($t),{matches:s}=R.useContext(xn),{pathname:u}=Ta(),h=JSON.stringify(yg(s)),d=R.useRef(!1);return xg(()=>{d.current=!0}),R.useCallback((m,y={})=>{if(Xt(d.current,Eg),!d.current)return;if(typeof m=="number"){l.go(m);return}let b=pg(m,JSON.parse(h),u,y.relative==="path");i==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:Sn([a,b.pathname])),(y.replace?l.replace:l.push)(b,y.state,y)},[a,l,h,u,i])}R.createContext(null);function Dl(i,{relative:a}={}){let{matches:l}=R.useContext(xn),{pathname:s}=Ta(),u=JSON.stringify(yg(l));return R.useMemo(()=>pg(i,JSON.parse(u),s,a==="path"),[i,u,s,a])}function g0(i,a){return Tg(i,a)}function Tg(i,a,l,s,u){Ue(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=R.useContext($t),{matches:d}=R.useContext(xn),g=d[d.length-1],m=g?g.params:{},y=g?g.pathname:"/",b=g?g.pathnameBase:"/",_=g&&g.route;{let q=_&&_.path||"";Rg(y,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=Ta(),T;if(a){let q=typeof a=="string"?Si(a):a;Ue(b==="/"||q.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${q.pathname}" was given in the \`location\` prop.`),T=q}else T=E;let j=T.pathname||"/",O=j;if(b!=="/"){let q=b.replace(/^\//,"").split("/");O="/"+j.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=dg(i,{pathname:O});Xt(_||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=_0(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Sn([b,h.encodeLocation?h.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?b:Sn([b,h.encodeLocation?h.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),d,l,s,u);return a&&D?R.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function y0(){let i=T0(),a=a0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),l=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:h},"ErrorBoundary")," or"," ",R.createElement("code",{style:h},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},a),l?R.createElement("pre",{style:u},l):null,d)}var p0=R.createElement(y0,null),Ag=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.onError?this.props.onError(i,a):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const l=d0(i.digest);l&&(i=l)}let a=i!==void 0?R.createElement(xn.Provider,{value:this.props.routeContext},R.createElement(fc.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?R.createElement(v0,{error:i},a):a}};Ag.contextType=r0;var Gu=new WeakMap;function v0({children:i,error:a}){let{basename:l}=R.useContext($t);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=h0(a.digest);if(s){let u=Gu.get(a);if(u)throw u;let h=bg(s.location,l);if(vg&&!Gu.get(a))if(h.isExternal||s.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:s.replace}));throw Gu.set(a,d),d}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return i}function b0({routeContext:i,match:a,children:l}){let s=R.useContext(Ei);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),R.createElement(xn.Provider,{value:i},l)}function _0(i,a=[],l=null,s=null,u=null){if(i==null){if(!l)return null;if(l.errors)i=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)i=l.matches;else return null}let h=i,d=l?.errors;if(d!=null){let b=h.findIndex(_=>_.route.id&&d?.[_.route.id]!==void 0);Ue(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let g=!1,m=-1;if(l)for(let b=0;b<h.length;b++){let _=h[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=b),_.route.id){let{loaderData:E,errors:T}=l,j=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||j){g=!0,m>=0?h=h.slice(0,m+1):h=[h[0]];break}}}let y=l&&s?(b,_)=>{s(b,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:i0(l.matches),errorInfo:_})}:void 0;return h.reduceRight((b,_,E)=>{let T,j=!1,O=null,k=null;l&&(T=d&&_.route.id?d[_.route.id]:void 0,O=_.route.errorElement||p0,g&&(m<0&&E===0?(Rg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):m===E&&(j=!0,k=_.route.hydrateFallbackElement||null)));let D=a.concat(h.slice(0,E+1)),q=()=>{let M;return T?M=O:j?M=k:_.route.Component?M=R.createElement(_.route.Component,null):_.route.element?M=_.route.element:M=b,R.createElement(b0,{match:_,routeContext:{outlet:b,matches:D,isDataRoute:l!=null},children:M})};return l&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?R.createElement(Ag,{location:l.location,revalidation:l.revalidation,component:O,error:T,children:q(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:y}):q()},null)}function mc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w0(i){let a=R.useContext(Ei);return Ue(a,mc(i)),a}function S0(i){let a=R.useContext(hs);return Ue(a,mc(i)),a}function E0(i){let a=R.useContext(xn);return Ue(a,mc(i)),a}function gc(i){let a=E0(i),l=a.matches[a.matches.length-1];return Ue(l.route.id,`${i} can only be used on routes that contain a unique "id"`),l.route.id}function x0(){return gc("useRouteId")}function T0(){let i=R.useContext(fc),a=S0("useRouteError"),l=gc("useRouteError");return i!==void 0?i:a.errors?.[l]}function A0(){let{router:i}=w0("useNavigate"),a=gc("useNavigate"),l=R.useRef(!1);return xg(()=>{l.current=!0}),R.useCallback(async(u,h={})=>{Xt(l.current,Eg),l.current&&(typeof u=="number"?await i.navigate(u):await i.navigate(u,{fromRouteId:a,...h}))},[i,a])}var Hm={};function Rg(i,a,l){!a&&!Hm[i]&&(Hm[i]=!0,Xt(!1,l))}R.memo(R0);function R0({routes:i,future:a,state:l,onError:s}){return Tg(i,void 0,l,s,a)}function st(i){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O0({basename:i="/",children:a=null,location:l,navigationType:s="POP",navigator:u,static:h=!1,unstable_useTransitions:d}){Ue(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:g,navigator:u,static:h,unstable_useTransitions:d,future:{}}),[g,u,h,d]);typeof l=="string"&&(l=Si(l));let{pathname:y="/",search:b="",hash:_="",state:E=null,key:T="default"}=l,j=R.useMemo(()=>{let O=En(y,g);return O==null?null:{location:{pathname:O,search:b,hash:_,state:E,key:T},navigationType:s}},[g,y,b,_,E,T,s]);return Xt(j!=null,`<Router basename="${g}"> is not able to match the URL "${y}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:R.createElement($t.Provider,{value:m},R.createElement(kl.Provider,{children:a,value:j}))}function j0({children:i,location:a}){return g0(ec(i),a)}function ec(i,a=[]){let l=[];return R.Children.forEach(i,(s,u)=>{if(!R.isValidElement(s))return;let h=[...a,u];if(s.type===R.Fragment){l.push.apply(l,ec(s.props.children,h));return}Ue(s.type===st,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ec(s.props.children,h)),l.push(d)}),l}var ls="get",rs="application/x-www-form-urlencoded";function ds(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function C0(i){return ds(i)&&i.tagName.toLowerCase()==="button"}function N0(i){return ds(i)&&i.tagName.toLowerCase()==="form"}function k0(i){return ds(i)&&i.tagName.toLowerCase()==="input"}function U0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function D0(i,a){return i.button===0&&(!a||a==="_self")&&!U0(i)}var es=null;function z0(){if(es===null)try{new FormData(document.createElement("form"),0),es=!1}catch{es=!0}return es}var M0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vu(i){return i!=null&&!M0.has(i)?(Xt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rs}"`),null):i}function B0(i,a){let l,s,u,h,d;if(N0(i)){let g=i.getAttribute("action");s=g?En(g,a):null,l=i.getAttribute("method")||ls,u=Vu(i.getAttribute("enctype"))||rs,h=new FormData(i)}else if(C0(i)||k0(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||g.getAttribute("action");if(s=m?En(m,a):null,l=i.getAttribute("formmethod")||g.getAttribute("method")||ls,u=Vu(i.getAttribute("formenctype"))||Vu(g.getAttribute("enctype"))||rs,h=new FormData(g,i),!z0()){let{name:y,type:b,value:_}=i;if(b==="image"){let E=y?`${y}.`:"";h.append(`${E}x`,"0"),h.append(`${E}y`,"0")}else y&&h.append(y,_)}}else{if(ds(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=ls,s=null,u=rs,d=i}return h&&u==="text/plain"&&(d=h,h=void 0),{action:s,method:l.toLowerCase(),encType:u,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yc(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function L0(i,a,l,s){let u=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${s}`:u.pathname=`${u.pathname}.${s}`:u.pathname==="/"?u.pathname=`_root.${s}`:a&&En(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${s}`,u}async function q0(i,a){if(i.id in a)return a[i.id];try{let l=await import(i.module);return a[i.id]=l,l}catch(l){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $0(i,a,l){let s=await Promise.all(i.map(async u=>{let h=a.routes[u.route.id];if(h){let d=await q0(h,l);return d.links?d.links():[]}return[]}));return K0(s.flat(1).filter(H0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function $m(i,a,l,s,u,h){let d=(m,y)=>l[y]?m.route.id!==l[y].route.id:!0,g=(m,y)=>l[y].pathname!==m.pathname||l[y].route.path?.endsWith("*")&&l[y].params["*"]!==m.params["*"];return h==="assets"?a.filter((m,y)=>d(m,y)||g(m,y)):h==="data"?a.filter((m,y)=>{let b=s.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(d(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function G0(i,a,{includeHydrateFallback:l}={}){return V0(i.map(s=>{let u=a.routes[s.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function V0(i){return[...new Set(i)]}function Y0(i){let a={},l=Object.keys(i).sort();for(let s of l)a[s]=i[s];return a}function K0(i,a){let l=new Set;return new Set(a),i.reduce((s,u)=>{let h=JSON.stringify(Y0(u));return l.has(h)||(l.add(h),s.push({key:h,link:u})),s},[])}function Og(){let i=R.useContext(Ei);return yc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function J0(){let i=R.useContext(hs);return yc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pc=R.createContext(void 0);pc.displayName="FrameworkContext";function jg(){let i=R.useContext(pc);return yc(i,"You must render this element inside a <HydratedRouter> element"),i}function Z0(i,a){let l=R.useContext(pc),[s,u]=R.useState(!1),[h,d]=R.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:b,onTouchStart:_}=a,E=R.useRef(null);R.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let O=D=>{D.forEach(q=>{d(q.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[i]),R.useEffect(()=>{if(s){let O=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(O)}}},[s]);let T=()=>{u(!0)},j=()=>{u(!1),d(!1)};return l?i!=="intent"?[h,E,{}]:[h,E,{onFocus:bl(g,T),onBlur:bl(m,j),onMouseEnter:bl(y,T),onMouseLeave:bl(b,j),onTouchStart:bl(_,T)}]:[!1,E,{}]}function bl(i,a){return l=>{i&&i(l),l.defaultPrevented||a(l)}}function Q0({page:i,...a}){let{router:l}=Og(),s=R.useMemo(()=>dg(l.routes,i,l.basename),[l.routes,i,l.basename]);return s?R.createElement(P0,{page:i,matches:s,...a}):null}function X0(i){let{manifest:a,routeModules:l}=jg(),[s,u]=R.useState([]);return R.useEffect(()=>{let h=!1;return $0(i,a,l).then(d=>{h||u(d)}),()=>{h=!0}},[i,a,l]),s}function P0({page:i,matches:a,...l}){let s=Ta(),{future:u,manifest:h,routeModules:d}=jg(),{basename:g}=Og(),{loaderData:m,matches:y}=J0(),b=R.useMemo(()=>$m(i,a,y,h,s,"data"),[i,a,y,h,s]),_=R.useMemo(()=>$m(i,a,y,h,s,"assets"),[i,a,y,h,s]),E=R.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,k=!1;if(a.forEach(q=>{let M=h.routes[q.route.id];!M||!M.hasLoader||(!b.some(Z=>Z.route.id===q.route.id)&&q.route.id in m&&d[q.route.id]?.shouldRevalidate||M.hasClientLoader?k=!0:O.add(q.route.id))}),O.size===0)return[];let D=L0(i,g,u.unstable_trailingSlashAwareDataRequests,"data");return k&&O.size>0&&D.searchParams.set("_routes",a.filter(q=>O.has(q.route.id)).map(q=>q.route.id).join(",")),[D.pathname+D.search]},[g,u.unstable_trailingSlashAwareDataRequests,m,s,h,b,a,i,d]),T=R.useMemo(()=>G0(_,h),[_,h]),j=X0(_);return R.createElement(R.Fragment,null,E.map(O=>R.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...l})),T.map(O=>R.createElement("link",{key:O,rel:"modulepreload",href:O,...l})),j.map(({key:O,link:k})=>R.createElement("link",{key:O,nonce:l.nonce,...k})))}function I0(...i){return a=>{i.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var W0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W0&&(window.__reactRouterVersion="7.12.0")}catch{}function F0({basename:i,children:a,unstable_useTransitions:l,window:s}){let u=R.useRef();u.current==null&&(u.current=Uv({window:s,v5Compat:!0}));let h=u.current,[d,g]=R.useState({action:h.action,location:h.location}),m=R.useCallback(y=>{l===!1?g(y):R.startTransition(()=>g(y))},[l]);return R.useLayoutEffect(()=>h.listen(m),[h,m]),R.createElement(O0,{basename:i,children:a,location:d.location,navigationType:d.action,navigator:h,unstable_useTransitions:l})}var Cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ng=R.forwardRef(function({onClick:a,discover:l="render",prefetch:s="none",relative:u,reloadDocument:h,replace:d,state:g,target:m,to:y,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},j){let{basename:O,unstable_useTransitions:k}=R.useContext($t),D=typeof y=="string"&&Cg.test(y),q=bg(y,O);y=q.to;let M=f0(y,{relative:u}),[Z,te,W]=Z0(s,T),K=ab(y,{replace:d,state:g,target:m,preventScrollReset:b,relative:u,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:k});function ye(ut){a&&a(ut),ut.defaultPrevented||K(ut)}let we=R.createElement("a",{...T,...W,href:q.absoluteURL||M,onClick:q.isExternal||h?a:ye,ref:I0(j,te),target:m,"data-discover":!D&&l==="render"?"true":void 0});return Z&&!D?R.createElement(R.Fragment,null,we,R.createElement(Q0,{page:M})):we});Ng.displayName="Link";var eb=R.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:s="",end:u=!1,style:h,to:d,viewTransition:g,children:m,...y},b){let _=Dl(d,{relative:y.relative}),E=Ta(),T=R.useContext(hs),{navigator:j,basename:O}=R.useContext($t),k=T!=null&&ob(_)&&g===!0,D=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,q=E.pathname,M=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;l||(q=q.toLowerCase(),M=M?M.toLowerCase():null,D=D.toLowerCase()),M&&O&&(M=En(M,O)||M);const Z=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let te=q===D||!u&&q.startsWith(D)&&q.charAt(Z)==="/",W=M!=null&&(M===D||!u&&M.startsWith(D)&&M.charAt(D.length)==="/"),K={isActive:te,isPending:W,isTransitioning:k},ye=te?a:void 0,we;typeof s=="function"?we=s(K):we=[s,te?"active":null,W?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ut=typeof h=="function"?h(K):h;return R.createElement(Ng,{...y,"aria-current":ye,className:we,ref:b,style:ut,to:d,viewTransition:g},typeof m=="function"?m(K):m)});eb.displayName="NavLink";var tb=R.forwardRef(({discover:i="render",fetcherKey:a,navigate:l,reloadDocument:s,replace:u,state:h,method:d=ls,action:g,onSubmit:m,relative:y,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},j)=>{let{unstable_useTransitions:O}=R.useContext($t),k=rb(),D=sb(g,{relative:y}),q=d.toLowerCase()==="get"?"get":"post",M=typeof g=="string"&&Cg.test(g),Z=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let W=te.nativeEvent.submitter,K=W?.getAttribute("formmethod")||d,ye=()=>k(W||te.currentTarget,{fetcherKey:a,method:K,navigate:l,replace:u,state:h,relative:y,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:E});O&&l!==!1?R.startTransition(()=>ye()):ye()};return R.createElement("form",{ref:j,method:q,action:D,onSubmit:s?m:Z,...T,"data-discover":!M&&i==="render"?"true":void 0})});tb.displayName="Form";function nb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kg(i){let a=R.useContext(Ei);return Ue(a,nb(i)),a}function ab(i,{target:a,replace:l,state:s,preventScrollReset:u,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let y=ot(),b=Ta(),_=Dl(i,{relative:h});return R.useCallback(E=>{if(D0(E,a)){E.preventDefault();let T=l!==void 0?l:xl(b)===xl(_),j=()=>y(i,{replace:T,state:s,preventScrollReset:u,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:g});m?R.startTransition(()=>j()):j()}},[b,y,_,l,s,a,i,u,h,d,g,m])}var ib=0,lb=()=>`__${String(++ib)}__`;function rb(){let{router:i}=kg("useSubmit"),{basename:a}=R.useContext($t),l=x0(),s=i.fetch,u=i.navigate;return R.useCallback(async(h,d={})=>{let{action:g,method:m,encType:y,formData:b,body:_}=B0(h,a);if(d.navigate===!1){let E=d.fetcherKey||lb();await s(E,l,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:_,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await u(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:_,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:l,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,u,a,l])}function sb(i,{relative:a}={}){let{basename:l}=R.useContext($t),s=R.useContext(xn);Ue(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),h={...Dl(i||".",{relative:a})},d=Ta();if(i==null){h.search=d.search;let g=new URLSearchParams(h.search),m=g.getAll("index");if(m.some(b=>b==="")){g.delete("index"),m.filter(_=>_).forEach(_=>g.append("index",_));let b=g.toString();h.search=b?`?${b}`:""}}return(!i||i===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(h.pathname=h.pathname==="/"?l:Sn([l,h.pathname])),xl(h)}function ob(i,{relative:a}={}){let l=R.useContext(wg);Ue(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kg("useViewTransitionState"),u=Dl(i,{relative:a});if(!l.isTransitioning)return!1;let h=En(l.currentLocation.pathname,s)||l.currentLocation.pathname,d=En(l.nextLocation.pathname,s)||l.nextLocation.pathname;return ss(u.pathname,d)!=null||ss(u.pathname,h)!=null}const ub=()=>{const[i,a]=R.useState(!1),[l,s]=R.useState(null),[u,h]=R.useState("Take Photo"),d=R.useRef(null),g=R.useRef(null),m=R.useRef(null),y=R.useRef(null),b=R.useCallback(O=>{y.current&&(m.current=O,y.current.click())},[]),_=R.useCallback(O=>{const k=O.target.files[0];if(k){const D=new FileReader;D.onload=q=>{m.current&&m.current(q.target.result)},D.readAsDataURL(k)}y.current&&(y.current.value="")},[]),E=R.useCallback(async(O,k="Take Photo")=>{if(m.current=O,h(k),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){console.log("No camera API, using file picker"),b(O);return}try{const D=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}},audio:!1});s(D),a(!0),setTimeout(()=>{d.current&&(d.current.srcObject=D)},100)}catch(D){console.log("Camera API failed, using file picker fallback:",D),b(O)}},[b]),T=R.useCallback(()=>{if(!d.current||!g.current)return;const O=d.current,k=g.current,D=m.current;k.width=O.videoWidth,k.height=O.videoHeight,k.getContext("2d").drawImage(O,0,0);const q=k.toDataURL("image/jpeg",.7);l&&l.getTracks().forEach(M=>M.stop()),s(null),a(!1),D&&D(q),m.current=null},[l]),j=R.useCallback(()=>{l&&l.getTracks().forEach(O=>O.stop()),s(null),a(!1),m.current=null},[l]);return{isOpen:i,label:u,videoRef:d,canvasRef:g,fileInputRef:y,openCamera:E,capturePhoto:T,closeCamera:j,handleFileSelect:_}},wn={entry:{name:"Entry & Lobby",type:"mandatory",amberEligible:!0,description:"Parent-facing zone",cleanliness:["Floor free of debris, spills, and stains?","Entry mat clean and flat (no trip hazard)?","Exterior door glass smudge-free?","Interior glass smudge-free?","Reception surfaces dust-free?","High-touch surfaces clean (door handles, counter)?","Trash cans empty with liners intact?","No detectable odor from doorway?","All clear  no safety hazards?"]},hallway:{name:"Hallway / Corridor",type:"mandatory",amberEligible:!0,cleanliness:["Floor free of debris, spills, and stains?","Edges, corners, and baseboards dust-free?","No visible scuff marks on walls?","Glass and doors smudge-free?","High-touch surfaces clean (door handles, railings)?","Trash cans empty with liners intact?","All clear  no safety hazards?"]},restroom_primary:{name:"Restroom (Primary)",type:"mandatory",amberEligible:!1,description:"Any defect = RED",cleanliness:["Toilets/urinals sanitary (no visible soil, stains, residue)?","Sinks and counters dry and clean?","Mirrors smudge-free?","Floor free of debris, water, and stains?","Soap dispensers functional and stocked?","Paper towels/hand dryers functional and stocked?","Toilet paper stocked (not empty)?","Trash cans empty with liners intact?","No detectable odor from doorway?","All clear  no safety hazards?"]},commons:{name:"Commons Area",type:"mandatory",amberEligible:!0,cleanliness:["Floor free of debris, spills, and stains?","Tables and surfaces clean and dry?","Furniture properly arranged (not scattered)?","High-touch surfaces clean?","Trash cans empty with liners intact?","No detectable odor?","All clear  no safety hazards?"]},supply_closet:{name:"Supply Closet",type:"mandatory",amberEligible:!0,description:"1-week minimum threshold",isSupplyCheck:!0,cleanliness:["Toilet paper: 1-week supply available?","Paper towels: 1-week supply available?","Soap/sanitizer: 1-week supply available?","Trash liners: 1-week supply available?","Cleaning supplies present and stocked?","Closet organized (not cluttered/hazardous)?"],supplyItems:[0,1,2,3]},restroom_additional:{name:"Restroom (Additional)",type:"optional",amberEligible:!1,description:"Any defect = RED",cleanliness:["Toilets/urinals sanitary?","Sinks and counters dry and clean?","Mirrors smudge-free?","Floor free of debris, water, and stains?","Soap dispensers functional and stocked?","Paper towels/hand dryers functional and stocked?","Toilet paper stocked?","Trash cans empty with liners intact?","No detectable odor from doorway?","All clear  no safety hazards?"]},classroom:{name:"Classroom",type:"optional",amberEligible:!0,cleanliness:["Floor free of debris, spills, and stains?","Edges, corners, and baseboards dust-free?","Student desks/tables clean?","Teacher desk/surfaces clean?","Whiteboard/board area clean (tray, ledge)?","High-touch surfaces clean (door handle, light switches)?","Trash cans empty with liners intact?","All clear  no safety hazards?"]},office:{name:"Office / Workroom",type:"optional",amberEligible:!0,cleanliness:["Floor free of debris and stains?","Desk and work surfaces dust-free?","High-touch surfaces clean?","Trash cans empty with liners intact?","All clear  no safety hazards?"]},gym:{name:"Gym / Multi-Purpose",type:"optional",amberEligible:!0,cleanliness:["Floor free of debris, spills, and stains?","Floor finish intact (no excessive scuffing/peeling)?","Bleachers/seating clean?","Equipment storage area organized?","High-touch surfaces clean (door handles, equipment)?","Trash cans empty with liners intact?","No detectable odor?","All clear  no safety hazards?"]},cafeteria:{name:"Cafeteria",type:"optional",amberEligible:!0,cleanliness:["Floor free of debris, spills, and stains?","Tables and seating clean and dry?","Service/counter area clean?","High-touch surfaces clean?","Trash cans empty with liners intact?","No detectable odor?","All clear  no safety hazards?"]}},wl=["entry","hallway","restroom_primary","commons","supply_closet"],cb=["restroom_additional","classroom","office","gym","cafeteria"],hb=()=>{const[i,a]=R.useState(null),[l,s]=R.useState(""),[u,h]=R.useState(null),[d,g]=R.useState([]),[m,y]=R.useState(0),[b,_]=R.useState({}),[E,T]=R.useState([]),[j,O]=R.useState(null),k=R.useMemo(()=>[...wl,...d],[d]),D=R.useMemo(()=>k[m],[k,m]),q=R.useMemo(()=>wn[D],[D]),M=R.useCallback(X=>{const F=b[X]||{};return Object.values(F).filter(S=>S==="no").length},[b]),Z=R.useCallback(()=>k.reduce((X,F)=>X+M(F),0),[k,M]),te=R.useCallback(()=>{let X=0,F=!1;for(const S of k){const B=wn[S],V=M(S);X+=V,!B.amberEligible&&V>0&&(F=!0)}return j==="no"||F?"RED":X===0?"GREEN":X===1?"AMBER":"RED"},[k,M,j]),W=R.useCallback(X=>{const F=wn[X],S=b[X]||{};return Object.keys(S).length===F.cleanliness.length},[b]),K=R.useCallback((X,F,S)=>{_(B=>({...B,[X]:{...B[X]||{},[F]:S}}))},[]),ye=R.useCallback((X,F,S={})=>{T(B=>{const V=B.findIndex(J=>J.zoneId===X);if(V>=0){const J=[...B];return J[V]={...J[V],hasIssue:F,...F?S:{photo:null,note:""}},J}else return[...B,{zoneId:X,hasIssue:F,note:"",photo:null,...S}]})},[]),we=R.useCallback((X,F)=>{T(S=>{const B=S.findIndex(V=>V.zoneId===X);if(B>=0){const V=[...S];return V[B]={...V[B],photo:F},V}return S})},[]),ut=R.useCallback((X,F)=>{T(S=>{const B=S.findIndex(V=>V.zoneId===X);if(B>=0){const V=[...S];return V[B]={...V[B],note:F},V}return S})},[]),Ct=R.useCallback(X=>{const F=E.find(S=>S.zoneId===X);return F?F.hasIssue===!1?!0:F.hasIssue&&F.photo&&F.note&&F.note.length>0:!1},[E]),nt=R.useCallback(X=>E.find(F=>F.zoneId===X),[E]),en=R.useCallback(()=>{a(null),s(""),h(null),g([]),y(0),_({}),T([]),O(null)},[]),Gt=R.useCallback((X,F,S)=>{a(X),s(F),g(S),h(Date.now())},[]),it=R.useCallback(()=>u?Math.round((Date.now()-u)/6e4):0,[u]),H=R.useCallback(()=>Object.keys(b).length,[b]),Y=R.useCallback(()=>{for(let X=0;X<k.length;X++)if(!b[k[X]])return X;return-1},[k,b]),ae=R.useCallback(()=>({date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),campus:i?.name||"",auditor:l,status:te(),defects:Z(),zones:k.length,duration:it(),tourReady:j==="yes",conditionAlerts:E.filter(X=>X.hasIssue).length,zoneResults:b,conditionAlertDetails:E.filter(X=>X.hasIssue),campusData:i}),[i,l,te,Z,k,it,j,E,b]);return{campus:i,auditorName:l,startTime:u,selectedOptionalZones:d,currentZoneIndex:m,zoneResults:b,conditionAlerts:E,tourReady:j,allZones:k,currentZoneId:D,currentZone:q,setCampus:a,setAuditorName:s,setSelectedOptionalZones:g,setCurrentZoneIndex:y,setTourReady:O,setResponse:K,setConditionAlert:ye,updateConditionAlertPhoto:we,updateConditionAlertNote:ut,countDefects:M,getTotalDefects:Z,calculateStatus:te,isZoneComplete:W,canCompleteCondition:Ct,getConditionAlert:nt,getDuration:it,getCompletedZonesCount:H,getNextIncompleteZoneIndex:Y,resetAudit:en,beginAudit:Gt,buildAuditData:ae}},db=()=>{const[i,a]=R.useState(null),[l,s]=R.useState(null),[u,h]=R.useState(null),[d,g]=R.useState(""),[m,y]=R.useState(""),[b,_]=R.useState(!1),E=R.useCallback(()=>{a(null),s(null),h(null),g(""),y(""),_(!1)},[]);return{campus:i,photo:l,category:u,location:d,note:m,urgent:b,setCampus:a,setPhoto:s,setCategory:h,setLocation:g,setNote:y,setUrgent:_,resetReport:E}},fb=({isOpen:i,label:a,videoRef:l,canvasRef:s,onCapture:u,onClose:h})=>i?v.jsxs("div",{className:"fixed inset-0 z-50 bg-black",children:[v.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),v.jsx("canvas",{ref:s,className:"hidden"}),v.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[v.jsxs("div",{className:"bg-black/50 p-4 flex justify-between items-center",children:[v.jsx("button",{onClick:h,className:"text-white text-lg",children:" Cancel"}),v.jsxs("span",{className:"text-white text-sm",children:[" ",a]})]}),v.jsx("div",{className:"flex-1"}),v.jsx("div",{className:"bg-black/50 p-6 flex justify-center",children:v.jsx("button",{onClick:u,className:"w-20 h-20 rounded-full border-4 border-white flex items-center justify-center bg-white/20 active:bg-white/40",children:v.jsx("div",{className:"w-16 h-16 rounded-full bg-white"})})})]})]}):null;function fs(i,a){var l={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.indexOf(s)<0&&(l[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(i);u<s.length;u++)a.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(i,s[u])&&(l[s[u]]=i[s[u]]);return l}function mb(i,a,l,s){function u(h){return h instanceof l?h:new l(function(d){d(h)})}return new(l||(l=Promise))(function(h,d){function g(b){try{y(s.next(b))}catch(_){d(_)}}function m(b){try{y(s.throw(b))}catch(_){d(_)}}function y(b){b.done?h(b.value):u(b.value).then(g,m)}y((s=s.apply(i,a||[])).next())})}const gb=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);class vc extends Error{constructor(a,l="FunctionsError",s){super(a),this.name=l,this.context=s}}class yb extends vc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Gm extends vc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Vm extends vc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var tc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(tc||(tc={}));class pb{constructor(a,{headers:l={},customFetch:s,region:u=tc.Any}={}){this.url=a,this.headers=l,this.region=u,this.fetch=gb(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return mb(this,arguments,void 0,function*(l,s={}){var u;let h,d;try{const{headers:g,method:m,body:y,signal:b,timeout:_}=s;let E={},{region:T}=s;T||(T=this.region);const j=new URL(`${this.url}/${l}`);T&&T!=="any"&&(E["x-region"]=T,j.searchParams.set("forceFunctionRegion",T));let O;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",O=y):typeof y=="string"?(E["Content-Type"]="text/plain",O=y):typeof FormData<"u"&&y instanceof FormData?O=y:(E["Content-Type"]="application/json",O=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?O=JSON.stringify(y):O=y;let k=b;_&&(d=new AbortController,h=setTimeout(()=>d.abort(),_),b?(k=d.signal,b.addEventListener("abort",()=>d.abort())):k=d.signal);const D=yield this.fetch(j.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),g),body:O,signal:k}).catch(te=>{throw new yb(te)}),q=D.headers.get("x-relay-error");if(q&&q==="true")throw new Gm(D);if(!D.ok)throw new Vm(D);let M=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Z;return M==="application/json"?Z=yield D.json():M==="application/octet-stream"||M==="application/pdf"?Z=yield D.blob():M==="text/event-stream"?Z=D:M==="multipart/form-data"?Z=yield D.formData():Z=yield D.text(),{data:Z,error:null,response:D}}catch(g){return{data:null,error:g,response:g instanceof Vm||g instanceof Gm?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var vb=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},bb=class{constructor(i){var a,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let u=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,g=null,m=null,y=h.status,b=h.statusText;if(h.ok){var _,E;if(l.method!=="HEAD"){var T;const D=await h.text();D===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((T=l.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?g=D:g=JSON.parse(D))}const O=(_=l.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),k=(E=h.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");O&&k&&k.length>1&&(m=parseInt(k[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var j;const O=await h.text();try{d=JSON.parse(O),Array.isArray(d)&&h.status===404&&(g=[],d=null,y=200,b="OK")}catch{h.status===404&&O===""?(y=204,b="No Content"):d={message:O}}if(d&&l.isMaybeSingle&&(!(d==null||(j=d.details)===null||j===void 0)&&j.includes("0 rows"))&&(d=null,y=200,b="OK"),d&&l.shouldThrowOnError)throw new vb(d)}return{error:d,data:g,count:m,status:y,statusText:b}});return this.shouldThrowOnError||(u=u.catch(h=>{var d;let g="";const m=h?.cause;if(m){var y,b,_,E;const j=(y=m?.message)!==null&&y!==void 0?y:"",O=(b=m?.code)!==null&&b!==void 0?b:"";g=`${(_=h?.name)!==null&&_!==void 0?_:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(E=m?.name)!==null&&E!==void 0?E:"Error"}: ${j}`,O&&(g+=` (${O})`),m?.stack&&(g+=`
${m.stack}`)}else{var T;g=(T=h?.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}returns(){return this}overrideTypes(){return this}},_b=class extends bb{select(i){let a=!1;const l=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:s,referencedTable:u=s}={}){const h=u?`${u}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const s=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:s=l}={}){const u=typeof s>"u"?"offset":`${s}.offset`,h=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:s=!1,wal:u=!1,format:h="text"}={}){var d;const g=[i?"analyze":null,a?"verbose":null,l?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const Ym=new RegExp("[,()]");var yi=class extends _b{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(s=>typeof s=="string"&&Ym.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}notIn(i,a){const l=Array.from(new Set(a)).map(s=>typeof s=="string"&&Ym.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`not.in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const s=l?`${l}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}},wb=class{constructor(i,{headers:a={},schema:l,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,a){const{head:l=!1,count:s}=a??{},u=l?"HEAD":"GET";let h=!1;const d=(i??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",d),s&&m.append("Prefer",`count=${s}`),new yi({method:u,url:g,headers:m,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var s;const u="POST",{url:h,headers:d}=this.cloneRequestState();if(a&&d.append("Prefer",`count=${a}`),l||d.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);h.searchParams.set("columns",m.join(","))}}return new yi({method:u,url:h,headers:d,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:s,defaultToNull:u=!0}={}){var h;const d="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),s&&m.append("Prefer",`count=${s}`),u||m.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(y.length>0){const b=[...new Set(y)].map(_=>`"${_}"`);g.searchParams.set("columns",b.join(","))}}return new yi({method:d,url:g,headers:m,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var l;const s="PATCH",{url:u,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new yi({method:s,url:u,headers:h,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE",{url:s,headers:u}=this.cloneRequestState();return i&&u.append("Prefer",`count=${i}`),new yi({method:l,url:s,headers:u,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Sb=class Ug{constructor(a,{headers:l={},schema:s,fetch:u}={}){this.url=a,this.headers=new Headers(l),this.schemaName=s,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wb(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Ug(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:s=!1,get:u=!1,count:h}={}){var d;let g;const m=new URL(`${this.url}/rpc/${a}`);let y;const b=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(b)),_=s&&Object.values(l).some(b);_?(g="POST",y=l):s||u?(g=s?"HEAD":"GET",Object.entries(l).filter(([T,j])=>j!==void 0).map(([T,j])=>[T,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([T,j])=>{m.searchParams.append(T,j)})):(g="POST",y=l);const E=new Headers(this.headers);return _?E.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&E.set("Prefer",`count=${h}`),new yi({method:g,url:m,headers:E,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class Eb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const s=l.versions;if(s&&s.node){const u=s.node,h=parseInt(u.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const s=this.getWebSocketConstructor();return new s(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const xb="2.91.0",Tb=`realtime-js/${xb}`,Ab="1.0.0",Dg="2.0.0",Km=Dg,nc=1e4,Rb=1e3,Ob=100;var In;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(In||(In={}));var Je;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Je||(Je={}));var Qt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Qt||(Qt={}));var ac;(function(i){i.websocket="websocket"})(ac||(ac={}));var Sa;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Sa||(Sa={}));class jb{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,s;const u=(s=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var l,s;const u=(s=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&s!==void 0?s:{},d=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,l,s){var u,h;const d=a.topic,g=(u=a.ref)!==null&&u!==void 0?u:"",m=(h=a.join_ref)!==null&&h!==void 0?h:"",y=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(b).length===0?"":JSON.stringify(b);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+d.length+y.length+_.length,T=new ArrayBuffer(this.HEADER_LENGTH+E);let j=new DataView(T),O=0;j.setUint8(O++,this.KINDS.userBroadcastPush),j.setUint8(O++,m.length),j.setUint8(O++,g.length),j.setUint8(O++,d.length),j.setUint8(O++,y.length),j.setUint8(O++,_.length),j.setUint8(O++,l),Array.from(m,D=>j.setUint8(O++,D.charCodeAt(0))),Array.from(g,D=>j.setUint8(O++,D.charCodeAt(0))),Array.from(d,D=>j.setUint8(O++,D.charCodeAt(0))),Array.from(y,D=>j.setUint8(O++,D.charCodeAt(0))),Array.from(_,D=>j.setUint8(O++,D.charCodeAt(0)));var k=new Uint8Array(T.byteLength+s.byteLength);return k.set(new Uint8Array(T),0),k.set(new Uint8Array(s),T.byteLength),k.buffer}decode(a,l){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return l(s)}if(typeof a=="string"){const s=JSON.parse(a),[u,h,d,g,m]=s;return l({join_ref:u,ref:h,topic:d,event:g,payload:m})}return l({})}_binaryDecode(a){const l=new DataView(a),s=l.getUint8(0),u=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,l,u)}_decodeUserBroadcast(a,l,s){const u=l.getUint8(1),h=l.getUint8(2),d=l.getUint8(3),g=l.getUint8(4);let m=this.HEADER_LENGTH+4;const y=s.decode(a.slice(m,m+u));m=m+u;const b=s.decode(a.slice(m,m+h));m=m+h;const _=s.decode(a.slice(m,m+d));m=m+d;const E=a.slice(m,a.byteLength),T=g===this.JSON_ENCODING?JSON.parse(s.decode(E)):E,j={type:this.BROADCAST_EVENT,event:b,payload:T};return d>0&&(j.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>l.includes(s)))}}class zg{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Oe||(Oe={}));const Jm=(i,a,l={})=>{var s;const u=(s=l.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((h,d)=>(h[d]=Cb(d,i,a,u),h),{}):{}},Cb=(i,a,l,s)=>{const u=a.find(g=>g.name===i),h=u?.type,d=l[i];return h&&!s.includes(h)?Mg(h,d):ic(d)},Mg=(i,a)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return Db(a,l)}switch(i){case Oe.bool:return Nb(a);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return kb(a);case Oe.json:case Oe.jsonb:return Ub(a);case Oe.timestamp:return zb(a);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return ic(a);default:return ic(a)}},ic=i=>i,Nb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},kb=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},Ub=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Db=(i,a)=>{if(typeof i!="string")return i;const l=i.length-1,s=i[l];if(i[0]==="{"&&s==="}"){let h;const d=i.slice(1,l);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(g=>Mg(a,g))}return i},zb=i=>typeof i=="string"?i.replace(" ","T"):i,Bg=i=>{const a=new URL(i);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Yu{constructor(a,l,s={},u=nc){this.channel=a,this.event=l,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var s;return this._hasReceived(a)&&l((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Zm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Zm||(Zm={}));class Sl{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sl.syncState(this.state,u,h,d),this.pendingDiffs.forEach(m=>{this.state=Sl.syncDiff(this.state,m,h,d)}),this.pendingDiffs=[],g()}),this.channel._on(s.diff,{},u=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Sl.syncDiff(this.state,u,h,d),g())}),this.onJoin((u,h,d)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:d})}),this.onLeave((u,h,d)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,s,u){const h=this.cloneDeep(a),d=this.transformState(l),g={},m={};return this.map(h,(y,b)=>{d[y]||(m[y]=b)}),this.map(d,(y,b)=>{const _=h[y];if(_){const E=b.map(k=>k.presence_ref),T=_.map(k=>k.presence_ref),j=b.filter(k=>T.indexOf(k.presence_ref)<0),O=_.filter(k=>E.indexOf(k.presence_ref)<0);j.length>0&&(g[y]=j),O.length>0&&(m[y]=O)}else g[y]=b}),this.syncDiff(h,{joins:g,leaves:m},s,u)}static syncDiff(a,l,s,u){const{joins:h,leaves:d}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(h,(g,m)=>{var y;const b=(y=a[g])!==null&&y!==void 0?y:[];if(a[g]=this.cloneDeep(m),b.length>0){const _=a[g].map(T=>T.presence_ref),E=b.filter(T=>_.indexOf(T.presence_ref)<0);a[g].unshift(...E)}s(g,b,m)}),this.map(d,(g,m)=>{let y=a[g];if(!y)return;const b=m.map(_=>_.presence_ref);y=y.filter(_=>b.indexOf(_.presence_ref)<0),a[g]=y,u(g,y,m),y.length===0&&delete a[g]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(s=>l(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,s)=>{const u=a[s];return"metas"in u?l[s]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[s]=u,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Qm||(Qm={}));var El;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(El||(El={}));var _n;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class bi{constructor(a,l={config:{}},s){var u,h;if(this.topic=a,this.params=l,this.socket=s,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Yu(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new zg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new Sl(this),this.broadcastEndpointURL=Bg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var s,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:d,presence:g,private:m}}=this.params,y=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(T=>T.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[El.PRESENCE]&&this.bindings[El.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,_={},E={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(T=>a?.(_n.CHANNEL_ERROR,T)),this._onClose(()=>a?.(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:E},_)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:T})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){a?.(_n.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,k=(j=O?.length)!==null&&j!==void 0?j:0,D=[];for(let q=0;q<k;q++){const M=O[q],{filter:{event:Z,schema:te,table:W,filter:K}}=M,ye=T&&T[q];if(ye&&ye.event===Z&&bi.isFilterValueEqual(ye.schema,te)&&bi.isFilterValueEqual(ye.table,W)&&bi.isFilterValueEqual(ye.filter,K))D.push(Object.assign(Object.assign({},M),{id:ye.id}));else{this.unsubscribe(),this.state=Je.errored,a?.(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,a&&a(_n.SUBSCRIBED);return}}).receive("error",T=>{this.state=Je.errored,a?.(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{a?.(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,s){return this.state===Je.joined&&a===El.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,s)}async httpSend(a,l,s={}){var u;if(l==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const y=await g.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(a,l={}){var s,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=l.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,g,m;const y=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Je.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new Yu(this,Qt.leave,{},a),s.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(a,l,s){const u=new AbortController,h=setTimeout(()=>u.abort(),s),d=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(h),d}_push(a,l,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Yu(this,a,l,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Ob){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,s){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,s){var u,h;const d=a.toLocaleLowerCase(),{close:g,error:m,leave:y,join:b}=Qt;if(s&&[g,m,y,b].indexOf(d)>=0&&s!==this._joinRef())return;let E=this._onMessage(d,l,s);if(l&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var j,O,k;return((j=T.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(O=T.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(T=>T.callback(E,s)):(h=this.bindings[d])===null||h===void 0||h.filter(T=>{var j,O,k,D,q,M,Z,te;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in T){const W=T.id,K=(j=T.filter)===null||j===void 0?void 0:j.event;return W&&((O=l.ids)===null||O===void 0?void 0:O.includes(W))&&(K==="*"||K?.toLocaleLowerCase()===((k=l.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((D=T.filter)===null||D===void 0)&&D.table)||T.filter.table===((q=l.data)===null||q===void 0?void 0:q.table))}else{const W=(Z=(M=T?.filter)===null||M===void 0?void 0:M.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return W==="*"||W===((te=l?.event)===null||te===void 0?void 0:te.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===d}).map(T=>{if(typeof E=="object"&&"ids"in E){const j=E.data,{schema:O,table:k,commit_timestamp:D,type:q,errors:M}=j;E=Object.assign(Object.assign({},{schema:O,table:k,commit_timestamp:D,eventType:q,new:{},old:{},errors:M}),this._getPayloadRecords(j))}T.callback(E,s)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,s){const u=a.toLocaleLowerCase(),h={type:u,filter:l,callback:s};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(a,l){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===s&&bi.isEqual(u.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const s in a)if(a[s]!==l[s])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Qt.close,{},a)}_onError(a){this._on(Qt.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Jm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Jm(a.columns,a.old_record)),l}}const Ku=()=>{},ts={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mb=[1e3,2e3,5e3,1e4],Bb=1e4,Lb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qb{constructor(a,l){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nc,this.transport=null,this.heartbeatIntervalMs=ts.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ku,this.ref=0,this.reconnectTimer=null,this.vsn=Km,this.logger=Ku,this.conn=null,this.sendBuffer=[],this.serializer=new jb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((s=l?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${ac.websocket}`,this.httpEndpoint=Bg(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Eb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,s){this.logger(a,l,s)}connectionState(){switch(this.conn&&this.conn.readyState){case In.connecting:return Sa.Connecting;case In.open:return Sa.Open;case In.closing:return Sa.Closing;default:return Sa.Closed}}isConnected(){return this.connectionState()===Sa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const s=`realtime:${a}`,u=this.getChannels().find(h=>h.topic===s);if(u)return u;{const h=new bi(`realtime:${a}`,l,this);return this.channels.push(h),h}}push(a){const{topic:l,event:s,payload:u,ref:h}=a,d=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${l} ${s} (${h})`,u),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Rb,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},ts.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",y)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:u,payload:h,ref:d}=l,g=d?`(${d})`:"",m=h.status||"";this.log("receive",`${m} ${s} ${u} ${g}`.trim(),h),this.channels.filter(y=>y._isMember(s)).forEach(y=>y._trigger(u,h,d)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===In.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===In.open||this.conn.readyState===In.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Qt.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const s=a.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${a}${s}${u}`}_workerObjectUrl(a){let l;if(a)l=a;else{const s=new Blob([Lb],{type:"application/javascript"});l=URL.createObjectURL(s)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,s=!1;if(a)l=a,s=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),l=this.accessTokenValue}else l=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(u=>{const h={access_token:l,version:Tb};l&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(Qt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(l)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new zg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ts.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,s,u,h,d,g,m,y,b,_,E,T;switch(this.transport=(l=a?.transport)!==null&&l!==void 0?l:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:nc,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:ts.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:Ku,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:Km,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(j=>Mb[j-1]||Bb),this.vsn){case Ab:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((j,O)=>O(JSON.stringify(j))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((j,O)=>O(JSON.parse(j)));break;case Dg:this.encode=(E=a?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(T=a?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Tl=class extends Error{constructor(i,a){super(i),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hb(i,a,l){const s=new URL(a,i);if(l)for(const[u,h]of Object.entries(l))h!==void 0&&s.searchParams.set(u,h);return s.toString()}async function $b(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Gb(i){const a=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:s,query:u,body:h,headers:d}){const g=Hb(i.baseUrl,s,u),m=await $b(i.auth),y=await a(g,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...m,...d},body:h?JSON.stringify(h):void 0}),b=await y.text(),_=(y.headers.get("content-type")||"").includes("application/json"),E=_&&b?JSON.parse(b):b;if(!y.ok){const T=_?E:void 0,j=T?.error;throw new Tl(j?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:j?.type,icebergCode:j?.code,details:T})}return{status:y.status,headers:y.headers,data:E}}}}function ns(i){return i.join("")}var Vb=class{constructor(i,a=""){this.client=i,this.prefix=a}async listNamespaces(i){const a=i?{parent:ns(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,a){const l={namespace:i.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ns(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ns(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ns(i.namespace)}`}),!0}catch(a){if(a instanceof Tl&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(i,a){try{return await this.createNamespace(i,a)}catch(l){if(l instanceof Tl&&l.status===409)return;throw l}}};function ci(i){return i.join("")}var Yb=class{constructor(i,a="",l){this.client=i,this.prefix=a,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables`})).data.identifiers}async createTable(i,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(i,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(i){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,headers:a})).data.metadata}async tableExists(i){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,headers:a}),!0}catch(l){if(l instanceof Tl&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,a){try{return await this.createTable(i,a)}catch(l){if(l instanceof Tl&&l.status===409)return await this.loadTable({namespace:i.namespace,name:a.name});throw l}}},Kb=class{constructor(i){let a="v1";i.catalogName&&(a+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Gb({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Vb(this.client,a),this.tableOps=new Yb(this.client,a,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,a){return this.namespaceOps.createNamespace(i,a)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,a){return this.tableOps.createTable(i,a)}async updateTable(i,a){return this.tableOps.updateTable(i,a)}async dropTable(i,a){await this.tableOps.dropTable(i,a)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,a){return this.namespaceOps.createNamespaceIfNotExists(i,a)}async createTableIfNotExists(i,a){return this.tableOps.createTableIfNotExists(i,a)}},ms=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function ke(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Jb=class extends ms{constructor(i,a,l){super(i),this.name="StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lc=class extends ms{constructor(i,a){super(i),this.name="StorageUnknownError",this.originalError=a}};const bc=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),Zb=()=>Response,rc=i=>{if(Array.isArray(i))return i.map(l=>rc(l));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([l,s])=>{const u=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[u]=rc(s)}),a},Qb=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Xb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Al(i){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Al(i)}function Pb(i,a){if(Al(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var s=l.call(i,a);if(Al(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function Ib(i){var a=Pb(i,"string");return Al(a)=="symbol"?a:a+""}function Wb(i,a,l){return(a=Ib(a))in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,i}function Xm(i,a){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,s)}return l}function le(i){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Xm(Object(l),!0).forEach(function(s){Wb(i,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):Xm(Object(l)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(l,s))})}return i}const Ju=i=>{var a;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(a=i.error)===null||a===void 0?void 0:a.message)||JSON.stringify(i)},Fb=async(i,a,l)=>{i instanceof await Zb()&&!l?.noResolveJson?i.json().then(s=>{const u=i.status||500,h=s?.statusCode||u+"";a(new Jb(Ju(s),u,h))}).catch(s=>{a(new lc(Ju(s),s))}):a(new lc(Ju(i),i))},e_=(i,a,l,s)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"||!s?u:(Qb(s)?(u.headers=le({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(s)):u.body=s,a?.duplex&&(u.duplex=a.duplex),le(le({},u),l))};async function zl(i,a,l,s,u,h){return new Promise((d,g)=>{i(l,e_(a,s,u,h)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>Fb(m,g,s))})}async function Rl(i,a,l,s){return zl(i,"GET",a,l,s)}async function Zt(i,a,l,s,u){return zl(i,"POST",a,s,u,l)}async function sc(i,a,l,s,u){return zl(i,"PUT",a,s,u,l)}async function t_(i,a,l,s){return zl(i,"HEAD",a,le(le({},l),{},{noResolveJson:!0}),s)}async function _c(i,a,l,s,u){return zl(i,"DELETE",a,s,u,l)}var n_=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a}then(i,a){return this.execute().then(i,a)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(ke(a))return{data:null,error:a};throw a}}};let Lg;Lg=Symbol.toStringTag;var a_=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a,this[Lg]="BlobDownloadBuilder",this.promise=null}asStream(){return new n_(this.downloadFn,this.shouldThrowOnError)}then(i,a){return this.getPromise().then(i,a)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(ke(a))return{data:null,error:a};throw a}}};const i_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var l_=class{constructor(i,a={},l,s){this.shouldThrowOnError=!1,this.url=i,this.headers=a,this.bucketId=l,this.fetch=bc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,a,l,s){var u=this;try{let h;const d=le(le({},Pm),s);let g=le(le({},u.headers),i==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),m&&h.append("metadata",u.encodeMetadata(m)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),m&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(m))):(h=l,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,m&&(g["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),s?.headers&&(g=le(le({},g),s.headers));const y=u._removeEmptyFolders(a),b=u._getFinalPath(y),_=await(i=="PUT"?sc:Zt)(u.fetch,`${u.url}/object/${b}`,h,le({headers:g},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(ke(h))return{data:null,error:h};throw h}}async upload(i,a,l){return this.uploadOrUpdate("POST",i,a,l)}async uploadToSignedUrl(i,a,l,s){var u=this;const h=u._removeEmptyFolders(i),d=u._getFinalPath(h),g=new URL(u.url+`/object/upload/sign/${d}`);g.searchParams.set("token",a);try{let m;const y=le({upsert:Pm.upsert},s),b=le(le({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",y.cacheControl)):(m=l,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType),{data:{path:h,fullPath:(await sc(u.fetch,g.toString(),m,{headers:b})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(ke(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(i,a){var l=this;try{let s=l._getFinalPath(i);const u=le({},l.headers);a?.upsert&&(u["x-upsert"]="true");const h=await Zt(l.fetch,`${l.url}/object/upload/sign/${s}`,{},{headers:u}),d=new URL(l.url+h.url),g=d.searchParams.get("token");if(!g)throw new ms("No token returned by API");return{data:{signedUrl:d.toString(),path:i,token:g},error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async update(i,a,l){return this.uploadOrUpdate("PUT",i,a,l)}async move(i,a,l){var s=this;try{return{data:await Zt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:i,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:s.headers}),error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}}async copy(i,a,l){var s=this;try{return{data:{path:(await Zt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:i,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}}async createSignedUrl(i,a,l){var s=this;try{let u=s._getFinalPath(i),h=await Zt(s.fetch,`${s.url}/object/sign/${u}`,le({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:s.headers});const d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${s.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}}async createSignedUrls(i,a,l){var s=this;try{const u=await Zt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:a,paths:i},{headers:s.headers}),h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(d=>le(le({},d),{},{signedUrl:d.signedURL?encodeURI(`${s.url}${d.signedURL}${h}`):null})),error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}}download(i,a){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(a?.transform||{}),u=s?`?${s}`:"",h=this._getFinalPath(i),d=()=>Rl(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new a_(d,this.shouldThrowOnError)}async info(i){var a=this;const l=a._getFinalPath(i);try{return{data:rc(await Rl(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async exists(i){var a=this;const l=a._getFinalPath(i);try{return await t_(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(ke(s)&&s instanceof lc){const u=s.originalError;if([400,404].includes(u?.status))return{data:!1,error:s}}throw s}}getPublicUrl(i,a){const l=this._getFinalPath(i),s=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&s.push(u);const h=typeof a?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(a?.transform||{});d!==""&&s.push(d);let g=s.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${g}`)}}}async remove(i){var a=this;try{return{data:await _c(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:i},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async list(i,a,l){var s=this;try{const u=le(le(le({},i_),a),{},{prefix:i||""});return{data:await Zt(s.fetch,`${s.url}/object/list/${s.bucketId}`,u,{headers:s.headers},l),error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}}async listV2(i,a){var l=this;try{const s=le({},i);return{data:await Zt(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,s,{headers:l.headers},a),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}};const qg="2.91.0",Hg={"X-Client-Info":`storage-js/${qg}`};var r_=class{constructor(i,a={},l,s){this.shouldThrowOnError=!1;const u=new URL(i);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=le(le({},Hg),a),this.fetch=bc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var a=this;try{const l=a.listBucketOptionsToQueryString(i);return{data:await Rl(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async getBucket(i){var a=this;try{return{data:await Rl(a.fetch,`${a.url}/bucket/${i}`,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async createBucket(i,a={public:!1}){var l=this;try{return{data:await Zt(l.fetch,`${l.url}/bucket`,{id:i,name:i,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async updateBucket(i,a){var l=this;try{return{data:await sc(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async emptyBucket(i){var a=this;try{return{data:await Zt(a.fetch,`${a.url}/bucket/${i}/empty`,{},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async deleteBucket(i){var a=this;try{return{data:await _c(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}listBucketOptionsToQueryString(i){const a={};return i&&("limit"in i&&(a.limit=String(i.limit)),"offset"in i&&(a.offset=String(i.offset)),i.search&&(a.search=i.search),i.sortColumn&&(a.sortColumn=i.sortColumn),i.sortOrder&&(a.sortOrder=i.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},s_=class{constructor(i,a={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=le(le({},Hg),a),this.fetch=bc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var a=this;try{return{data:await Zt(a.fetch,`${a.url}/bucket`,{name:i},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async listBuckets(i){var a=this;try{const l=new URLSearchParams;i?.limit!==void 0&&l.set("limit",i.limit.toString()),i?.offset!==void 0&&l.set("offset",i.offset.toString()),i?.sortColumn&&l.set("sortColumn",i.sortColumn),i?.sortOrder&&l.set("sortOrder",i.sortOrder),i?.search&&l.set("search",i.search);const s=l.toString(),u=s?`${a.url}/bucket?${s}`:`${a.url}/bucket`;return{data:await Rl(a.fetch,u,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async deleteBucket(i){var a=this;try{return{data:await _c(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}from(i){var a=this;if(!Xb(i))throw new ms("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new Kb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(l,{get(u,h){const d=u[h];return typeof d!="function"?d:async(...g)=>{try{return{data:await d.apply(u,g),error:null}}catch(m){if(s)throw m;return{data:null,error:m}}}}})}};const wc={"X-Client-Info":`storage-js/${qg}`,"Content-Type":"application/json"};var $g=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ot(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Zu=class extends $g{constructor(i,a,l){super(i),this.name="StorageVectorsApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},o_=class extends $g{constructor(i,a){super(i),this.name="StorageVectorsUnknownError",this.originalError=a}};const Sc=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),u_=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Im=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),c_=async(i,a,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!l?.noResolveJson){const s=i.status||500,u=i;if(typeof u.json=="function")u.json().then(h=>{const d=h?.statusCode||h?.code||s+"";a(new Zu(Im(h),s,d))}).catch(()=>{const h=s+"";a(new Zu(u.statusText||`HTTP ${s} error`,s,h))});else{const h=s+"";a(new Zu(u.statusText||`HTTP ${s} error`,s,h))}}else a(new o_(Im(i),i))},h_=(i,a,l,s)=>{const u={method:i,headers:a?.headers||{}};return s?(u_(s)?(u.headers=le({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(s)):u.body=s,le(le({},u),l)):u};async function d_(i,a,l,s,u,h){return new Promise((d,g)=>{i(l,h_(a,s,u,h)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>c_(m,g,s))})}async function jt(i,a,l,s,u){return d_(i,"POST",a,s,u,l)}var f_=class{constructor(i,a={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=le(le({},wc),a),this.fetch=Sc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var a=this;try{return{data:await jt(a.fetch,`${a.url}/CreateIndex`,i,{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async getIndex(i,a){var l=this;try{return{data:await jt(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:a},{headers:l.headers}),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async listIndexes(i){var a=this;try{return{data:await jt(a.fetch,`${a.url}/ListIndexes`,i,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async deleteIndex(i,a){var l=this;try{return{data:await jt(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:a},{headers:l.headers})||{},error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}},m_=class{constructor(i,a={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=le(le({},wc),a),this.fetch=Sc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var a=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await jt(a.fetch,`${a.url}/PutVectors`,i,{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async getVectors(i){var a=this;try{return{data:await jt(a.fetch,`${a.url}/GetVectors`,i,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async listVectors(i){var a=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await jt(a.fetch,`${a.url}/ListVectors`,i,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async queryVectors(i){var a=this;try{return{data:await jt(a.fetch,`${a.url}/QueryVectors`,i,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async deleteVectors(i){var a=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await jt(a.fetch,`${a.url}/DeleteVectors`,i,{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}},g_=class{constructor(i,a={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=le(le({},wc),a),this.fetch=Sc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var a=this;try{return{data:await jt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async getBucket(i){var a=this;try{return{data:await jt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:i},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async listBuckets(i={}){var a=this;try{return{data:await jt(a.fetch,`${a.url}/ListVectorBuckets`,i,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async deleteBucket(i){var a=this;try{return{data:await jt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}},y_=class extends g_{constructor(i,a={}){super(i,a.headers||{},a.fetch)}from(i){return new p_(this.url,this.headers,i,this.fetch)}async createBucket(i){var a=()=>super.createBucket,l=this;return a().call(l,i)}async getBucket(i){var a=()=>super.getBucket,l=this;return a().call(l,i)}async listBuckets(i={}){var a=()=>super.listBuckets,l=this;return a().call(l,i)}async deleteBucket(i){var a=()=>super.deleteBucket,l=this;return a().call(l,i)}},p_=class extends f_{constructor(i,a,l,s){super(i,a,s),this.vectorBucketName=l}async createIndex(i){var a=()=>super.createIndex,l=this;return a().call(l,le(le({},i),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(i={}){var a=()=>super.listIndexes,l=this;return a().call(l,le(le({},i),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(i){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,i)}async deleteIndex(i){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,i)}index(i){return new v_(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},v_=class extends m_{constructor(i,a,l,s,u){super(i,a,u),this.vectorBucketName=l,this.indexName=s}async putVectors(i){var a=()=>super.putVectors,l=this;return a().call(l,le(le({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(i){var a=()=>super.getVectors,l=this;return a().call(l,le(le({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(i={}){var a=()=>super.listVectors,l=this;return a().call(l,le(le({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(i){var a=()=>super.queryVectors,l=this;return a().call(l,le(le({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(i){var a=()=>super.deleteVectors,l=this;return a().call(l,le(le({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},b_=class extends r_{constructor(i,a={},l,s){super(i,a,l,s)}from(i){return new l_(this.url,this.headers,i,this.fetch)}get vectors(){return new y_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new s_(this.url+"/iceberg",this.headers,this.fetch)}};const Gg="2.91.0",pi=30*1e3,oc=3,Qu=oc*pi,__="http://localhost:9999",w_="supabase.auth.token",S_={"X-Client-Info":`gotrue-js/${Gg}`},uc="X-Supabase-Api-Version",Vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x_=600*1e3;class Ol extends Error{constructor(a,l,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=s}}function I(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class T_ extends Ol{constructor(a,l,s){super(a,l,s),this.name="AuthApiError",this.status=l,this.code=s}}function A_(i){return I(i)&&i.name==="AuthApiError"}class Ea extends Ol{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class Tn extends Ol{constructor(a,l,s,u){super(a,s,u),this.name=l,this.status=s}}class Rt extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R_(i){return I(i)&&i.name==="AuthSessionMissingError"}class hi extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class as extends Tn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class is extends Tn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O_(i){return I(i)&&i.name==="AuthImplicitGrantRedirectError"}class Wm extends Tn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class j_ extends Tn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cc extends Tn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function Xu(i){return I(i)&&i.name==="AuthRetryableFetchError"}class Fm extends Tn{constructor(a,l,s){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=s}}class hc extends Tn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eg=` 	
\r=`.split(""),C_=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<eg.length;a+=1)i[eg[a].charCodeAt(0)]=-2;for(let a=0;a<os.length;a+=1)i[os[a].charCodeAt(0)]=a;return i})();function tg(i,a,l){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;l(os[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;l(os[s]),a.queuedBits-=6}}function Yg(i,a,l){const s=C_[i];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function ng(i){const a=[],l=d=>{a.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=d=>{U_(d,s,l)};for(let d=0;d<i.length;d+=1)Yg(i.charCodeAt(d),u,h);return a.join("")}function N_(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function k_(i,a){for(let l=0;l<i.length;l+=1){let s=i.charCodeAt(l);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(i.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}N_(s,a)}}function U_(i,a,l){if(a.utf8seq===0){if(i<=127){l(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function _i(i){const a=[],l={queue:0,queuedBits:0},s=u=>{a.push(u)};for(let u=0;u<i.length;u+=1)Yg(i.charCodeAt(u),l,s);return new Uint8Array(a)}function D_(i){const a=[];return k_(i,l=>a.push(l)),new Uint8Array(a)}function xa(i){const a=[],l={queue:0,queuedBits:0},s=u=>{a.push(u)};return i.forEach(u=>tg(u,l,s)),tg(null,l,s),a.join("")}function z_(i){return Math.round(Date.now()/1e3)+i}function M_(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",ba={tested:!1,writable:!1},Kg=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ba.tested)return ba.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),ba.tested=!0,ba.writable=!0}catch{ba.tested=!0,ba.writable=!1}return ba.writable};function B_(i){const a={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,h)=>{a[h]=u})}catch{}return l.searchParams.forEach((s,u)=>{a[u]=s}),a}const Jg=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),L_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",vi=async(i,a,l)=>{await i.setItem(a,JSON.stringify(l))},_a=async(i,a)=>{const l=await i.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},et=async(i,a)=>{await i.removeItem(a)};class gs{constructor(){this.promise=new gs.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}gs.promiseConstructor=Promise;function Pu(i){const a=i.split(".");if(a.length!==3)throw new hc("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!E_.test(a[s]))throw new hc("JWT not in base64url format");return{header:JSON.parse(ng(a[0])),payload:JSON.parse(ng(a[1])),signature:_i(a[2]),raw:{header:a[0],payload:a[1]}}}async function q_(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function H_(i,a){return new Promise((s,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await i(h);if(!a(h,null,d)){s(d);return}}catch(d){if(!a(h,d)){u(d);return}}})()})}function $_(i){return("0"+i.toString(16)).substr(-2)}function G_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=l.length;let u="";for(let h=0;h<56;h++)u+=l.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(a),Array.from(a,$_).join("")}async function V_(i){const l=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(s);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function Y_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await V_(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function di(i,a,l=!1){const s=G_();let u=s;l&&(u+="/PASSWORD_RECOVERY"),await vi(i,`${a}-code-verifier`,u);const h=await Y_(s);return[h,s===h?"plain":"s256"]}const K_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J_(i){const a=i.headers.get(uc);if(!a||!a.match(K_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Z_(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function Q_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const X_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fi(i){if(!X_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Iu(){const i={};return new Proxy(i,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const s=l.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P_(i,a){return new Proxy(i,{get:(l,s,u)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const h=s.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,s,u)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,s,u)}})}function ag(i){return JSON.parse(JSON.stringify(i))}const wa=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),I_=[502,503,504];async function ig(i){var a;if(!L_(i))throw new cc(wa(i),0);if(I_.includes(i.status))throw new cc(wa(i),i.status);let l;try{l=await i.json()}catch(h){throw new Ea(wa(h),h)}let s;const u=J_(i);if(u&&u.getTime()>=Vg["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?s=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(s=l.error_code),s){if(s==="weak_password")throw new Fm(wa(l),i.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new Rt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new Fm(wa(l),i.status,l.weak_password.reasons);throw new T_(wa(l),i.status||500,s)}const W_=(i,a,l,s)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),l))};async function ie(i,a,l,s){var u;const h=Object.assign({},s?.headers);h[uc]||(h[uc]=Vg["2024-01-01"].name),s?.jwt&&(h.Authorization=`Bearer ${s.jwt}`);const d=(u=s?.query)!==null&&u!==void 0?u:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await F_(i,a,l+g,{headers:h,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function F_(i,a,l,s,u,h){const d=W_(a,s,u,h);let g;try{g=await i(l,Object.assign({},d))}catch(m){throw console.error(m),new cc(wa(m),0)}if(g.ok||await ig(g),s?.noResolveJson)return g;try{return await g.json()}catch(m){await ig(m)}}function Jt(i){var a;let l=null;nw(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=z_(i.expires_in)));const s=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:l,user:s},error:null}}function lg(i){const a=Jt(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,s)=>l&&typeof s=="string",!0)&&(a.data.weak_password=i.weak_password),a}function Wn(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function ew(i){return{data:i,error:null}}function tw(i){const{action_link:a,email_otp:l,hashed_token:s,redirect_to:u,verification_type:h}=i,d=fs(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:l,hashed_token:s,redirect_to:u,verification_type:h},m=Object.assign({},d);return{data:{properties:g,user:m},error:null}}function rg(i){return i}function nw(i){return i.access_token&&i.refresh_token&&i.expires_in}const Wu=["global","local","others"];class aw{constructor({url:a="",headers:l={},fetch:s}){this.url=a,this.headers=l,this.fetch=Jg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=Wu[0]){if(Wu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wu.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,l={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Wn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:l}=a,s=fs(a,["options"]),u=Object.assign(Object.assign({},s),l);return"newEmail"in s&&(u.new_email=s?.newEmail,delete u.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:tw,redirectTo:l?.redirectTo})}catch(l){if(I(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Wn})}catch(l){if(I(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,s,u,h,d,g,m;try{const y={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:rg});if(b.error)throw b.error;const _=await b.json(),E=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);y[`${k}Page`]=O}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(I(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){fi(a);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Wn})}catch(l){if(I(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){fi(a);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:Wn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,l=!1){fi(a);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:Wn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){fi(a.userId);try{const{data:l,error:s}=await ie(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:s}}catch(l){if(I(l))return{data:null,error:l};throw l}}async _deleteFactor(a){fi(a.userId),fi(a.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(I(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,s,u,h,d,g,m;try{const y={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:rg});if(b.error)throw b.error;const _=await b.json(),E=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);y[`${k}Page`]=O}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(I(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(I(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(I(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(I(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(I(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(I(l))return{data:null,error:l};throw l}}}function sg(i={}){return{getItem:a=>i[a]||null,setItem:(a,l)=>{i[a]=l},removeItem:a=>{delete i[a]}}}const mi={debug:!!(globalThis&&Kg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class iw extends Zg{}async function lw(i,a,l){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await l()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(a===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new iw(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(mi.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function rw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function sw(i){return parseInt(i,16)}function ow(i){const a=new TextEncoder().encode(i);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function uw(i){var a;const{chainId:l,domain:s,expirationTime:u,issuedAt:h=new Date,nonce:d,notBefore:g,requestId:m,resources:y,scheme:b,uri:_,version:E}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((a=i.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const T=Qg(i.address),j=b?`${b}://${s}`:s,O=i.statement?`${i.statement}
`:"",k=`${j} wants you to sign in with your Ethereum account:
${T}

${O}`;let D=`URI: ${_}
Version: ${E}
Chain ID: ${l}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),g&&(D+=`
Not Before: ${g.toISOString()}`),m&&(D+=`
Request ID: ${m}`),y){let q=`
Resources:`;for(const M of y){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);q+=`
- ${M}`}D+=q}return`${k}
${D}`}class Ye extends Error{constructor({message:a,code:l,cause:s,name:u}){var h;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(h=u??(s instanceof Error?s.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class us extends Ye{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function cw({error:i,options:a}){var l,s,u;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(a.mediation==="conditional"&&((s=h.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ye({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(Xg(d)){if(h.rp.id!==d)return new Ye({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function hw({error:i,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ye({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(Xg(s)){if(l.rpId!==s)return new Ye({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class dw{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const fw=new dw;function mw(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:a,user:l,excludeCredentials:s}=i,u=fs(i,["challenge","user","excludeCredentials"]),h=_i(a).buffer,d=Object.assign(Object.assign({},l),{id:_i(l.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:h,user:d});if(s&&s.length>0){g.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const y=s[m];g.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:_i(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function gw(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:a,allowCredentials:l}=i,s=fs(i,["challenge","allowCredentials"]),u=_i(a).buffer,h=Object.assign(Object.assign({},s),{challenge:u});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let d=0;d<l.length;d++){const g=l[d];h.allowCredentials[d]=Object.assign(Object.assign({},g),{id:_i(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function yw(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:xa(new Uint8Array(i.response.attestationObject)),clientDataJSON:xa(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function pw(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,s=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:xa(new Uint8Array(u.authenticatorData)),clientDataJSON:xa(new Uint8Array(u.clientDataJSON)),signature:xa(new Uint8Array(u.signature)),userHandle:u.userHandle?xa(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Xg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function og(){var i,a;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function vw(i){try{const a=await navigator.credentials.create(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new us("Browser returned unexpected credential type",a)}:{data:null,error:new us("Empty credential response",a)}}catch(a){return{data:null,error:cw({error:a,options:i})}}}async function bw(i){try{const a=await navigator.credentials.get(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new us("Browser returned unexpected credential type",a)}:{data:null,error:new us("Empty credential response",a)}}catch(a){return{data:null,error:hw({error:a,options:i})}}}const _w={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ww={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cs(...i){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of i)if(u)for(const h in u){const d=u[h];if(d!==void 0)if(Array.isArray(d))s[h]=d;else if(l(d))s[h]=d;else if(a(d)){const g=s[h];a(g)?s[h]=cs(g,d):s[h]=cs(d)}else s[h]=d}return s}function Sw(i,a){return cs(_w,i,a||{})}function Ew(i,a){return cs(ww,i,a||{})}class xw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:s,signal:u},h){try{const{data:d,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!d)return{data:null,error:g};const m=u??fw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${s}`),y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=Sw(d.webauthn.credential_options.publicKey,h?.create),{data:b,error:_}=await vw({publicKey:y,signal:m});return b?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const y=Ew(d.webauthn.credential_options.publicKey,h?.request),{data:b,error:_}=await bw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:m}));return b?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(d){return I(d)?{data:null,error:d}:{data:null,error:new Ea("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:l,webauthn:s}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!l)return{data:null,error:new Ol("rpId is required for WebAuthn authentication")};try{if(!og())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:s},signal:u},{request:h});if(!d)return{data:null,error:g};const{webauthn:m}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:m.type,rpId:l,rpOrigins:s,credential_response:m.credential_response}})}catch(d){return I(d)?{data:null,error:d}:{data:null,error:new Ea("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!l)return{data:null,error:new Ol("rpId is required for WebAuthn registration")};try{if(!og())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===a&&E.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:g};const{data:m,error:y}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:l,rpOrigins:s},signal:u},{create:h});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:l,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(d){return I(d)?{data:null,error:d}:{data:null,error:new Ea("Unexpected error in register",d)}}}}rw();const Tw={url:__,storageKey:w_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ug(i,a,l){return await l()}const gi={};class jl{get jwks(){var a,l;return(l=(a=gi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=gi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{cachedAt:a})}constructor(a){var l,s,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},Tw),a);if(this.storageKey=h.storageKey,this.instanceID=(l=jl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,jl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&tt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new aw({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Jg(h.fetch),this.lock=h.lock||ug,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&tt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=lw:this.lock=ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Kg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sg(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=sg(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},s="none";if(tt()&&(l=B_(window.location.href),this._isImplicitGrantCallback(l)?s="implicit":await this._isPKCECallback(l)&&(s="pkce")),tt()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:h}=await this._getSessionFromURL(l,s);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),O_(h)){const m=(a=h.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:d,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return I(l)?this._returnResult({error:l}):this._returnResult({error:new Ea("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,s,u;try{const h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(l=a?.options)===null||l===void 0?void 0:l.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Jt}),{data:d,error:g}=h;if(g||!d)return this._returnResult({data:{user:null,session:null},error:g});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(h){if(I(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var l,s,u;try{let h;if("email"in a){const{email:b,password:_,options:E}=a;let T=null,j=null;this.flowType==="pkce"&&([T,j]=await di(this.storage,this.storageKey)),h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:b,password:_,data:(l=E?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:T,code_challenge_method:j},xform:Jt})}else if("phone"in a){const{phone:b,password:_,options:E}=a;h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(s=E?.data)!==null&&s!==void 0?s:{},channel:(u=E?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Jt})}else throw new as("You must provide either an email or phone number and a password");const{data:d,error:g}=h;if(g||!d)return await et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(h){if(await et(this.storage,`${this.storageKey}-code-verifier`),I(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let l;if("email"in a){const{email:h,password:d,options:g}=a;l=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:lg})}else if("phone"in a){const{phone:h,password:d,options:g}=a;l=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:lg})}else throw new as("You must provide either an email or phone number and a password");const{data:s,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!s||!s.session||!s.user){const h=new hi;return this._returnResult({data:{user:null,session:null},error:h})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,s,u,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,s,u,h,d,g,m,y,b,_,E;let T,j;if("message"in a)T=a.message,j=a.signature;else{const{chain:O,wallet:k,statement:D,options:q}=a;let M;if(tt())if(typeof k=="object")M=k;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")M=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const Z=new URL((l=q?.url)!==null&&l!==void 0?l:window.location.href),te=await M.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=Qg(te[0]);let K=(s=q?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!K){const we=await M.request({method:"eth_chainId"});K=sw(we)}const ye={domain:Z.host,address:W,statement:D,uri:Z.href,version:"1",chainId:K,nonce:(u=q?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(d=(h=q?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=q?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=q?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=q?.signInWithEthereum)===null||b===void 0?void 0:b.resources};T=uw(ye),j=await M.request({method:"personal_sign",params:[ow(T),W]})}try{const{data:O,error:k}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:j},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Jt});if(k)throw k;if(!O||!O.session||!O.user){const D=new hi;return this._returnResult({data:{user:null,session:null},error:D})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:k})}catch(O){if(I(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(a){var l,s,u,h,d,g,m,y,b,_,E,T;let j,O;if("message"in a)j=a.message,O=a.signature;else{const{chain:k,wallet:D,statement:q,options:M}=a;let Z;if(tt())if(typeof D=="object")Z=D;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))Z=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=D}const te=new URL((l=M?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Z&&Z.signIn){const W=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),q?{statement:q}:null));let K;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")K=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)K=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)j=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),O=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${te.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(u=(s=M?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=M?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((y=M?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((_=(b=M?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...M.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const W=await Z.signMessage(new TextEncoder().encode(j),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=W}}try{const{data:k,error:D}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:xa(O)},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Jt});if(D)throw D;if(!k||!k.session||!k.user){const q=new hi;return this._returnResult({data:{user:null,session:null},error:q})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:D})}catch(k){if(I(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(a){const l=await _a(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(l??"").split("/");try{if(!s&&this.flowType==="pkce")throw new j_;const{data:h,error:d}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:Jt});if(await et(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const g=new hi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",h.session)},0)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:d})}catch(h){if(await et(this.storage,`${this.storageKey}-code-verifier`),I(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:l,provider:s,token:u,access_token:h,nonce:d}=a,g=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Jt}),{data:m,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const b=new hi;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,s,u,h,d;try{if("email"in a){const{email:g,options:m}=a;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await di(this.storage,this.storageKey));const{error:_}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:g,options:m}=a,{data:y,error:b}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(h=m?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new as("You must provide either an email or phone number.")}catch(g){if(await et(this.storage,`${this.storageKey}-code-verifier`),I(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var l,s;try{let u,h;"options"in a&&(u=(l=a.options)===null||l===void 0?void 0:l.redirectTo,h=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:g}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Jt});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,y=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(u){if(I(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var l,s,u,h,d;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await di(this.storage,this.storageKey));const y=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:ew});return!((h=y.data)===null||h===void 0)&&h.url&&tt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await et(this.storage,`${this.storageKey}-code-verifier`),I(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:s}=a;if(s)throw s;if(!l)throw new Rt;const{error:u}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:s,type:u,options:h}=a,{error:d}=await ie(this.fetch,"POST",l,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:s,type:u,options:h}=a,{data:d,error:g}=await ie(this.fetch,"POST",l,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:g})}throw new as("You must provide either an email or phone number and a type")}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=l();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await _a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<Qu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const d=await _a(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=Iu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=P_(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Wn}):await this._useSession(async l=>{var s,u,h;const{data:d,error:g}=l;if(g)throw g;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Wn})})}catch(l){if(I(l))return R_(l)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async s=>{const{data:u,error:h}=s;if(h)throw h;if(!u.session)throw new Rt;const d=u.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await di(this.storage,this.storageKey));const{data:y,error:b}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:d.access_token,xform:Wn});if(b)throw b;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(s){if(await et(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Rt;const l=Date.now()/1e3;let s=l,u=!0,h=null;const{payload:d}=Pu(a.access_token);if(d.exp&&(s=d.exp,u=s<=l),u){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)throw m;h={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:s-l,expires_at:s},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(I(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var s;if(!a){const{data:d,error:g}=l;if(g)throw g;a=(s=d.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new Rt;const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!tt())throw new is("No browser detected.");if(a.error||a.error_description||a.error_code)throw new is(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Wm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new is("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Wm("No code detected.");const{data:q,error:M}=await this._exchangeCodeForSession(a.code);if(M)throw M;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:h,refresh_token:d,expires_in:g,expires_at:m,token_type:y}=a;if(!h||!g||!d||!y)throw new is("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(g);let E=b+_;m&&(E=parseInt(m));const T=E-b;T*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const j=E-_;b-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,E,b):b-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,E,b);const{data:O,error:k}=await this._getUser(h);if(k)throw k;const D={provider_token:s,provider_refresh_token:u,access_token:h,expires_in:_,expires_at:E,refresh_token:d,token_type:y,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:a.type},error:null})}catch(s){if(I(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await _a(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var s;const{data:u,error:h}=l;if(h)return this._returnResult({error:h});const d=(s=u.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:g}=await this.admin.signOut(d,a);if(g&&!(A_(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=M_(),s={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async l=>{var s,u;try{const{data:{session:h},error:d}=l;if(d)throw d;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,l={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await di(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await et(this.storage,`${this.storageKey}-code-verifier`),I(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:l,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:s,error:u}=await this._useSession(async h=>{var d,g,m,y,b;const{data:_,error:E}=h;if(E)throw E;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",T,{headers:this.headers,jwt:(b=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return tt()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(I(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var s;try{const{error:u,data:{session:h}}=l;if(u)throw u;const{options:d,provider:g,token:m,access_token:y,nonce:b}=a,_=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=h?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:g,id_token:m,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Jt}),{data:E,error:T}=_;return T?this._returnResult({data:{user:null,session:null},error:T}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new hi}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:T}))}catch(u){if(await et(this.storage,`${this.storageKey}-code-verifier`),I(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var s,u;const{data:h,error:d}=l;if(d)throw d;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(s=h.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const s=Date.now();return await H_(async u=>(u>0&&await q_(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Jt})),(u,h)=>{const d=200*Math.pow(2,u);return h&&Xu(h)&&Date.now()+d-s<pi})}catch(s){if(this._debug(l,"error",s),I(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",s),tt()&&!l.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,l;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await _a(this.storage,this.storageKey);if(u&&this.userStorage){let d=await _a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:u.user},await vi(this.userStorage,this.storageKey+"-user",d)),u.user=(a=d?.user)!==null&&a!==void 0?a:Iu()}else if(u&&!u.user&&!u.user){const d=await _a(this.storage,this.storageKey+"-user");d&&d?.user?(u.user=d.user,await et(this.storage,this.storageKey+"-user"),await vi(this.storage,this.storageKey,u)):u.user=Iu()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const h=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Qu;if(this._debug(s,`session has${h?"":" not"} expired with margin of ${Qu}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:d}=await this._callRefreshToken(u.refresh_token);d&&(console.error(d),Xu(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(u.access_token);!g&&d?.user?(u.user=d.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var l,s;if(!a)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new gs;const{data:h,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!h.session)throw new Rt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(u,"error",h),I(h)){const d={data:null,error:h};return Xu(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,l,s=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",l,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:l});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,l)}catch(m){h.push(m)}});if(await Promise.all(d),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await et(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),s=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&l.user&&await vi(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const h=ag(u);await vi(this.storage,this.storageKey,h)}else{const u=ag(l);await vi(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:s}}=l;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-a)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${pi}ms, refresh threshold is ${oc} ticks`),u<=oc&&await this._callRefreshToken(s.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Zg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,s){const u=[`provider=${encodeURIComponent(l)}`];if(s?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[h,d]=await di(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});u.push(g.toString())}if(s?.queryParams){const h=new URLSearchParams(s.queryParams);u.push(h.toString())}return s?.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var s;const{data:u,error:h}=l;return h?this._returnResult({data:null,error:h}):await ie(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var s,u;const{data:h,error:d}=l;if(d)return this._returnResult({data:null,error:d});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:y}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(s=h?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var s;const{data:u,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?yw(a.webauthn.credential_response):pw(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var s;const{data:u,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:g}=d;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:mw(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:gw(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=l?.factors)!==null&&a!==void 0?a:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,l;const{data:{session:s},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Pu(s.access_token);let d=null;h.aal&&(d=h.aal);let g=d;((l=(a=s.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:s},error:u}=l;return u?this._returnResult({data:null,error:u}):s?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async s=>{const{data:{session:u},error:h}=s;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Rt});const d=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&tt()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,l){try{return await this._useSession(async s=>{const{data:{session:u},error:h}=s;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Rt});const d=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&tt()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:s}=a;return s?this._returnResult({data:null,error:s}):l?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:s},error:u}=l;return u?this._returnResult({data:null,error:u}):s?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let s=l.keys.find(g=>g.kid===a);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(g=>g.kid===a),s&&this.jwks_cached_at+x_>u)return s;const{data:h,error:d}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,s=h.keys.find(g=>g.kid===a),!s)?null:s}async getClaims(a,l={}){try{let s=a;if(!s){const{data:T,error:j}=await this.getSession();if(j||!T.session)return this._returnResult({data:null,error:j});s=T.session.access_token}const{header:u,payload:h,signature:d,raw:{header:g,payload:m}}=Pu(s);l?.allowExpired||Z_(h.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:T}=await this.getUser(s);if(T)throw T;return{data:{claims:h,header:u,signature:d},error:null}}const b=Q_(u.alg),_=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,d,D_(`${g}.${m}`)))throw new hc("Invalid JWT signature");return{data:{claims:h,header:u,signature:d},error:null}}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}}jl.nextInstanceID={};const Aw=jl,Rw="2.91.0";let _l="";typeof Deno<"u"?_l="deno":typeof document<"u"?_l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_l="react-native":_l="node";const Ow={"X-Client-Info":`supabase-js-${_l}/${Rw}`},jw={headers:Ow},Cw={schema:"public"},Nw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kw={};function Cl(i){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cl(i)}function Uw(i,a){if(Cl(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var s=l.call(i,a);if(Cl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function Dw(i){var a=Uw(i,"string");return Cl(a)=="symbol"?a:a+""}function zw(i,a,l){return(a=Dw(a))in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,i}function cg(i,a){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,s)}return l}function Me(i){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?cg(Object(l),!0).forEach(function(s){zw(i,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):cg(Object(l)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(l,s))})}return i}const Mw=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),Bw=()=>Headers,Lw=(i,a,l)=>{const s=Mw(l),u=Bw();return async(h,d)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:i;let y=new u(d?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),s(h,Me(Me({},d),{},{headers:y}))}};function qw(i){return i.endsWith("/")?i:i+"/"}function Hw(i,a){var l,s;const{db:u,auth:h,realtime:d,global:g}=i,{db:m,auth:y,realtime:b,global:_}=a,E={db:Me(Me({},m),u),auth:Me(Me({},y),h),realtime:Me(Me({},b),d),storage:{},global:Me(Me(Me({},_),g),{},{headers:Me(Me({},(l=_?.headers)!==null&&l!==void 0?l:{}),(s=g?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return i.accessToken?E.accessToken=i.accessToken:delete E.accessToken,E}function $w(i){const a=i?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Gw=class extends Aw{constructor(i){super(i)}},Vw=class{constructor(i,a,l){var s,u;this.supabaseUrl=i,this.supabaseKey=a;const h=$w(i);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:Cw,realtime:kw,auth:Me(Me({},Nw),{},{storageKey:d}),global:jw},m=Hw(l??{},g);if(this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=m.auth)!==null&&y!==void 0?y:{},this.headers,m.global.fetch)}this.fetch=Lw(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Sb(new URL("rest/v1",h).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new b_(this.storageUrl.href,this.headers,this.fetch,l?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new pb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,a,l)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,a,l;if(i.accessToken)return await i.accessToken();const{data:s}=await i.auth.getSession();return(a=(l=s.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:s,userStorage:u,storageKey:h,flowType:d,lock:g,debug:m,throwOnError:y},b,_){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl.href,headers:Me(Me({},E),b),storageKey:h,autoRefreshToken:i,persistSession:a,detectSessionInUrl:l,storage:s,userStorage:u,flowType:d,lock:g,debug:m,throwOnError:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new qb(this.realtimeUrl.href,Me(Me({},i),{},{params:Me(Me({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a?.access_token)})}_handleTokenChanged(i,a,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Yw=(i,a,l)=>new Vw(i,a,l);function Kw(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const a=i.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}Kw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jw="https://wybxbrutuoohiujjyfry.supabase.co",Zw="sb_publishable_f5XH0nc0vypEmY7sXOJ6kA_iqQpWYb9",wi=Yw(Jw,Zw),Pg=async(i,a="reports")=>{try{const l=i.replace(/^data:image\/\w+;base64,/,""),s=atob(l),u=new Uint8Array(s.length);for(let b=0;b<s.length;b++)u[b]=s.charCodeAt(b);const h=new Blob([u],{type:"image/jpeg"}),d=`${a}/${Date.now()}_${Math.random().toString(36).substr(2,9)}.jpg`,{data:g,error:m}=await wi.storage.from("photos").upload(d,h,{contentType:"image/jpeg",upsert:!1});if(m)throw m;const{data:y}=wi.storage.from("photos").getPublicUrl(d);return y.publicUrl}catch(l){return console.error("Error uploading photo:",l),i}},Qw=async i=>{try{const a=[];for(const u of i.conditionAlertDetails||[]){let h=u.photo;u.photo&&u.photo.startsWith("data:")&&(h=await Pg(u.photo,"condition-alerts")),a.push({...u,photo:h})}const{data:l,error:s}=await wi.from("audits").insert([{date:i.date,time:i.time,campus:i.campus,auditor:i.auditor,status:i.status,defects:i.defects,zones:i.zones,duration:i.duration,tour_ready:i.tourReady,condition_alerts_count:i.conditionAlerts,zone_results:i.zoneResults,condition_alert_details:a,campus_data:i.campusData}]).select().single();if(s)throw s;return l}catch(a){throw console.error("Error saving audit:",a),a}},Ig=async(i=50)=>{try{const{data:a,error:l}=await wi.from("audits").select("*").order("created_at",{ascending:!1}).limit(i);if(l)throw l;return(a||[]).map(s=>({id:s.id,date:s.date,time:s.time,campus:s.campus,auditor:s.auditor,status:s.status,defects:s.defects,zones:s.zones,duration:s.duration,tourReady:s.tour_ready,conditionAlerts:s.condition_alerts_count,zoneResults:s.zone_results,conditionAlertDetails:s.condition_alert_details,campusData:s.campus_data,createdAt:s.created_at}))}catch(a){return console.error("Error getting audits:",a),[]}},Xw=async i=>{try{let a=i.photo;i.photo&&i.photo.startsWith("data:")&&(a=await Pg(i.photo,"reports"));const{data:l,error:s}=await wi.from("reports").insert([{timestamp:i.timestamp,campus:i.campus,photo:a,category:i.category,location:i.location,note:i.note,urgent:i.urgent,team:i.team,status:i.status,campus_data:i.campusData}]).select().single();if(s)throw s;return l}catch(a){throw console.error("Error saving report:",a),a}},Wg=async(i=50)=>{try{const{data:a,error:l}=await wi.from("reports").select("*").order("created_at",{ascending:!1}).limit(i);if(l)throw l;return(a||[]).map(s=>({id:s.id,timestamp:s.timestamp,campus:s.campus,photo:s.photo,category:s.category,location:s.location,note:s.note,urgent:s.urgent,team:s.team,status:s.status,campusData:s.campus_data,createdAt:s.created_at}))}catch(a){return console.error("Error getting reports:",a),[]}},Nl=[{id:"cleaning",name:"Cleaning Issue",icon:"",team:"Housekeeping"},{id:"supplies",name:"Supplies Empty",icon:"",team:"Housekeeping"},{id:"spill",name:"Spill / Wet Floor",icon:"",team:"Housekeeping"},{id:"trash",name:"Trash Overflow",icon:"",team:"Housekeeping"},{id:"odor",name:"Odor Issue",icon:"",team:"Housekeeping"},{id:"plumbing",name:"Plumbing",icon:"",team:"B&G"},{id:"electrical",name:"Electrical",icon:"",team:"B&G"},{id:"hvac",name:"HVAC / Temp",icon:"",team:"B&G"},{id:"damage",name:"Building Damage",icon:"",team:"B&G"},{id:"safety",name:"Safety Hazard",icon:"",team:"Facilities Manager"},{id:"pest",name:"Pest Issue",icon:"",team:"Vendor"},{id:"other",name:"Other",icon:"",team:"Facilities Manager"}],Pw=()=>{const i=ot(),[a,l]=R.useState([]),[s,u]=R.useState([]),[h,d]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const[b,_]=await Promise.all([Ig(10),Wg(10)]);l(b),u(_)}catch(b){console.error("Error loading data:",b)}finally{d(!1)}})()},[]);const g=s.filter(y=>y.status==="open").length,m=()=>{const y=[...a.map(b=>({...b,type:"audit",sortDate:new Date(b.createdAt||b.date+" "+b.time)})),...s.map(b=>({...b,type:"report",sortDate:new Date(b.createdAt||b.timestamp)}))].sort((b,_)=>_.sortDate-b.sortDate).slice(0,5);return y.length===0?v.jsxs("div",{className:"text-center py-8 text-gray-400",children:[v.jsx("div",{className:"text-4xl mb-2",children:""}),v.jsx("p",{children:"No activity yet"})]}):v.jsx("div",{className:"space-y-3",children:y.map((b,_)=>{if(b.type==="audit")return v.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[v.jsx("span",{className:"text-2xl mr-3",children:b.status==="GREEN"?"":b.status==="AMBER"?"":""}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium",children:b.campus}),v.jsxs("div",{className:"text-sm text-gray-500",children:[b.date,"  ",b.defects," defect",b.defects!==1?"s":""]})]})]},`audit-${b.id||_}`);{const E=Nl.find(T=>T.id===b.category)||{icon:"",name:"Issue"};return v.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[v.jsx("span",{className:"text-2xl mr-3",children:E.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium",children:E.name}),v.jsx("div",{className:"text-sm text-gray-500",children:b.campus})]}),v.jsx("span",{className:`text-xs px-2 py-1 rounded ${b.status==="open"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.status})]},`report-${b.id||_}`)}})})};return v.jsxs("div",{className:"min-h-screen alpha-gradient text-white",children:[v.jsx("div",{className:"p-6 pt-8 pb-4",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:"/alpha-logo.png",alt:"Alpha School",className:"h-12 w-auto brightness-0 invert",onError:y=>{y.target.style.display="none",y.target.nextSibling.style.display="block"}}),v.jsx("div",{className:"text-2xl font-bold tracking-tight hidden",children:"ALPHA"}),v.jsx("div",{className:"ml-3 text-lg font-semibold opacity-90 tracking-wide",children:"FACILITIES"})]})}),v.jsxs("div",{className:"px-6 space-y-3",children:[v.jsxs("button",{onClick:()=>i("/report"),className:"w-full bg-red-500 hover:bg-red-600 text-white py-4 rounded-xl text-lg font-bold shadow-lg flex items-center justify-center transition-colors",children:[v.jsx("span",{className:"text-2xl mr-3",children:""}),"See It, Report It"]}),v.jsxs("button",{onClick:()=>i("/audit/setup"),className:"w-full bg-white hover:bg-gray-50 text-alpha-500 py-4 rounded-xl text-lg font-bold shadow-lg flex items-center justify-center transition-colors",children:[v.jsx("span",{className:"text-2xl mr-3",children:""}),"Daily QC Walkthrough"]})]}),v.jsx("div",{className:"px-6 py-4",children:v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("button",{onClick:()=>i("/history"),className:"bg-white/10 hover:bg-white/20 backdrop-blur p-4 rounded-xl text-left transition-colors",children:[v.jsx("div",{className:"text-3xl font-bold",children:h?"...":a.length}),v.jsx("div",{className:"text-white/70 text-sm",children:"QC Audits"})]}),v.jsxs("button",{onClick:()=>i("/reports"),className:"bg-white/10 hover:bg-white/20 backdrop-blur p-4 rounded-xl text-left transition-colors",children:[v.jsx("div",{className:"text-3xl font-bold",children:h?"...":s.length}),v.jsx("div",{className:"text-white/70 text-sm",children:"Issues Reported"}),g>0&&v.jsxs("div",{className:"text-yellow-300 text-xs mt-1",children:[g," open"]})]})]})}),v.jsxs("div",{className:"bg-white text-gray-800 rounded-t-3xl mt-2 p-6 min-h-[280px]",children:[v.jsx("h2",{className:"font-bold text-lg mb-4 text-alpha-500",children:"Recent Activity"}),h?v.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading..."}):m()]})]})},Ec=[{name:"Alpha School Austin",state:"Texas",city:"Austin",cc:"Shannon Peifer",ccEmail:"shannon.peifer@alpha.school",ccPhone:"(813) 389-0593",owner:"Aaron Crute",ownerEmail:"aaron.crute@trilogy.com",ownerPhone:"(404) 449-5043"},{name:"Alpha High School",state:"Texas",city:"Austin",cc:"Ian Huggins",ccEmail:"ian.huggins@alpha.school",ccPhone:"(971) 222-9736",owner:"Aaron Crute",ownerEmail:"aaron.crute@trilogy.com",ownerPhone:"(404) 449-5043"},{name:"Alpha School Miami",state:"Florida",city:"Miami",cc:"Maria Mejia",ccEmail:"maria.mejia@alpha.school",ccPhone:"(305) 775-3375",owner:"Tara Stephenson",ownerEmail:"tara.stephenson@trilogy.com",ownerPhone:"(704) 974-1413"},{name:"Alpha School Brownsville",state:"Texas",city:"Brownsville",cc:"Kathrine Ledesma",ccEmail:"kathrine.ledesma@alpha.school",ccPhone:"(956) 230-6648",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Texas Sports Academy",state:"Texas",city:"Austin",cc:"Cyndie Jensen",ccEmail:"cyndie.jensen@sportsacademy.school",ccPhone:"",owner:"Aaron Crute",ownerEmail:"aaron.crute@trilogy.com",ownerPhone:"(404) 449-5043"},{name:"GT School",state:"Texas",city:"Georgetown",cc:"Keith Wong",ccEmail:"keith.wong@2hourlearning.com",ccPhone:"",owner:"Tara Stephenson",ownerEmail:"tara.stephenson@trilogy.com",ownerPhone:"(704) 974-1413"},{name:"Nova Academy Austin",state:"Texas",city:"Austin",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Nova Academy Bastrop",state:"Texas",city:"Bastrop",cc:"Not Yet",ccEmail:"",ccPhone:"",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"NextGen Academy",state:"Texas",city:"Austin",cc:"Christopher Ahrens",ccEmail:"christopher.ahrens@esports.school",ccPhone:"(571) 645-9825",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Waypoint Academy",state:"Texas",city:"Dripping Springs",cc:"Natasha Lince",ccEmail:"natasha.lince@alpha.school",ccPhone:"(956) 292-5092",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Alpha School Scottsdale",state:"Arizona",city:"Scottsdale",cc:"Tetiana Vozniuk",ccEmail:"tetiana.pierson@alpha.school",ccPhone:"(503) 943-9317",owner:"Jake Petersen",ownerEmail:"jake.petersen@trilogy.com",ownerPhone:"(712) 309-1377"},{name:"Alpha School Fort Worth",state:"Texas",city:"Fort Worth",cc:"Michaela Bosco",ccEmail:"michaela.bosco@alpha.school",ccPhone:"(817) 330-9327",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Alpha School San Francisco",state:"California",city:"San Francisco",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Jake Petersen",ownerEmail:"jake.petersen@trilogy.com",ownerPhone:"(712) 309-1377"},{name:"Alpha School Palm Beach",state:"Florida",city:"Palm Beach",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Tara Stephenson",ownerEmail:"tara.stephenson@trilogy.com",ownerPhone:"(704) 974-1413"},{name:"Alpha School Plano",state:"Texas",city:"Plano",cc:"May Dobbs",ccEmail:"may.dobbs@alpha.school",ccPhone:"(972) 246-8783",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Alpha Anywhere Center",state:"New York",city:"New York",cc:"Julianne Braime",ccEmail:"julianne.braime@alpha.school",ccPhone:"(805) 559-0131",owner:"Kevin Kongslie",ownerEmail:"kevin.kongslie@trilogy.com",ownerPhone:"(609) 933-6838"},{name:"Alpha School Santa Barbara",state:"California",city:"Santa Barbara",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Jake Petersen",ownerEmail:"jake.petersen@trilogy.com",ownerPhone:"(712) 309-1377"},{name:"Alpha School Chantilly",state:"Virginia",city:"Chantilly",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Jake Petersen",ownerEmail:"jake.petersen@trilogy.com",ownerPhone:"(712) 309-1377"},{name:"Alpha School Charlotte",state:"North Carolina",city:"Charlotte",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Jake Petersen",ownerEmail:"jake.petersen@trilogy.com",ownerPhone:"(712) 309-1377"},{name:"Alpha School Lake Forest",state:"California",city:"Lake Forest",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Jake Petersen",ownerEmail:"jake.petersen@trilogy.com",ownerPhone:"(712) 309-1377"},{name:"Alpha School Raleigh",state:"North Carolina",city:"Raleigh",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Jake Petersen",ownerEmail:"jake.petersen@trilogy.com",ownerPhone:"(712) 309-1377"},{name:"Alpha School Houston",state:"Texas",city:"Houston",cc:"Not Yet",ccEmail:"",ccPhone:"",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Alpha School Tampa",state:"Florida",city:"Tampa",cc:"Not Yet",ccEmail:"",ccPhone:"",owner:"JR Houston",ownerEmail:"jr.houston@trilogy.com",ownerPhone:"(321) 890-5650"},{name:"Alpha School Orlando",state:"Florida",city:"Orlando",cc:"Not Yet",ccEmail:"",ccPhone:"",owner:"JR Houston",ownerEmail:"jr.houston@trilogy.com",ownerPhone:"(321) 890-5650"},{name:"Montessorium Cedar Park",state:"Texas",city:"Cedar Park",cc:"Hiring CC",ccEmail:"",ccPhone:"",owner:"Randall Grant",ownerEmail:"randall.grant@trilogy.com",ownerPhone:"(850) 212-6957"},{name:"Carrollton",state:"Texas",city:"Carrollton",cc:"Sara Leightman",ccEmail:"sara.leightman@sportsacademy.school",ccPhone:"(214) 392-8218",owner:"Kevin Kongslie",ownerEmail:"kevin.kongslie@trilogy.com",ownerPhone:"(609) 933-6838"}],Iw=()=>{const i={};return Ec.forEach(a=>{i[a.state]||(i[a.state]=[]),i[a.state].push(a)}),i},Fg=({value:i,onChange:a,id:l="campus"})=>{const s=Iw();return v.jsxs("select",{id:l,value:i||"",onChange:u=>a(u.target.value),className:"w-full border border-gray-300 rounded-lg p-3 text-lg bg-white",children:[v.jsx("option",{value:"",children:"Select campus..."}),Object.keys(s).sort().map(u=>v.jsx("optgroup",{label:u,children:s[u].map(h=>v.jsxs("option",{value:h.name,children:[h.name,"  ",h.city]},h.name))},u))]})},Fn=({title:i,subtitle:a,onBack:l,variant:s="default",rightContent:u})=>{const h={default:"alpha-gradient text-white",red:"bg-red-500 text-white",orange:"bg-orange-500 text-white",green:"bg-green-500 text-white"};return v.jsx("div",{className:`${h[s]} p-4`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[l&&v.jsx("button",{onClick:l,className:"text-2xl mr-3",children:""}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold",children:i}),a&&v.jsx("p",{className:`text-sm ${s==="default"?"text-white/70":`text-${s.replace("bg-","")}-100`}`,children:a})]})]}),u]})})},Ww=({audit:i})=>{const a=ot(),[l,s]=R.useState(""),[u,h]=R.useState(""),[d,g]=R.useState([]),m=b=>{g(_=>_.includes(b)?_.filter(E=>E!==b):[..._,b])},y=()=>{if(!l||!u){alert("Please select campus and enter name");return}const b=Ec.find(_=>_.name===l);i.beginAudit(b,u,d),a("/audit/overview")};return v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(Fn,{title:"Daily QC Setup",subtitle:"Select campus and zones",onBack:()=>a("/")}),v.jsxs("div",{className:"p-4 space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campus *"}),v.jsx(Fg,{value:l,onChange:s})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),v.jsx("input",{type:"text",placeholder:"Enter your name",value:u,onChange:b=>h(b.target.value),className:"w-full border border-gray-300 rounded-lg p-3 text-lg"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mandatory Zones (5)"}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-2",children:wl.map(b=>v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"text-blue-500 mr-2",children:""}),v.jsx("span",{children:wn[b].name}),!wn[b].amberEligible&&v.jsx("span",{className:"ml-auto text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:" RED"})]},b))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Optional Zones"}),v.jsx("div",{className:"space-y-2",children:cb.map(b=>v.jsxs("label",{className:"flex items-center p-3 bg-white rounded-lg border border-gray-200 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:d.includes(b),onChange:()=>m(b),className:"w-5 h-5 mr-3 accent-blue-500"}),v.jsx("span",{className:"flex-1",children:wn[b].name}),!wn[b].amberEligible&&v.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:""})]},b))})]}),v.jsx("button",{onClick:y,className:"w-full bg-alpha-500 hover:bg-alpha-600 text-white py-4 rounded-xl text-lg font-bold transition-colors",children:"Begin Walkthrough"})]})]})},hg=({zoneId:i,index:a,defects:l,isComplete:s,onClick:u})=>{const h=wn[i];return v.jsxs("button",{onClick:u,className:`w-full ${s?l===0?"bg-green-50":"bg-red-50":"bg-white"} p-4 rounded-lg border border-gray-200 flex items-center text-left`,children:[v.jsx("span",{className:`w-8 h-8 rounded-full ${s?l===0?"bg-green-500":"bg-red-500":"bg-gray-200"} text-white flex items-center justify-center mr-3 font-bold text-sm`,children:s?l===0?"":l:a+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium",children:h.name}),h.description&&v.jsx("div",{className:"text-xs text-gray-500",children:h.description})]}),!h.amberEligible&&v.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:""})]})},Fw=({audit:i})=>{const a=ot(),{campus:l,allZones:s,selectedOptionalZones:u,zoneResults:h,countDefects:d,getCompletedZonesCount:g,getNextIncompleteZoneIndex:m,setCurrentZoneIndex:y}=i,b=g(),_=j=>{y(j),a("/audit/zone")},E=()=>{if(b===s.length)a("/audit/tour-ready");else{const j=m();j>=0&&(y(j),a("/audit/zone"))}},T=()=>{window.confirm("Exit? Progress will be lost.")&&(i.resetAudit(),a("/"))};return v.jsxs("div",{className:"min-h-screen bg-gray-100 pb-24",children:[v.jsx(Fn,{title:l?.name||"Audit",subtitle:`${l?.city||""}, ${l?.state||""}`,onBack:T}),v.jsxs("div",{className:"bg-white p-4 border-b",children:[v.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[v.jsx("span",{children:"Progress"}),v.jsxs("span",{children:[b," of ",s.length," zones"]})]}),v.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-alpha-500 transition-all",style:{width:`${b/s.length*100}%`}})})]}),v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"font-bold text-gray-700 mb-3",children:"Mandatory Zones"}),v.jsx("div",{className:"space-y-2 mb-6",children:wl.map((j,O)=>v.jsx(hg,{zoneId:j,index:O,defects:d(j),isComplete:!!h[j],onClick:()=>_(O)},j))}),u.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"font-bold text-gray-700 mb-3",children:"Optional Zones"}),v.jsx("div",{className:"space-y-2",children:u.map((j,O)=>v.jsx(hg,{zoneId:j,index:wl.length+O,defects:d(j),isComplete:!!h[j],onClick:()=>_(wl.length+O)},j))})]})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4",children:v.jsxs("button",{onClick:E,className:"w-full bg-alpha-500 text-white py-4 rounded-xl text-lg font-bold",children:[b===s.length?"Final Question ":b===0?"Start First Zone":"Continue"," ",""]})})]})},eS=({audit:i})=>{const a=ot(),{currentZoneIndex:l,currentZone:s,currentZoneId:u,allZones:h,zoneResults:d,setResponse:g,isZoneComplete:m}=i,y=d[u]||{},b=Object.keys(y).length,_=s?.cleanliness?.length||0,E=m(u),T=()=>{E&&a("/audit/condition")};return v.jsxs("div",{className:"min-h-screen bg-gray-100 pb-24",children:[v.jsx("div",{className:"alpha-gradient text-white p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("button",{onClick:()=>a("/audit/overview"),className:"text-2xl",children:""}),v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-lg font-bold",children:s?.name}),v.jsxs("p",{className:"text-white/70 text-sm",children:["Zone ",l+1," of ",h.length]})]}),v.jsx("div",{className:"w-8"})]})}),v.jsx("div",{className:"h-1 bg-gray-200",children:v.jsx("div",{className:"h-full bg-alpha-500",style:{width:`${(l+1)/h.length*100}%`}})}),!s?.amberEligible&&v.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-3 m-4 rounded",children:v.jsx("div",{className:"font-medium text-red-800",children:" Any defect = RED status"})}),v.jsx("div",{className:"p-4",children:v.jsx("div",{className:"space-y-3",children:s?.cleanliness?.map((j,O)=>v.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[v.jsxs("div",{className:"text-sm mb-3",children:[O+1,". ",j]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>g(u,O,"yes"),className:`flex-1 py-2 rounded font-medium ${y[O]==="yes"?"bg-green-500 text-white":"bg-gray-100"}`,children:" Yes"}),v.jsx("button",{onClick:()=>g(u,O,"no"),className:`flex-1 py-2 rounded font-medium ${y[O]==="no"?"bg-red-500 text-white":"bg-gray-100"}`,children:" No"})]})]},O))})}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4",children:v.jsx("button",{onClick:T,disabled:!E,className:`w-full py-4 rounded-xl text-lg font-bold ${E?"bg-alpha-500 text-white":"bg-gray-300 text-gray-500"}`,children:E?"Complete Zone ":`Answer all (${b}/${_})`})})]})},tS=({audit:i,camera:a})=>{const l=ot(),{currentZoneIndex:s,currentZone:u,currentZoneId:h,allZones:d,setConditionAlert:g,updateConditionAlertPhoto:m,updateConditionAlertNote:y,canCompleteCondition:b,getConditionAlert:_,setCurrentZoneIndex:E}=i,T=_(h),j=b(h),O=()=>{a.openCamera(D=>{m(h,D)},"B&G Issue")},k=()=>{j&&(s<d.length-1?(E(s+1),l("/audit/zone")):l("/audit/overview"))};return v.jsxs("div",{className:"min-h-screen bg-gray-100 pb-24",children:[v.jsx("div",{className:"bg-orange-500 text-white p-4",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("button",{onClick:()=>l("/audit/zone"),className:"text-2xl mr-3",children:""}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold",children:"Building Check"}),v.jsx("p",{className:"text-orange-100 text-sm",children:u?.name})]})]})}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"bg-white rounded-lg p-6 shadow",children:[v.jsx("div",{className:"text-lg font-medium mb-4",children:"Any building issues to flag for B&G?"}),v.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Examples: holes in walls, broken fixtures, damaged flooring, water damage"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:()=>g(h,!1),className:`w-full p-4 rounded-lg border-2 ${T?.hasIssue===!1?"border-green-500 bg-green-50":"border-gray-200"} flex items-center`,children:[v.jsx("span",{className:"text-2xl mr-3",children:""}),v.jsx("div",{className:"font-medium",children:"No issues"})]}),v.jsxs("button",{onClick:()=>g(h,!0),className:`w-full p-4 rounded-lg border-2 ${T?.hasIssue===!0?"border-orange-500 bg-orange-50":"border-gray-200"} flex items-center`,children:[v.jsx("span",{className:"text-2xl mr-3",children:""}),v.jsxs("div",{className:"text-left",children:[v.jsx("div",{className:"font-medium",children:"Yes  flag for B&G"}),v.jsx("div",{className:"text-sm text-gray-500",children:"Photo + description required"})]})]})]})]}),T?.hasIssue===!0&&v.jsxs("div",{className:"bg-white rounded-lg p-4 shadow animate-slide-up",children:[v.jsx("div",{className:"mb-4",children:T.photo?v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:T.photo,alt:"Issue",className:"w-full rounded-lg"}),v.jsx("button",{onClick:O,className:"absolute bottom-2 right-2 bg-white px-3 py-1 rounded-lg text-sm shadow",children:" Retake"})]}):v.jsxs("button",{onClick:O,className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[v.jsx("div",{className:"text-4xl mb-2",children:""}),v.jsx("div",{className:"font-medium",children:"Tap to Take Photo"})]})}),v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe the issue *"}),v.jsx("input",{type:"text",maxLength:100,placeholder:"e.g., Hole in drywall near door",className:"w-full border border-gray-300 rounded-lg p-3",value:T.note||"",onChange:D=>y(h,D.target.value)}),v.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-right",children:[(T.note||"").length,"/100"]})]}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:v.jsx("div",{className:"text-sm text-blue-700",children:"B&G alerts are separate from cleanliness and do NOT affect your score."})})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4",children:v.jsx("button",{onClick:k,disabled:!j,className:`w-full py-4 rounded-xl text-lg font-bold ${j?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:s<d.length-1?"Next Zone ":"Finish Zones "})})]})},nS=({audit:i})=>{const a=ot(),{tourReady:l,setTourReady:s}=i;return v.jsxs("div",{className:"min-h-screen bg-gray-100 pb-24",children:[v.jsx(Fn,{title:"Final Question",onBack:()=>a("/audit/overview")}),v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 shadow",children:[v.jsx("div",{className:"text-lg font-medium mb-4",children:"Could a parent tour happen right now?"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:()=>s("yes"),className:`w-full p-4 rounded-lg border-2 ${l==="yes"?"border-green-500 bg-green-50":"border-gray-200"} flex items-center`,children:[v.jsx("span",{className:"text-2xl mr-3",children:""}),v.jsx("div",{className:"font-medium",children:"Yes  Tour Ready"})]}),v.jsxs("button",{onClick:()=>s("no"),className:`w-full p-4 rounded-lg border-2 ${l==="no"?"border-red-500 bg-red-50":"border-gray-200"} flex items-center`,children:[v.jsx("span",{className:"text-2xl mr-3",children:""}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:"No  Not Tour Ready"}),v.jsx("div",{className:"text-sm text-red-600",children:" Automatic RED"})]})]})]})]})}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4",children:v.jsx("button",{onClick:()=>a("/audit/summary"),disabled:l===null,className:`w-full py-4 rounded-xl text-lg font-bold ${l!==null?"bg-alpha-500 text-white":"bg-gray-300 text-gray-500"}`,children:"Review Summary "})})]})},aS=({audit:i})=>{const a=ot(),[l,s]=R.useState(!1),{campus:u,allZones:h,conditionAlerts:d,calculateStatus:g,countDefects:m,getTotalDefects:y,getDuration:b,buildAuditData:_}=i,E=g(),T=y(),j=b(),O=d.filter(M=>M.hasIssue).length,k={GREEN:"bg-green-500",AMBER:"bg-yellow-500",RED:"bg-red-500"},D={GREEN:"",AMBER:"",RED:""},q=async()=>{s(!0);try{const M=_();await Qw(M),a("/audit/complete")}catch(M){console.error("Error submitting audit:",M),alert("Error submitting audit. Please try again.")}finally{s(!1)}};return v.jsxs("div",{className:"min-h-screen bg-gray-100 pb-24",children:[v.jsxs("div",{className:`${k[E]} text-white p-6 text-center`,children:[v.jsx("div",{className:"text-5xl mb-2",children:D[E]}),v.jsx("div",{className:"text-3xl font-bold",children:E}),v.jsx("div",{className:"opacity-90",children:u?.name||""})]}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("div",{className:"bg-white p-3 rounded-lg shadow text-center",children:[v.jsx("div",{className:"text-xl font-bold",children:h.length}),v.jsx("div",{className:"text-xs text-gray-500",children:"Zones"})]}),v.jsxs("div",{className:"bg-white p-3 rounded-lg shadow text-center",children:[v.jsx("div",{className:`text-xl font-bold ${T>0?"text-red-500":"text-green-500"}`,children:T}),v.jsx("div",{className:"text-xs text-gray-500",children:"Defects"})]}),v.jsxs("div",{className:"bg-white p-3 rounded-lg shadow text-center",children:[v.jsxs("div",{className:"text-xl font-bold",children:[j,"m"]}),v.jsx("div",{className:"text-xs text-gray-500",children:"Duration"})]})]}),v.jsx("div",{className:"bg-white rounded-lg shadow divide-y",children:h.map(M=>{const Z=wn[M],te=m(M);return v.jsxs("div",{className:"p-3 flex items-center",children:[v.jsx("span",{className:`w-7 h-7 rounded-full ${te===0?"bg-green-100 text-green-600":"bg-red-100 text-red-600"} flex items-center justify-center mr-3 font-bold text-sm`,children:te===0?"":te}),v.jsx("span",{className:"flex-1 text-sm",children:Z.name})]},M)})}),O>0&&v.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[v.jsxs("div",{className:"font-bold text-orange-800 mb-1",children:[" ",O," B&G Issue(s) Flagged"]}),v.jsx("div",{className:"text-sm text-orange-700",children:"Will be sent to B&G team"})]})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4",children:v.jsx("button",{onClick:q,disabled:l,className:"w-full bg-alpha-500 text-white py-4 rounded-xl text-lg font-bold disabled:bg-gray-400",children:l?"Submitting...":" Submit Audit"})})]})},iS=({audit:i})=>{const a=ot(),{campus:l,calculateStatus:s,resetAudit:u}=i,h=s(),d={GREEN:"bg-green-500",AMBER:"bg-yellow-500",RED:"bg-red-500"},g=()=>{u(),a("/")};return v.jsxs("div",{className:`min-h-screen ${d[h]} flex flex-col items-center justify-center p-8 text-white text-center`,children:[v.jsx("div",{className:"text-8xl mb-6",children:""}),v.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Submitted!"}),v.jsx("div",{className:"text-5xl font-bold my-4",children:h}),v.jsx("p",{className:"opacity-90 mb-8",children:l?.name||""}),v.jsx("button",{onClick:g,className:"bg-white text-gray-800 px-8 py-3 rounded-lg font-bold",children:"Done"})]})},lS=()=>{const i=ot(),[a,l]=R.useState([]),[s,u]=R.useState(!0);return R.useEffect(()=>{(async()=>{try{const d=await Ig(50);l(d)}catch(d){console.error("Error loading audits:",d)}finally{u(!1)}})()},[]),v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(Fn,{title:"Audit History",onBack:()=>i("/")}),v.jsx("div",{className:"p-4",children:s?v.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading..."}):a.length===0?v.jsxs("div",{className:"text-center py-12 text-gray-400",children:[v.jsx("div",{className:"text-5xl mb-4",children:""}),v.jsx("p",{children:"No audits yet"})]}):v.jsx("div",{className:"space-y-3",children:a.map((h,d)=>v.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"text-2xl mr-3",children:h.status==="GREEN"?"":h.status==="AMBER"?"":""}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-bold",children:h.campus}),v.jsxs("div",{className:"text-sm text-gray-500",children:[h.date,"  ",h.auditor]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:`font-bold ${h.status==="GREEN"?"text-green-600":h.status==="AMBER"?"text-yellow-600":"text-red-600"}`,children:h.status}),v.jsxs("div",{className:"text-sm text-gray-500",children:[h.defects," defect",h.defects!==1?"s":""]})]})]})},h.id||d))})})]})},rS=({report:i,camera:a})=>{const l=ot(),[s,u]=R.useState(""),h=()=>{if(!s){alert("Please select a campus first");return}const d=Ec.find(g=>g.name===s);i.setCampus(d),a.openCamera(g=>{i.setPhoto(g),l("/report/photo")},"Capture Issue")};return v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(Fn,{title:"See It, Report It",subtitle:"Report a facility issue",variant:"red",onBack:()=>l("/")}),v.jsx("div",{className:"p-4 space-y-4",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 shadow text-center",children:[v.jsx("div",{className:"text-6xl mb-4",children:""}),v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Snap a Photo"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Take a photo of the issue and we'll route it to the right team."}),v.jsxs("div",{className:"space-y-3 mb-6 text-left",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Campus *"}),v.jsx(Fg,{id:"reportCampus",value:s,onChange:u})]}),v.jsx("button",{onClick:h,className:"w-full bg-red-500 text-white py-4 rounded-xl text-lg font-bold",children:" Take Photo"})]})})]})},sS=({report:i,camera:a})=>{const l=ot(),{campus:s,photo:u}=i,h=()=>{a.openCamera(d=>{i.setPhoto(d)},"Capture Issue")};return v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(Fn,{title:"Review Photo",subtitle:s?.name||"",variant:"red",onBack:()=>l("/report")}),v.jsx("div",{className:"p-4 space-y-4",children:u?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"rounded-lg overflow-hidden shadow",children:v.jsx("img",{src:u,alt:"Issue photo",className:"w-full"})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:h,className:"flex-1 bg-gray-200 py-3 rounded-lg font-medium",children:" Retake"}),v.jsx("button",{onClick:()=>l("/report/details"),className:"flex-1 bg-red-500 text-white py-3 rounded-lg font-medium",children:"Continue "})]})]}):v.jsxs("div",{className:"bg-white rounded-lg p-12 text-center text-gray-400",children:[v.jsx("div",{className:"text-6xl mb-4",children:""}),v.jsx("p",{children:"No photo captured"}),v.jsx("button",{onClick:h,className:"mt-4 bg-red-500 text-white px-6 py-2 rounded-lg",children:"Take Photo"})]})})]})},oS=({report:i})=>{const a=ot(),[l,s]=R.useState(!1),{campus:u,photo:h,category:d,location:g,note:m,urgent:y,setCategory:b,setLocation:_,setNote:E,setUrgent:T}=i,j=h&&d&&g,O=Nl.find(D=>D.id===d),k=async()=>{if(j){s(!0);try{await Xw({timestamp:new Date().toLocaleString(),campus:u?.name||"",photo:h,category:d,location:g,note:m,urgent:y,team:O?.team||"Facilities",status:"open",campusData:u}),a("/report/complete")}catch(D){console.error("Error submitting report:",D),alert("Error submitting report. Please try again.")}finally{s(!1)}}};return v.jsxs("div",{className:"min-h-screen bg-gray-100 pb-24",children:[v.jsx(Fn,{title:"Issue Details",subtitle:u?.name||"",variant:"red",onBack:()=>a("/report/photo")}),v.jsxs("div",{className:"p-4 space-y-4",children:[h&&v.jsxs("div",{className:"flex items-center bg-white rounded-lg p-3 shadow",children:[v.jsx("img",{src:h,alt:"Issue",className:"w-16 h-16 object-cover rounded mr-3"}),v.jsx("div",{className:"text-sm text-gray-600",children:"Photo captured "})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of issue? *"}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:Nl.map(D=>v.jsxs("button",{onClick:()=>b(D.id),className:`p-3 rounded-lg border-2 text-center ${d===D.id?"border-red-500 bg-red-50":"border-gray-200 bg-white"}`,children:[v.jsx("div",{className:"text-2xl mb-1",children:D.icon}),v.jsx("div",{className:"text-xs",children:D.name})]},D.id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),v.jsx("input",{type:"text",value:g,onChange:D=>_(D.target.value),placeholder:"e.g., 2nd floor restroom, Room 204",className:"w-full border border-gray-300 rounded-lg p-3"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),v.jsx("textarea",{value:m,onChange:D=>E(D.target.value),placeholder:"Any additional details...",className:"w-full border border-gray-300 rounded-lg p-3",rows:2})]}),v.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:v.jsxs("label",{className:"flex items-center cursor-pointer",onClick:()=>T(!y),children:[v.jsx("div",{className:`w-12 h-6 rounded-full mr-3 ${y?"bg-red-500":"bg-gray-300"}`,children:v.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transform transition-transform ${y?"translate-x-6":"translate-x-1"}`,style:{marginTop:"2px"}})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:" Urgent / Safety"}),v.jsx("div",{className:"text-sm text-gray-500",children:"Requires immediate attention"})]})]})}),d&&v.jsx("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:v.jsxs("div",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Routes to:"})," ",O?.team||"Facilities"]})})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4",children:v.jsx("button",{onClick:k,disabled:!j||l,className:`w-full py-4 rounded-xl text-lg font-bold ${j&&!l?"bg-red-500 text-white":"bg-gray-300 text-gray-500"}`,children:l?"Submitting...":y?" Submit Urgent":" Submit Report"})})]})},uS=({report:i})=>{const a=ot(),{campus:l,category:s,location:u,resetReport:h}=i,d=Nl.find(m=>m.id===s),g=()=>{h(),a("/")};return v.jsxs("div",{className:"min-h-screen bg-green-500 flex flex-col items-center justify-center p-8 text-white text-center",children:[v.jsx("div",{className:"text-8xl mb-6",children:""}),v.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Submitted!"}),v.jsxs("p",{className:"text-lg opacity-90 mb-4",children:[d?.team||"Facilities"," notified"]}),v.jsxs("div",{className:"bg-white/20 rounded-lg p-4 mb-8 w-full max-w-sm text-left",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("span",{className:"text-2xl mr-2",children:d?.icon||""}),v.jsx("span",{className:"font-bold",children:d?.name||"Issue"})]}),v.jsx("div",{className:"text-sm opacity-90",children:l?.name||""}),v.jsx("div",{className:"text-sm opacity-90",children:u})]}),v.jsx("button",{onClick:g,className:"bg-white text-green-600 px-8 py-3 rounded-lg font-bold",children:"Done"})]})},cS=()=>{const i=ot(),[a,l]=R.useState([]),[s,u]=R.useState(!0);return R.useEffect(()=>{(async()=>{try{const d=await Wg(50);l(d)}catch(d){console.error("Error loading reports:",d)}finally{u(!1)}})()},[]),v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(Fn,{title:"Reported Issues",variant:"red",onBack:()=>i("/")}),v.jsx("div",{className:"p-4",children:s?v.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading..."}):a.length===0?v.jsxs("div",{className:"text-center py-12 text-gray-400",children:[v.jsx("div",{className:"text-5xl mb-4",children:""}),v.jsx("p",{children:"No issues reported"})]}):v.jsx("div",{className:"space-y-3",children:a.map((h,d)=>{const g=Nl.find(m=>m.id===h.category)||{icon:"",name:"Issue"};return v.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:v.jsxs("div",{className:"flex items-start",children:[h.photo&&v.jsx("img",{src:h.photo,alt:"Issue",className:"w-16 h-16 object-cover rounded mr-3"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsxs("span",{className:"font-bold",children:[g.icon," ",g.name]}),v.jsx("span",{className:`text-xs px-2 py-1 rounded ${h.status==="open"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:h.status})]}),v.jsx("div",{className:"text-sm text-gray-600",children:h.campus}),v.jsx("div",{className:"text-sm text-gray-500",children:h.location}),v.jsx("div",{className:"text-xs text-gray-400 mt-1",children:h.timestamp})]})]})},h.id||d)})})})]})};function hS(){const i=ub(),a=hb(),l=db();return v.jsxs(F0,{children:[v.jsx("input",{type:"file",ref:i.fileInputRef,accept:"image/*",capture:"environment",className:"hidden",onChange:i.handleFileSelect}),v.jsx(fb,{isOpen:i.isOpen,label:i.label,videoRef:i.videoRef,canvasRef:i.canvasRef,onCapture:i.capturePhoto,onClose:i.closeCamera}),v.jsxs(j0,{children:[v.jsx(st,{path:"/",element:v.jsx(Pw,{})}),v.jsx(st,{path:"/audit/setup",element:v.jsx(Ww,{audit:a})}),v.jsx(st,{path:"/audit/overview",element:v.jsx(Fw,{audit:a})}),v.jsx(st,{path:"/audit/zone",element:v.jsx(eS,{audit:a})}),v.jsx(st,{path:"/audit/condition",element:v.jsx(tS,{audit:a,camera:i})}),v.jsx(st,{path:"/audit/tour-ready",element:v.jsx(nS,{audit:a})}),v.jsx(st,{path:"/audit/summary",element:v.jsx(aS,{audit:a})}),v.jsx(st,{path:"/audit/complete",element:v.jsx(iS,{audit:a})}),v.jsx(st,{path:"/history",element:v.jsx(lS,{})}),v.jsx(st,{path:"/report",element:v.jsx(rS,{report:l,camera:i})}),v.jsx(st,{path:"/report/photo",element:v.jsx(sS,{report:l,camera:i})}),v.jsx(st,{path:"/report/details",element:v.jsx(oS,{report:l})}),v.jsx(st,{path:"/report/complete",element:v.jsx(uS,{report:l})}),v.jsx(st,{path:"/reports",element:v.jsx(cS,{})})]})]})}kv.createRoot(document.getElementById("root")).render(v.jsx(R.StrictMode,{children:v.jsx(hS,{})}));
